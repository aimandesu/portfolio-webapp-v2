var xL=Object.defineProperty;var FA=i=>{throw TypeError(i)};var _L=(i,t,e)=>t in i?xL(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var lt=(i,t,e)=>_L(i,typeof t!="symbol"?t+"":t,e),U0=(i,t,e)=>t.has(i)||FA("Cannot "+e);var d=(i,t,e)=>(U0(i,t,"read from private field"),e?e.call(i):t.get(i)),T=(i,t,e)=>t.has(i)?FA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),E=(i,t,e,n)=>(U0(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e),C=(i,t,e)=>(U0(i,t,"access private method"),e);var Je=(i,t,e,n)=>({set _(s){E(i,t,s,e)},get _(){return d(i,t,n)}});function SL(i,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in i)){const r=Object.getOwnPropertyDescriptor(n,s);r&&Object.defineProperty(i,s,r.get?r:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();function oC(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var V0={exports:{}},fd={},$0={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA;function AL(){if(NA)return Ht;NA=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function A(z,Y,ut){this.props=z,this.context=Y,this.refs=x,this.updater=ut||b}A.prototype.isReactComponent={},A.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},A.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function S(){}S.prototype=A.prototype;function P(z,Y,ut){this.props=z,this.context=Y,this.refs=x,this.updater=ut||b}var R=P.prototype=new S;R.constructor=P,w(R,A.prototype),R.isPureReactComponent=!0;var M=Array.isArray,I=Object.prototype.hasOwnProperty,F={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function N(z,Y,ut){var ft,At={},mt=null,dt=null;if(Y!=null)for(ft in Y.ref!==void 0&&(dt=Y.ref),Y.key!==void 0&&(mt=""+Y.key),Y)I.call(Y,ft)&&!j.hasOwnProperty(ft)&&(At[ft]=Y[ft]);var Et=arguments.length-2;if(Et===1)At.children=ut;else if(1<Et){for(var Mt=Array(Et),Pt=0;Pt<Et;Pt++)Mt[Pt]=arguments[Pt+2];At.children=Mt}if(z&&z.defaultProps)for(ft in Et=z.defaultProps,Et)At[ft]===void 0&&(At[ft]=Et[ft]);return{$$typeof:i,type:z,key:mt,ref:dt,props:At,_owner:F.current}}function W(z,Y){return{$$typeof:i,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function $(z){return typeof z=="object"&&z!==null&&z.$$typeof===i}function G(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ut){return Y[ut]})}var K=/\/+/g;function rt(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?G(""+z.key):Y.toString(36)}function ot(z,Y,ut,ft,At){var mt=typeof z;(mt==="undefined"||mt==="boolean")&&(z=null);var dt=!1;if(z===null)dt=!0;else switch(mt){case"string":case"number":dt=!0;break;case"object":switch(z.$$typeof){case i:case t:dt=!0}}if(dt)return dt=z,At=At(dt),z=ft===""?"."+rt(dt,0):ft,M(At)?(ut="",z!=null&&(ut=z.replace(K,"$&/")+"/"),ot(At,Y,ut,"",function(Pt){return Pt})):At!=null&&($(At)&&(At=W(At,ut+(!At.key||dt&&dt.key===At.key?"":(""+At.key).replace(K,"$&/")+"/")+z)),Y.push(At)),1;if(dt=0,ft=ft===""?".":ft+":",M(z))for(var Et=0;Et<z.length;Et++){mt=z[Et];var Mt=ft+rt(mt,Et);dt+=ot(mt,Y,ut,Mt,At)}else if(Mt=y(z),typeof Mt=="function")for(z=Mt.call(z),Et=0;!(mt=z.next()).done;)mt=mt.value,Mt=ft+rt(mt,Et++),dt+=ot(mt,Y,ut,Mt,At);else if(mt==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return dt}function nt(z,Y,ut){if(z==null)return z;var ft=[],At=0;return ot(z,ft,"","",function(mt){return Y.call(ut,mt,At++)}),ft}function J(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(ut){(z._status===0||z._status===-1)&&(z._status=1,z._result=ut)},function(ut){(z._status===0||z._status===-1)&&(z._status=2,z._result=ut)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var Q={current:null},X={transition:null},et={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:X,ReactCurrentOwner:F};function it(){throw Error("act(...) is not supported in production builds of React.")}return Ht.Children={map:nt,forEach:function(z,Y,ut){nt(z,function(){Y.apply(this,arguments)},ut)},count:function(z){var Y=0;return nt(z,function(){Y++}),Y},toArray:function(z){return nt(z,function(Y){return Y})||[]},only:function(z){if(!$(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ht.Component=A,Ht.Fragment=e,Ht.Profiler=s,Ht.PureComponent=P,Ht.StrictMode=n,Ht.Suspense=u,Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=et,Ht.act=it,Ht.cloneElement=function(z,Y,ut){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ft=w({},z.props),At=z.key,mt=z.ref,dt=z._owner;if(Y!=null){if(Y.ref!==void 0&&(mt=Y.ref,dt=F.current),Y.key!==void 0&&(At=""+Y.key),z.type&&z.type.defaultProps)var Et=z.type.defaultProps;for(Mt in Y)I.call(Y,Mt)&&!j.hasOwnProperty(Mt)&&(ft[Mt]=Y[Mt]===void 0&&Et!==void 0?Et[Mt]:Y[Mt])}var Mt=arguments.length-2;if(Mt===1)ft.children=ut;else if(1<Mt){Et=Array(Mt);for(var Pt=0;Pt<Mt;Pt++)Et[Pt]=arguments[Pt+2];ft.children=Et}return{$$typeof:i,type:z.type,key:At,ref:mt,props:ft,_owner:dt}},Ht.createContext=function(z){return z={$$typeof:a,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:r,_context:z},z.Consumer=z},Ht.createElement=N,Ht.createFactory=function(z){var Y=N.bind(null,z);return Y.type=z,Y},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(z){return{$$typeof:c,render:z}},Ht.isValidElement=$,Ht.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:J}},Ht.memo=function(z,Y){return{$$typeof:h,type:z,compare:Y===void 0?null:Y}},Ht.startTransition=function(z){var Y=X.transition;X.transition={};try{z()}finally{X.transition=Y}},Ht.unstable_act=it,Ht.useCallback=function(z,Y){return Q.current.useCallback(z,Y)},Ht.useContext=function(z){return Q.current.useContext(z)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(z){return Q.current.useDeferredValue(z)},Ht.useEffect=function(z,Y){return Q.current.useEffect(z,Y)},Ht.useId=function(){return Q.current.useId()},Ht.useImperativeHandle=function(z,Y,ut){return Q.current.useImperativeHandle(z,Y,ut)},Ht.useInsertionEffect=function(z,Y){return Q.current.useInsertionEffect(z,Y)},Ht.useLayoutEffect=function(z,Y){return Q.current.useLayoutEffect(z,Y)},Ht.useMemo=function(z,Y){return Q.current.useMemo(z,Y)},Ht.useReducer=function(z,Y,ut){return Q.current.useReducer(z,Y,ut)},Ht.useRef=function(z){return Q.current.useRef(z)},Ht.useState=function(z){return Q.current.useState(z)},Ht.useSyncExternalStore=function(z,Y,ut){return Q.current.useSyncExternalStore(z,Y,ut)},Ht.useTransition=function(){return Q.current.useTransition()},Ht.version="18.3.1",Ht}var jA;function ax(){return jA||(jA=1,$0.exports=AL()),$0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zA;function EL(){if(zA)return fd;zA=1;var i=ax(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,h){var p,g={},y=null,b=null;h!==void 0&&(y=""+h),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(b=u.ref);for(p in u)n.call(u,p)&&!r.hasOwnProperty(p)&&(g[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)g[p]===void 0&&(g[p]=u[p]);return{$$typeof:t,type:c,key:y,ref:b,props:g,_owner:s.current}}return fd.Fragment=e,fd.jsx=a,fd.jsxs=a,fd}var HA;function CL(){return HA||(HA=1,V0.exports=EL()),V0.exports}var O=CL(),D=ax();const oi=oC(D),kL=SL({__proto__:null,default:oi},[D]);var Jg={},G0={exports:{}},Qn={},X0={exports:{}},q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA;function TL(){return BA||(BA=1,function(i){function t(X,et){var it=X.length;X.push(et);t:for(;0<it;){var z=it-1>>>1,Y=X[z];if(0<s(Y,et))X[z]=et,X[it]=Y,it=z;else break t}}function e(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var et=X[0],it=X.pop();if(it!==et){X[0]=it;t:for(var z=0,Y=X.length,ut=Y>>>1;z<ut;){var ft=2*(z+1)-1,At=X[ft],mt=ft+1,dt=X[mt];if(0>s(At,it))mt<Y&&0>s(dt,At)?(X[z]=dt,X[mt]=it,z=mt):(X[z]=At,X[ft]=it,z=ft);else if(mt<Y&&0>s(dt,it))X[z]=dt,X[mt]=it,z=mt;else break t}}return et}function s(X,et){var it=X.sortIndex-et.sortIndex;return it!==0?it:X.id-et.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var a=Date,c=a.now();i.unstable_now=function(){return a.now()-c}}var u=[],h=[],p=1,g=null,y=3,b=!1,w=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(X){for(var et=e(h);et!==null;){if(et.callback===null)n(h);else if(et.startTime<=X)n(h),et.sortIndex=et.expirationTime,t(u,et);else break;et=e(h)}}function M(X){if(x=!1,R(X),!w)if(e(u)!==null)w=!0,J(I);else{var et=e(h);et!==null&&Q(M,et.startTime-X)}}function I(X,et){w=!1,x&&(x=!1,S(N),N=-1),b=!0;var it=y;try{for(R(et),g=e(u);g!==null&&(!(g.expirationTime>et)||X&&!G());){var z=g.callback;if(typeof z=="function"){g.callback=null,y=g.priorityLevel;var Y=z(g.expirationTime<=et);et=i.unstable_now(),typeof Y=="function"?g.callback=Y:g===e(u)&&n(u),R(et)}else n(u);g=e(u)}if(g!==null)var ut=!0;else{var ft=e(h);ft!==null&&Q(M,ft.startTime-et),ut=!1}return ut}finally{g=null,y=it,b=!1}}var F=!1,j=null,N=-1,W=5,$=-1;function G(){return!(i.unstable_now()-$<W)}function K(){if(j!==null){var X=i.unstable_now();$=X;var et=!0;try{et=j(!0,X)}finally{et?rt():(F=!1,j=null)}}else F=!1}var rt;if(typeof P=="function")rt=function(){P(K)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,nt=ot.port2;ot.port1.onmessage=K,rt=function(){nt.postMessage(null)}}else rt=function(){A(K,0)};function J(X){j=X,F||(F=!0,rt())}function Q(X,et){N=A(function(){X(i.unstable_now())},et)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_continueExecution=function(){w||b||(w=!0,J(I))},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_getFirstCallbackNode=function(){return e(u)},i.unstable_next=function(X){switch(y){case 1:case 2:case 3:var et=3;break;default:et=y}var it=y;y=et;try{return X()}finally{y=it}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(X,et){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var it=y;y=X;try{return et()}finally{y=it}},i.unstable_scheduleCallback=function(X,et,it){var z=i.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?z+it:z):it=z,X){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=it+Y,X={id:p++,callback:et,priorityLevel:X,startTime:it,expirationTime:Y,sortIndex:-1},it>z?(X.sortIndex=it,t(h,X),e(u)===null&&X===e(h)&&(x?(S(N),N=-1):x=!0,Q(M,it-z))):(X.sortIndex=Y,t(u,X),w||b||(w=!0,J(I))),X},i.unstable_shouldYield=G,i.unstable_wrapCallback=function(X){var et=y;return function(){var it=y;y=et;try{return X.apply(this,arguments)}finally{y=it}}}}(q0)),q0}var WA;function PL(){return WA||(WA=1,X0.exports=TL()),X0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA;function RL(){if(UA)return Qn;UA=1;var i=ax(),t=PL();function e(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function r(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(s[o]=l,o=0;o<l.length;o++)n.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(o){return u.call(g,o)?!0:u.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function b(o,l,f,m){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function w(o,l,f,m){if(l===null||typeof l>"u"||b(o,l,f,m))return!0;if(m)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function x(o,l,f,m,v,_,k){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=f,this.propertyName=o,this.type=l,this.sanitizeURL=_,this.removeEmptyString=k}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){A[o]=new x(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];A[l]=new x(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){A[o]=new x(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){A[o]=new x(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){A[o]=new x(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){A[o]=new x(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){A[o]=new x(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){A[o]=new x(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){A[o]=new x(o,5,!1,o.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function P(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(S,P);A[l]=new x(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(S,P);A[l]=new x(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(S,P);A[l]=new x(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){A[o]=new x(o,1,!1,o.toLowerCase(),null,!1,!1)}),A.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){A[o]=new x(o,1,!1,o.toLowerCase(),null,!0,!0)});function R(o,l,f,m){var v=A.hasOwnProperty(l)?A[l]:null;(v!==null?v.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,f,v,m)&&(f=null),m||v===null?y(l)&&(f===null?o.removeAttribute(l):o.setAttribute(l,""+f)):v.mustUseProperty?o[v.propertyName]=f===null?v.type===3?!1:"":f:(l=v.attributeName,m=v.attributeNamespace,f===null?o.removeAttribute(l):(v=v.type,f=v===3||v===4&&f===!0?"":""+f,m?o.setAttributeNS(m,l,f):o.setAttribute(l,f))))}var M=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),F=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),G=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),X=Symbol.iterator;function et(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var it=Object.assign,z;function Y(o){if(z===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||""}return`
`+z+o}var ut=!1;function ft(o,l){if(!o||ut)return"";ut=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(q){var m=q}Reflect.construct(o,[],l)}else{try{l.call()}catch(q){m=q}o.call(l.prototype)}else{try{throw Error()}catch(q){m=q}o()}}catch(q){if(q&&m&&typeof q.stack=="string"){for(var v=q.stack.split(`
`),_=m.stack.split(`
`),k=v.length-1,L=_.length-1;1<=k&&0<=L&&v[k]!==_[L];)L--;for(;1<=k&&0<=L;k--,L--)if(v[k]!==_[L]){if(k!==1||L!==1)do if(k--,L--,0>L||v[k]!==_[L]){var H=`
`+v[k].replace(" at new "," at ");return o.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",o.displayName)),H}while(1<=k&&0<=L);break}}}finally{ut=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?Y(o):""}function At(o){switch(o.tag){case 5:return Y(o.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return o=ft(o.type,!1),o;case 11:return o=ft(o.type.render,!1),o;case 1:return o=ft(o.type,!0),o;default:return""}}function mt(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case j:return"Fragment";case F:return"Portal";case W:return"Profiler";case N:return"StrictMode";case rt:return"Suspense";case ot:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case G:return(o.displayName||"Context")+".Consumer";case $:return(o._context.displayName||"Context")+".Provider";case K:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case nt:return l=o.displayName||null,l!==null?l:mt(o.type)||"Memo";case J:l=o._payload,o=o._init;try{return mt(o(l))}catch{}}return null}function dt(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mt(l);case 8:return l===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Et(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Mt(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Pt(o){var l=Mt(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,_=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return v.call(this)},set:function(k){m=""+k,_.call(this,k)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(k){m=""+k},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Gt(o){o._valueTracker||(o._valueTracker=Pt(o))}function vt(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),m="";return o&&(m=Mt(o)?o.checked?"true":"false":o.value),o=m,o!==f?(l.setValue(o),!0):!1}function _t(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Lt(o,l){var f=l.checked;return it({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function Ut(o,l){var f=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;f=Et(l.value!=null?l.value:f),o._wrapperState={initialChecked:m,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function qt(o,l){l=l.checked,l!=null&&R(o,"checked",l,!1)}function De(o,l){qt(o,l);var f=Et(l.value),m=l.type;if(f!=null)m==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?$n(o,l.type,f):l.hasOwnProperty("defaultValue")&&$n(o,l.type,Et(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function vn(o,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,f||l===o.value||(o.value=l),o.defaultValue=l}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function $n(o,l,f){(l!=="number"||_t(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var Dn=Array.isArray;function an(o,l,f,m){if(o=o.options,l){l={};for(var v=0;v<f.length;v++)l["$"+f[v]]=!0;for(f=0;f<o.length;f++)v=l.hasOwnProperty("$"+o[f].value),o[f].selected!==v&&(o[f].selected=v),v&&m&&(o[f].defaultSelected=!0)}else{for(f=""+Et(f),l=null,v=0;v<o.length;v++){if(o[v].value===f){o[v].selected=!0,m&&(o[v].defaultSelected=!0);return}l!==null||o[v].disabled||(l=o[v])}l!==null&&(l.selected=!0)}}function ar(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(e(91));return it({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ao(o,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(e(92));if(Dn(f)){if(1<f.length)throw Error(e(93));f=f[0]}l=f}l==null&&(l=""),f=l}o._wrapperState={initialValue:Et(f)}}function Aa(o,l){var f=Et(l.value),m=Et(l.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),l.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),m!=null&&(o.defaultValue=""+m)}function Ea(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function vc(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hi(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?vc(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Qi,Ji=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,m,v){MSApp.execUnsafeLocalFunction(function(){return o(l,f,m,v)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Qi=Qi||document.createElement("div"),Qi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Qi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function bn(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ah=["Webkit","ms","Moz","O"];Object.keys(lr).forEach(function(o){Ah.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),lr[l]=lr[o]})});function Ca(o,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||lr.hasOwnProperty(o)&&lr[o]?(""+l).trim():l+"px"}function Wp(o,l){o=o.style;for(var f in l)if(l.hasOwnProperty(f)){var m=f.indexOf("--")===0,v=Ca(f,l[f],m);f==="float"&&(f="cssFloat"),m?o.setProperty(f,v):o[f]=v}}var rv=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eh(o,l){if(l){if(rv[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(e(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(e(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(e(61))}if(l.style!=null&&typeof l.style!="object")throw Error(e(62))}}function Ch(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kh=null;function bc(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Th=null,cr=null,ur=null;function Ph(o){if(o=Jh(o)){if(typeof Th!="function")throw Error(e(280));var l=o.stateNode;l&&(l=fg(l),Th(o.stateNode,o.type,l))}}function Up(o){cr?ur?ur.push(o):ur=[o]:cr=o}function Rh(){if(cr){var o=cr,l=ur;if(ur=cr=null,Ph(o),l)for(o=0;o<l.length;o++)Ph(l[o])}}function Vp(o,l){return o(l)}function i_(){}var ov=!1;function s_(o,l,f){if(ov)return o(l,f);ov=!0;try{return Vp(o,l,f)}finally{ov=!1,(cr!==null||ur!==null)&&(i_(),Rh())}}function Mh(o,l){var f=o.stateNode;if(f===null)return null;var m=fg(f);if(m===null)return null;f=m[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break t;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(e(231,l,typeof f));return f}var av=!1;if(c)try{var Lh={};Object.defineProperty(Lh,"passive",{get:function(){av=!0}}),window.addEventListener("test",Lh,Lh),window.removeEventListener("test",Lh,Lh)}catch{av=!1}function TR(o,l,f,m,v,_,k,L,H){var q=Array.prototype.slice.call(arguments,3);try{l.apply(f,q)}catch(tt){this.onError(tt)}}var Ih=!1,$p=null,Gp=!1,lv=null,PR={onError:function(o){Ih=!0,$p=o}};function RR(o,l,f,m,v,_,k,L,H){Ih=!1,$p=null,TR.apply(PR,arguments)}function MR(o,l,f,m,v,_,k,L,H){if(RR.apply(this,arguments),Ih){if(Ih){var q=$p;Ih=!1,$p=null}else throw Error(e(198));Gp||(Gp=!0,lv=q)}}function ka(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,l.flags&4098&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function r_(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function o_(o){if(ka(o)!==o)throw Error(e(188))}function LR(o){var l=o.alternate;if(!l){if(l=ka(o),l===null)throw Error(e(188));return l!==o?null:o}for(var f=o,m=l;;){var v=f.return;if(v===null)break;var _=v.alternate;if(_===null){if(m=v.return,m!==null){f=m;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===f)return o_(v),o;if(_===m)return o_(v),l;_=_.sibling}throw Error(e(188))}if(f.return!==m.return)f=v,m=_;else{for(var k=!1,L=v.child;L;){if(L===f){k=!0,f=v,m=_;break}if(L===m){k=!0,m=v,f=_;break}L=L.sibling}if(!k){for(L=_.child;L;){if(L===f){k=!0,f=_,m=v;break}if(L===m){k=!0,m=_,f=v;break}L=L.sibling}if(!k)throw Error(e(189))}}if(f.alternate!==m)throw Error(e(190))}if(f.tag!==3)throw Error(e(188));return f.stateNode.current===f?o:l}function a_(o){return o=LR(o),o!==null?l_(o):null}function l_(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=l_(o);if(l!==null)return l;o=o.sibling}return null}var c_=t.unstable_scheduleCallback,u_=t.unstable_cancelCallback,IR=t.unstable_shouldYield,DR=t.unstable_requestPaint,Pe=t.unstable_now,OR=t.unstable_getCurrentPriorityLevel,cv=t.unstable_ImmediatePriority,h_=t.unstable_UserBlockingPriority,Xp=t.unstable_NormalPriority,FR=t.unstable_LowPriority,d_=t.unstable_IdlePriority,qp=null,ks=null;function NR(o){if(ks&&typeof ks.onCommitFiberRoot=="function")try{ks.onCommitFiberRoot(qp,o,void 0,(o.current.flags&128)===128)}catch{}}var Zi=Math.clz32?Math.clz32:HR,jR=Math.log,zR=Math.LN2;function HR(o){return o>>>=0,o===0?32:31-(jR(o)/zR|0)|0}var Yp=64,Kp=4194304;function Dh(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Qp(o,l){var f=o.pendingLanes;if(f===0)return 0;var m=0,v=o.suspendedLanes,_=o.pingedLanes,k=f&268435455;if(k!==0){var L=k&~v;L!==0?m=Dh(L):(_&=k,_!==0&&(m=Dh(_)))}else k=f&~v,k!==0?m=Dh(k):_!==0&&(m=Dh(_));if(m===0)return 0;if(l!==0&&l!==m&&!(l&v)&&(v=m&-m,_=l&-l,v>=_||v===16&&(_&4194240)!==0))return l;if(m&4&&(m|=f&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=m;0<l;)f=31-Zi(l),v=1<<f,m|=o[f],l&=~v;return m}function BR(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WR(o,l){for(var f=o.suspendedLanes,m=o.pingedLanes,v=o.expirationTimes,_=o.pendingLanes;0<_;){var k=31-Zi(_),L=1<<k,H=v[k];H===-1?(!(L&f)||L&m)&&(v[k]=BR(L,l)):H<=l&&(o.expiredLanes|=L),_&=~L}}function uv(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function f_(){var o=Yp;return Yp<<=1,!(Yp&4194240)&&(Yp=64),o}function hv(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function Oh(o,l,f){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Zi(l),o[l]=f}function UR(o,l){var f=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<f;){var v=31-Zi(f),_=1<<v;l[v]=0,m[v]=-1,o[v]=-1,f&=~_}}function dv(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var m=31-Zi(f),v=1<<m;v&l|o[m]&l&&(o[m]|=l),f&=~v}}var te=0;function p_(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var g_,fv,m_,y_,v_,pv=!1,Jp=[],lo=null,co=null,uo=null,Fh=new Map,Nh=new Map,ho=[],VR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b_(o,l){switch(o){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":Fh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nh.delete(l.pointerId)}}function jh(o,l,f,m,v,_){return o===null||o.nativeEvent!==_?(o={blockedOn:l,domEventName:f,eventSystemFlags:m,nativeEvent:_,targetContainers:[v]},l!==null&&(l=Jh(l),l!==null&&fv(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),o)}function $R(o,l,f,m,v){switch(l){case"focusin":return lo=jh(lo,o,l,f,m,v),!0;case"dragenter":return co=jh(co,o,l,f,m,v),!0;case"mouseover":return uo=jh(uo,o,l,f,m,v),!0;case"pointerover":var _=v.pointerId;return Fh.set(_,jh(Fh.get(_)||null,o,l,f,m,v)),!0;case"gotpointercapture":return _=v.pointerId,Nh.set(_,jh(Nh.get(_)||null,o,l,f,m,v)),!0}return!1}function w_(o){var l=Ta(o.target);if(l!==null){var f=ka(l);if(f!==null){if(l=f.tag,l===13){if(l=r_(f),l!==null){o.blockedOn=l,v_(o.priority,function(){m_(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Zp(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=mv(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var m=new f.constructor(f.type,f);kh=m,f.target.dispatchEvent(m),kh=null}else return l=Jh(f),l!==null&&fv(l),o.blockedOn=f,!1;l.shift()}return!0}function x_(o,l,f){Zp(o)&&f.delete(l)}function GR(){pv=!1,lo!==null&&Zp(lo)&&(lo=null),co!==null&&Zp(co)&&(co=null),uo!==null&&Zp(uo)&&(uo=null),Fh.forEach(x_),Nh.forEach(x_)}function zh(o,l){o.blockedOn===l&&(o.blockedOn=null,pv||(pv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GR)))}function Hh(o){function l(v){return zh(v,o)}if(0<Jp.length){zh(Jp[0],o);for(var f=1;f<Jp.length;f++){var m=Jp[f];m.blockedOn===o&&(m.blockedOn=null)}}for(lo!==null&&zh(lo,o),co!==null&&zh(co,o),uo!==null&&zh(uo,o),Fh.forEach(l),Nh.forEach(l),f=0;f<ho.length;f++)m=ho[f],m.blockedOn===o&&(m.blockedOn=null);for(;0<ho.length&&(f=ho[0],f.blockedOn===null);)w_(f),f.blockedOn===null&&ho.shift()}var wc=M.ReactCurrentBatchConfig,tg=!0;function XR(o,l,f,m){var v=te,_=wc.transition;wc.transition=null;try{te=1,gv(o,l,f,m)}finally{te=v,wc.transition=_}}function qR(o,l,f,m){var v=te,_=wc.transition;wc.transition=null;try{te=4,gv(o,l,f,m)}finally{te=v,wc.transition=_}}function gv(o,l,f,m){if(tg){var v=mv(o,l,f,m);if(v===null)Iv(o,l,m,eg,f),b_(o,m);else if($R(v,o,l,f,m))m.stopPropagation();else if(b_(o,m),l&4&&-1<VR.indexOf(o)){for(;v!==null;){var _=Jh(v);if(_!==null&&g_(_),_=mv(o,l,f,m),_===null&&Iv(o,l,m,eg,f),_===v)break;v=_}v!==null&&m.stopPropagation()}else Iv(o,l,m,null,f)}}var eg=null;function mv(o,l,f,m){if(eg=null,o=bc(m),o=Ta(o),o!==null)if(l=ka(o),l===null)o=null;else if(f=l.tag,f===13){if(o=r_(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return eg=o,null}function __(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OR()){case cv:return 1;case h_:return 4;case Xp:case FR:return 16;case d_:return 536870912;default:return 16}default:return 16}}var fo=null,yv=null,ng=null;function S_(){if(ng)return ng;var o,l=yv,f=l.length,m,v="value"in fo?fo.value:fo.textContent,_=v.length;for(o=0;o<f&&l[o]===v[o];o++);var k=f-o;for(m=1;m<=k&&l[f-m]===v[_-m];m++);return ng=v.slice(o,1<m?1-m:void 0)}function ig(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function sg(){return!0}function A_(){return!1}function di(o){function l(f,m,v,_,k){this._reactName=f,this._targetInst=v,this.type=m,this.nativeEvent=_,this.target=k,this.currentTarget=null;for(var L in o)o.hasOwnProperty(L)&&(f=o[L],this[L]=f?f(_):_[L]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?sg:A_,this.isPropagationStopped=A_,this}return it(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=sg)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=sg)},persist:function(){},isPersistent:sg}),l}var xc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vv=di(xc),Bh=it({},xc,{view:0,detail:0}),YR=di(Bh),bv,wv,Wh,rg=it({},Bh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_v,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Wh&&(Wh&&o.type==="mousemove"?(bv=o.screenX-Wh.screenX,wv=o.screenY-Wh.screenY):wv=bv=0,Wh=o),bv)},movementY:function(o){return"movementY"in o?o.movementY:wv}}),E_=di(rg),KR=it({},rg,{dataTransfer:0}),QR=di(KR),JR=it({},Bh,{relatedTarget:0}),xv=di(JR),ZR=it({},xc,{animationName:0,elapsedTime:0,pseudoElement:0}),tM=di(ZR),eM=it({},xc,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),nM=di(eM),iM=it({},xc,{data:0}),C_=di(iM),sM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aM(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=oM[o])?!!l[o]:!1}function _v(){return aM}var lM=it({},Bh,{key:function(o){if(o.key){var l=sM[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=ig(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?rM[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_v,charCode:function(o){return o.type==="keypress"?ig(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ig(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),cM=di(lM),uM=it({},rg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k_=di(uM),hM=it({},Bh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_v}),dM=di(hM),fM=it({},xc,{propertyName:0,elapsedTime:0,pseudoElement:0}),pM=di(fM),gM=it({},rg,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),mM=di(gM),yM=[9,13,27,32],Sv=c&&"CompositionEvent"in window,Uh=null;c&&"documentMode"in document&&(Uh=document.documentMode);var vM=c&&"TextEvent"in window&&!Uh,T_=c&&(!Sv||Uh&&8<Uh&&11>=Uh),P_=" ",R_=!1;function M_(o,l){switch(o){case"keyup":return yM.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L_(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var _c=!1;function bM(o,l){switch(o){case"compositionend":return L_(l);case"keypress":return l.which!==32?null:(R_=!0,P_);case"textInput":return o=l.data,o===P_&&R_?null:o;default:return null}}function wM(o,l){if(_c)return o==="compositionend"||!Sv&&M_(o,l)?(o=S_(),ng=yv=fo=null,_c=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return T_&&l.locale!=="ko"?null:l.data;default:return null}}var xM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I_(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!xM[o.type]:l==="textarea"}function D_(o,l,f,m){Up(m),l=ug(l,"onChange"),0<l.length&&(f=new vv("onChange","change",null,f,m),o.push({event:f,listeners:l}))}var Vh=null,$h=null;function _M(o){J_(o,0)}function og(o){var l=kc(o);if(vt(l))return o}function SM(o,l){if(o==="change")return l}var O_=!1;if(c){var Av;if(c){var Ev="oninput"in document;if(!Ev){var F_=document.createElement("div");F_.setAttribute("oninput","return;"),Ev=typeof F_.oninput=="function"}Av=Ev}else Av=!1;O_=Av&&(!document.documentMode||9<document.documentMode)}function N_(){Vh&&(Vh.detachEvent("onpropertychange",j_),$h=Vh=null)}function j_(o){if(o.propertyName==="value"&&og($h)){var l=[];D_(l,$h,o,bc(o)),s_(_M,l)}}function AM(o,l,f){o==="focusin"?(N_(),Vh=l,$h=f,Vh.attachEvent("onpropertychange",j_)):o==="focusout"&&N_()}function EM(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return og($h)}function CM(o,l){if(o==="click")return og(l)}function kM(o,l){if(o==="input"||o==="change")return og(l)}function TM(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var ts=typeof Object.is=="function"?Object.is:TM;function Gh(o,l){if(ts(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),m=Object.keys(l);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var v=f[m];if(!u.call(l,v)||!ts(o[v],l[v]))return!1}return!0}function z_(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function H_(o,l){var f=z_(o);o=0;for(var m;f;){if(f.nodeType===3){if(m=o+f.textContent.length,o<=l&&m>=l)return{node:f,offset:l-o};o=m}t:{for(;f;){if(f.nextSibling){f=f.nextSibling;break t}f=f.parentNode}f=void 0}f=z_(f)}}function B_(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?B_(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function W_(){for(var o=window,l=_t();l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=_t(o.document)}return l}function Cv(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function PM(o){var l=W_(),f=o.focusedElem,m=o.selectionRange;if(l!==f&&f&&f.ownerDocument&&B_(f.ownerDocument.documentElement,f)){if(m!==null&&Cv(f)){if(l=m.start,o=m.end,o===void 0&&(o=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(o,f.value.length);else if(o=(l=f.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var v=f.textContent.length,_=Math.min(m.start,v);m=m.end===void 0?_:Math.min(m.end,v),!o.extend&&_>m&&(v=m,m=_,_=v),v=H_(f,_);var k=H_(f,m);v&&k&&(o.rangeCount!==1||o.anchorNode!==v.node||o.anchorOffset!==v.offset||o.focusNode!==k.node||o.focusOffset!==k.offset)&&(l=l.createRange(),l.setStart(v.node,v.offset),o.removeAllRanges(),_>m?(o.addRange(l),o.extend(k.node,k.offset)):(l.setEnd(k.node,k.offset),o.addRange(l)))}}for(l=[],o=f;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)o=l[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var RM=c&&"documentMode"in document&&11>=document.documentMode,Sc=null,kv=null,Xh=null,Tv=!1;function U_(o,l,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Tv||Sc==null||Sc!==_t(m)||(m=Sc,"selectionStart"in m&&Cv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Xh&&Gh(Xh,m)||(Xh=m,m=ug(kv,"onSelect"),0<m.length&&(l=new vv("onSelect","select",null,l,f),o.push({event:l,listeners:m}),l.target=Sc)))}function ag(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var Ac={animationend:ag("Animation","AnimationEnd"),animationiteration:ag("Animation","AnimationIteration"),animationstart:ag("Animation","AnimationStart"),transitionend:ag("Transition","TransitionEnd")},Pv={},V_={};c&&(V_=document.createElement("div").style,"AnimationEvent"in window||(delete Ac.animationend.animation,delete Ac.animationiteration.animation,delete Ac.animationstart.animation),"TransitionEvent"in window||delete Ac.transitionend.transition);function lg(o){if(Pv[o])return Pv[o];if(!Ac[o])return o;var l=Ac[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in V_)return Pv[o]=l[f];return o}var $_=lg("animationend"),G_=lg("animationiteration"),X_=lg("animationstart"),q_=lg("transitionend"),Y_=new Map,K_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function po(o,l){Y_.set(o,l),r(l,[o])}for(var Rv=0;Rv<K_.length;Rv++){var Mv=K_[Rv],MM=Mv.toLowerCase(),LM=Mv[0].toUpperCase()+Mv.slice(1);po(MM,"on"+LM)}po($_,"onAnimationEnd"),po(G_,"onAnimationIteration"),po(X_,"onAnimationStart"),po("dblclick","onDoubleClick"),po("focusin","onFocus"),po("focusout","onBlur"),po(q_,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),r("onBeforeInput",["compositionend","keypress","textInput","paste"]),r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IM=new Set("cancel close invalid load scroll toggle".split(" ").concat(qh));function Q_(o,l,f){var m=o.type||"unknown-event";o.currentTarget=f,MR(m,l,void 0,o),o.currentTarget=null}function J_(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var m=o[f],v=m.event;m=m.listeners;t:{var _=void 0;if(l)for(var k=m.length-1;0<=k;k--){var L=m[k],H=L.instance,q=L.currentTarget;if(L=L.listener,H!==_&&v.isPropagationStopped())break t;Q_(v,L,q),_=H}else for(k=0;k<m.length;k++){if(L=m[k],H=L.instance,q=L.currentTarget,L=L.listener,H!==_&&v.isPropagationStopped())break t;Q_(v,L,q),_=H}}}if(Gp)throw o=lv,Gp=!1,lv=null,o}function he(o,l){var f=l[zv];f===void 0&&(f=l[zv]=new Set);var m=o+"__bubble";f.has(m)||(Z_(l,o,2,!1),f.add(m))}function Lv(o,l,f){var m=0;l&&(m|=4),Z_(f,o,m,l)}var cg="_reactListening"+Math.random().toString(36).slice(2);function Yh(o){if(!o[cg]){o[cg]=!0,n.forEach(function(f){f!=="selectionchange"&&(IM.has(f)||Lv(f,!1,o),Lv(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[cg]||(l[cg]=!0,Lv("selectionchange",!1,l))}}function Z_(o,l,f,m){switch(__(l)){case 1:var v=XR;break;case 4:v=qR;break;default:v=gv}f=v.bind(null,l,f,o),v=void 0,!av||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),m?v!==void 0?o.addEventListener(l,f,{capture:!0,passive:v}):o.addEventListener(l,f,!0):v!==void 0?o.addEventListener(l,f,{passive:v}):o.addEventListener(l,f,!1)}function Iv(o,l,f,m,v){var _=m;if(!(l&1)&&!(l&2)&&m!==null)t:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var L=m.stateNode.containerInfo;if(L===v||L.nodeType===8&&L.parentNode===v)break;if(k===4)for(k=m.return;k!==null;){var H=k.tag;if((H===3||H===4)&&(H=k.stateNode.containerInfo,H===v||H.nodeType===8&&H.parentNode===v))return;k=k.return}for(;L!==null;){if(k=Ta(L),k===null)return;if(H=k.tag,H===5||H===6){m=_=k;continue t}L=L.parentNode}}m=m.return}s_(function(){var q=_,tt=bc(f),st=[];t:{var Z=Y_.get(o);if(Z!==void 0){var pt=vv,bt=o;switch(o){case"keypress":if(ig(f)===0)break t;case"keydown":case"keyup":pt=cM;break;case"focusin":bt="focus",pt=xv;break;case"focusout":bt="blur",pt=xv;break;case"beforeblur":case"afterblur":pt=xv;break;case"click":if(f.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=E_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=QR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=dM;break;case $_:case G_:case X_:pt=tM;break;case q_:pt=pM;break;case"scroll":pt=YR;break;case"wheel":pt=mM;break;case"copy":case"cut":case"paste":pt=nM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=k_}var wt=(l&4)!==0,Re=!wt&&o==="scroll",U=wt?Z!==null?Z+"Capture":null:Z;wt=[];for(var B=q,V;B!==null;){V=B;var at=V.stateNode;if(V.tag===5&&at!==null&&(V=at,U!==null&&(at=Mh(B,U),at!=null&&wt.push(Kh(B,at,V)))),Re)break;B=B.return}0<wt.length&&(Z=new pt(Z,bt,null,f,tt),st.push({event:Z,listeners:wt}))}}if(!(l&7)){t:{if(Z=o==="mouseover"||o==="pointerover",pt=o==="mouseout"||o==="pointerout",Z&&f!==kh&&(bt=f.relatedTarget||f.fromElement)&&(Ta(bt)||bt[hr]))break t;if((pt||Z)&&(Z=tt.window===tt?tt:(Z=tt.ownerDocument)?Z.defaultView||Z.parentWindow:window,pt?(bt=f.relatedTarget||f.toElement,pt=q,bt=bt?Ta(bt):null,bt!==null&&(Re=ka(bt),bt!==Re||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(pt=null,bt=q),pt!==bt)){if(wt=E_,at="onMouseLeave",U="onMouseEnter",B="mouse",(o==="pointerout"||o==="pointerover")&&(wt=k_,at="onPointerLeave",U="onPointerEnter",B="pointer"),Re=pt==null?Z:kc(pt),V=bt==null?Z:kc(bt),Z=new wt(at,B+"leave",pt,f,tt),Z.target=Re,Z.relatedTarget=V,at=null,Ta(tt)===q&&(wt=new wt(U,B+"enter",bt,f,tt),wt.target=V,wt.relatedTarget=Re,at=wt),Re=at,pt&&bt)e:{for(wt=pt,U=bt,B=0,V=wt;V;V=Ec(V))B++;for(V=0,at=U;at;at=Ec(at))V++;for(;0<B-V;)wt=Ec(wt),B--;for(;0<V-B;)U=Ec(U),V--;for(;B--;){if(wt===U||U!==null&&wt===U.alternate)break e;wt=Ec(wt),U=Ec(U)}wt=null}else wt=null;pt!==null&&tS(st,Z,pt,wt,!1),bt!==null&&Re!==null&&tS(st,Re,bt,wt,!0)}}t:{if(Z=q?kc(q):window,pt=Z.nodeName&&Z.nodeName.toLowerCase(),pt==="select"||pt==="input"&&Z.type==="file")var xt=SM;else if(I_(Z))if(O_)xt=kM;else{xt=EM;var kt=AM}else(pt=Z.nodeName)&&pt.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(xt=CM);if(xt&&(xt=xt(o,q))){D_(st,xt,f,tt);break t}kt&&kt(o,Z,q),o==="focusout"&&(kt=Z._wrapperState)&&kt.controlled&&Z.type==="number"&&$n(Z,"number",Z.value)}switch(kt=q?kc(q):window,o){case"focusin":(I_(kt)||kt.contentEditable==="true")&&(Sc=kt,kv=q,Xh=null);break;case"focusout":Xh=kv=Sc=null;break;case"mousedown":Tv=!0;break;case"contextmenu":case"mouseup":case"dragend":Tv=!1,U_(st,f,tt);break;case"selectionchange":if(RM)break;case"keydown":case"keyup":U_(st,f,tt)}var Tt;if(Sv)t:{switch(o){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else _c?M_(o,f)&&(Rt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Rt="onCompositionStart");Rt&&(T_&&f.locale!=="ko"&&(_c||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&_c&&(Tt=S_()):(fo=tt,yv="value"in fo?fo.value:fo.textContent,_c=!0)),kt=ug(q,Rt),0<kt.length&&(Rt=new C_(Rt,o,null,f,tt),st.push({event:Rt,listeners:kt}),Tt?Rt.data=Tt:(Tt=L_(f),Tt!==null&&(Rt.data=Tt)))),(Tt=vM?bM(o,f):wM(o,f))&&(q=ug(q,"onBeforeInput"),0<q.length&&(tt=new C_("onBeforeInput","beforeinput",null,f,tt),st.push({event:tt,listeners:q}),tt.data=Tt))}J_(st,l)})}function Kh(o,l,f){return{instance:o,listener:l,currentTarget:f}}function ug(o,l){for(var f=l+"Capture",m=[];o!==null;){var v=o,_=v.stateNode;v.tag===5&&_!==null&&(v=_,_=Mh(o,f),_!=null&&m.unshift(Kh(o,_,v)),_=Mh(o,l),_!=null&&m.push(Kh(o,_,v))),o=o.return}return m}function Ec(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function tS(o,l,f,m,v){for(var _=l._reactName,k=[];f!==null&&f!==m;){var L=f,H=L.alternate,q=L.stateNode;if(H!==null&&H===m)break;L.tag===5&&q!==null&&(L=q,v?(H=Mh(f,_),H!=null&&k.unshift(Kh(f,H,L))):v||(H=Mh(f,_),H!=null&&k.push(Kh(f,H,L)))),f=f.return}k.length!==0&&o.push({event:l,listeners:k})}var DM=/\r\n?/g,OM=/\u0000|\uFFFD/g;function eS(o){return(typeof o=="string"?o:""+o).replace(DM,`
`).replace(OM,"")}function hg(o,l,f){if(l=eS(l),eS(o)!==l&&f)throw Error(e(425))}function dg(){}var Dv=null,Ov=null;function Fv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Nv=typeof setTimeout=="function"?setTimeout:void 0,FM=typeof clearTimeout=="function"?clearTimeout:void 0,nS=typeof Promise=="function"?Promise:void 0,NM=typeof queueMicrotask=="function"?queueMicrotask:typeof nS<"u"?function(o){return nS.resolve(null).then(o).catch(jM)}:Nv;function jM(o){setTimeout(function(){throw o})}function jv(o,l){var f=l,m=0;do{var v=f.nextSibling;if(o.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"){if(m===0){o.removeChild(v),Hh(l);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=v}while(f);Hh(l)}function go(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function iS(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}var Cc=Math.random().toString(36).slice(2),Ts="__reactFiber$"+Cc,Qh="__reactProps$"+Cc,hr="__reactContainer$"+Cc,zv="__reactEvents$"+Cc,zM="__reactListeners$"+Cc,HM="__reactHandles$"+Cc;function Ta(o){var l=o[Ts];if(l)return l;for(var f=o.parentNode;f;){if(l=f[hr]||f[Ts]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=iS(o);o!==null;){if(f=o[Ts])return f;o=iS(o)}return l}o=f,f=o.parentNode}return null}function Jh(o){return o=o[Ts]||o[hr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function kc(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(e(33))}function fg(o){return o[Qh]||null}var Hv=[],Tc=-1;function mo(o){return{current:o}}function de(o){0>Tc||(o.current=Hv[Tc],Hv[Tc]=null,Tc--)}function ce(o,l){Tc++,Hv[Tc]=o.current,o.current=l}var yo={},wn=mo(yo),Gn=mo(!1),Pa=yo;function Pc(o,l){var f=o.type.contextTypes;if(!f)return yo;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var v={},_;for(_ in f)v[_]=l[_];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=v),v}function Xn(o){return o=o.childContextTypes,o!=null}function pg(){de(Gn),de(wn)}function sS(o,l,f){if(wn.current!==yo)throw Error(e(168));ce(wn,l),ce(Gn,f)}function rS(o,l,f){var m=o.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return f;m=m.getChildContext();for(var v in m)if(!(v in l))throw Error(e(108,dt(o)||"Unknown",v));return it({},f,m)}function gg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||yo,Pa=wn.current,ce(wn,o),ce(Gn,Gn.current),!0}function oS(o,l,f){var m=o.stateNode;if(!m)throw Error(e(169));f?(o=rS(o,l,Pa),m.__reactInternalMemoizedMergedChildContext=o,de(Gn),de(wn),ce(wn,o)):de(Gn),ce(Gn,f)}var dr=null,mg=!1,Bv=!1;function aS(o){dr===null?dr=[o]:dr.push(o)}function BM(o){mg=!0,aS(o)}function vo(){if(!Bv&&dr!==null){Bv=!0;var o=0,l=te;try{var f=dr;for(te=1;o<f.length;o++){var m=f[o];do m=m(!0);while(m!==null)}dr=null,mg=!1}catch(v){throw dr!==null&&(dr=dr.slice(o+1)),c_(cv,vo),v}finally{te=l,Bv=!1}}return null}var Rc=[],Mc=0,yg=null,vg=0,Ri=[],Mi=0,Ra=null,fr=1,pr="";function Ma(o,l){Rc[Mc++]=vg,Rc[Mc++]=yg,yg=o,vg=l}function lS(o,l,f){Ri[Mi++]=fr,Ri[Mi++]=pr,Ri[Mi++]=Ra,Ra=o;var m=fr;o=pr;var v=32-Zi(m)-1;m&=~(1<<v),f+=1;var _=32-Zi(l)+v;if(30<_){var k=v-v%5;_=(m&(1<<k)-1).toString(32),m>>=k,v-=k,fr=1<<32-Zi(l)+v|f<<v|m,pr=_+o}else fr=1<<_|f<<v|m,pr=o}function Wv(o){o.return!==null&&(Ma(o,1),lS(o,1,0))}function Uv(o){for(;o===yg;)yg=Rc[--Mc],Rc[Mc]=null,vg=Rc[--Mc],Rc[Mc]=null;for(;o===Ra;)Ra=Ri[--Mi],Ri[Mi]=null,pr=Ri[--Mi],Ri[Mi]=null,fr=Ri[--Mi],Ri[Mi]=null}var fi=null,pi=null,me=!1,es=null;function cS(o,l){var f=Oi(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=o,l=o.deletions,l===null?(o.deletions=[f],o.flags|=16):l.push(f)}function uS(o,l){switch(o.tag){case 5:var f=o.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,fi=o,pi=go(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,fi=o,pi=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=Ra!==null?{id:fr,overflow:pr}:null,o.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Oi(18,null,null,0),f.stateNode=l,f.return=o,o.child=f,fi=o,pi=null,!0):!1;default:return!1}}function Vv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function $v(o){if(me){var l=pi;if(l){var f=l;if(!uS(o,l)){if(Vv(o))throw Error(e(418));l=go(f.nextSibling);var m=fi;l&&uS(o,l)?cS(m,f):(o.flags=o.flags&-4097|2,me=!1,fi=o)}}else{if(Vv(o))throw Error(e(418));o.flags=o.flags&-4097|2,me=!1,fi=o}}}function hS(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;fi=o}function bg(o){if(o!==fi)return!1;if(!me)return hS(o),me=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Fv(o.type,o.memoizedProps)),l&&(l=pi)){if(Vv(o))throw dS(),Error(e(418));for(;l;)cS(o,l),l=go(l.nextSibling)}if(hS(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(e(317));t:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(l===0){pi=go(o.nextSibling);break t}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}o=o.nextSibling}pi=null}}else pi=fi?go(o.stateNode.nextSibling):null;return!0}function dS(){for(var o=pi;o;)o=go(o.nextSibling)}function Lc(){pi=fi=null,me=!1}function Gv(o){es===null?es=[o]:es.push(o)}var WM=M.ReactCurrentBatchConfig;function Zh(o,l,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(e(309));var m=f.stateNode}if(!m)throw Error(e(147,o));var v=m,_=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(k){var L=v.refs;k===null?delete L[_]:L[_]=k},l._stringRef=_,l)}if(typeof o!="string")throw Error(e(284));if(!f._owner)throw Error(e(290,o))}return o}function wg(o,l){throw o=Object.prototype.toString.call(l),Error(e(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function fS(o){var l=o._init;return l(o._payload)}function pS(o){function l(U,B){if(o){var V=U.deletions;V===null?(U.deletions=[B],U.flags|=16):V.push(B)}}function f(U,B){if(!o)return null;for(;B!==null;)l(U,B),B=B.sibling;return null}function m(U,B){for(U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function v(U,B){return U=Co(U,B),U.index=0,U.sibling=null,U}function _(U,B,V){return U.index=V,o?(V=U.alternate,V!==null?(V=V.index,V<B?(U.flags|=2,B):V):(U.flags|=2,B)):(U.flags|=1048576,B)}function k(U){return o&&U.alternate===null&&(U.flags|=2),U}function L(U,B,V,at){return B===null||B.tag!==6?(B=N0(V,U.mode,at),B.return=U,B):(B=v(B,V),B.return=U,B)}function H(U,B,V,at){var xt=V.type;return xt===j?tt(U,B,V.props.children,at,V.key):B!==null&&(B.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===J&&fS(xt)===B.type)?(at=v(B,V.props),at.ref=Zh(U,B,V),at.return=U,at):(at=Vg(V.type,V.key,V.props,null,U.mode,at),at.ref=Zh(U,B,V),at.return=U,at)}function q(U,B,V,at){return B===null||B.tag!==4||B.stateNode.containerInfo!==V.containerInfo||B.stateNode.implementation!==V.implementation?(B=j0(V,U.mode,at),B.return=U,B):(B=v(B,V.children||[]),B.return=U,B)}function tt(U,B,V,at,xt){return B===null||B.tag!==7?(B=za(V,U.mode,at,xt),B.return=U,B):(B=v(B,V),B.return=U,B)}function st(U,B,V){if(typeof B=="string"&&B!==""||typeof B=="number")return B=N0(""+B,U.mode,V),B.return=U,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case I:return V=Vg(B.type,B.key,B.props,null,U.mode,V),V.ref=Zh(U,null,B),V.return=U,V;case F:return B=j0(B,U.mode,V),B.return=U,B;case J:var at=B._init;return st(U,at(B._payload),V)}if(Dn(B)||et(B))return B=za(B,U.mode,V,null),B.return=U,B;wg(U,B)}return null}function Z(U,B,V,at){var xt=B!==null?B.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return xt!==null?null:L(U,B,""+V,at);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return V.key===xt?H(U,B,V,at):null;case F:return V.key===xt?q(U,B,V,at):null;case J:return xt=V._init,Z(U,B,xt(V._payload),at)}if(Dn(V)||et(V))return xt!==null?null:tt(U,B,V,at,null);wg(U,V)}return null}function pt(U,B,V,at,xt){if(typeof at=="string"&&at!==""||typeof at=="number")return U=U.get(V)||null,L(B,U,""+at,xt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case I:return U=U.get(at.key===null?V:at.key)||null,H(B,U,at,xt);case F:return U=U.get(at.key===null?V:at.key)||null,q(B,U,at,xt);case J:var kt=at._init;return pt(U,B,V,kt(at._payload),xt)}if(Dn(at)||et(at))return U=U.get(V)||null,tt(B,U,at,xt,null);wg(B,at)}return null}function bt(U,B,V,at){for(var xt=null,kt=null,Tt=B,Rt=B=0,Qe=null;Tt!==null&&Rt<V.length;Rt++){Tt.index>Rt?(Qe=Tt,Tt=null):Qe=Tt.sibling;var Yt=Z(U,Tt,V[Rt],at);if(Yt===null){Tt===null&&(Tt=Qe);break}o&&Tt&&Yt.alternate===null&&l(U,Tt),B=_(Yt,B,Rt),kt===null?xt=Yt:kt.sibling=Yt,kt=Yt,Tt=Qe}if(Rt===V.length)return f(U,Tt),me&&Ma(U,Rt),xt;if(Tt===null){for(;Rt<V.length;Rt++)Tt=st(U,V[Rt],at),Tt!==null&&(B=_(Tt,B,Rt),kt===null?xt=Tt:kt.sibling=Tt,kt=Tt);return me&&Ma(U,Rt),xt}for(Tt=m(U,Tt);Rt<V.length;Rt++)Qe=pt(Tt,U,Rt,V[Rt],at),Qe!==null&&(o&&Qe.alternate!==null&&Tt.delete(Qe.key===null?Rt:Qe.key),B=_(Qe,B,Rt),kt===null?xt=Qe:kt.sibling=Qe,kt=Qe);return o&&Tt.forEach(function(ko){return l(U,ko)}),me&&Ma(U,Rt),xt}function wt(U,B,V,at){var xt=et(V);if(typeof xt!="function")throw Error(e(150));if(V=xt.call(V),V==null)throw Error(e(151));for(var kt=xt=null,Tt=B,Rt=B=0,Qe=null,Yt=V.next();Tt!==null&&!Yt.done;Rt++,Yt=V.next()){Tt.index>Rt?(Qe=Tt,Tt=null):Qe=Tt.sibling;var ko=Z(U,Tt,Yt.value,at);if(ko===null){Tt===null&&(Tt=Qe);break}o&&Tt&&ko.alternate===null&&l(U,Tt),B=_(ko,B,Rt),kt===null?xt=ko:kt.sibling=ko,kt=ko,Tt=Qe}if(Yt.done)return f(U,Tt),me&&Ma(U,Rt),xt;if(Tt===null){for(;!Yt.done;Rt++,Yt=V.next())Yt=st(U,Yt.value,at),Yt!==null&&(B=_(Yt,B,Rt),kt===null?xt=Yt:kt.sibling=Yt,kt=Yt);return me&&Ma(U,Rt),xt}for(Tt=m(U,Tt);!Yt.done;Rt++,Yt=V.next())Yt=pt(Tt,U,Rt,Yt.value,at),Yt!==null&&(o&&Yt.alternate!==null&&Tt.delete(Yt.key===null?Rt:Yt.key),B=_(Yt,B,Rt),kt===null?xt=Yt:kt.sibling=Yt,kt=Yt);return o&&Tt.forEach(function(wL){return l(U,wL)}),me&&Ma(U,Rt),xt}function Re(U,B,V,at){if(typeof V=="object"&&V!==null&&V.type===j&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case I:t:{for(var xt=V.key,kt=B;kt!==null;){if(kt.key===xt){if(xt=V.type,xt===j){if(kt.tag===7){f(U,kt.sibling),B=v(kt,V.props.children),B.return=U,U=B;break t}}else if(kt.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===J&&fS(xt)===kt.type){f(U,kt.sibling),B=v(kt,V.props),B.ref=Zh(U,kt,V),B.return=U,U=B;break t}f(U,kt);break}else l(U,kt);kt=kt.sibling}V.type===j?(B=za(V.props.children,U.mode,at,V.key),B.return=U,U=B):(at=Vg(V.type,V.key,V.props,null,U.mode,at),at.ref=Zh(U,B,V),at.return=U,U=at)}return k(U);case F:t:{for(kt=V.key;B!==null;){if(B.key===kt)if(B.tag===4&&B.stateNode.containerInfo===V.containerInfo&&B.stateNode.implementation===V.implementation){f(U,B.sibling),B=v(B,V.children||[]),B.return=U,U=B;break t}else{f(U,B);break}else l(U,B);B=B.sibling}B=j0(V,U.mode,at),B.return=U,U=B}return k(U);case J:return kt=V._init,Re(U,B,kt(V._payload),at)}if(Dn(V))return bt(U,B,V,at);if(et(V))return wt(U,B,V,at);wg(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,B!==null&&B.tag===6?(f(U,B.sibling),B=v(B,V),B.return=U,U=B):(f(U,B),B=N0(V,U.mode,at),B.return=U,U=B),k(U)):f(U,B)}return Re}var Ic=pS(!0),gS=pS(!1),xg=mo(null),_g=null,Dc=null,Xv=null;function qv(){Xv=Dc=_g=null}function Yv(o){var l=xg.current;de(xg),o._currentValue=l}function Kv(o,l,f){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===f)break;o=o.return}}function Oc(o,l){_g=o,Xv=Dc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&l&&(qn=!0),o.firstContext=null)}function Li(o){var l=o._currentValue;if(Xv!==o)if(o={context:o,memoizedValue:l,next:null},Dc===null){if(_g===null)throw Error(e(308));Dc=o,_g.dependencies={lanes:0,firstContext:o}}else Dc=Dc.next=o;return l}var La=null;function Qv(o){La===null?La=[o]:La.push(o)}function mS(o,l,f,m){var v=l.interleaved;return v===null?(f.next=f,Qv(l)):(f.next=v.next,v.next=f),l.interleaved=f,gr(o,m)}function gr(o,l){o.lanes|=l;var f=o.alternate;for(f!==null&&(f.lanes|=l),f=o,o=o.return;o!==null;)o.childLanes|=l,f=o.alternate,f!==null&&(f.childLanes|=l),f=o,o=o.return;return f.tag===3?f.stateNode:null}var bo=!1;function Jv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yS(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function mr(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function wo(o,l,f){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,Xt&2){var v=m.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),m.pending=l,gr(o,f)}return v=m.interleaved,v===null?(l.next=l,Qv(m)):(l.next=v.next,v.next=l),m.interleaved=l,gr(o,f)}function Sg(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var m=l.lanes;m&=o.pendingLanes,f|=m,l.lanes=f,dv(o,f)}}function vS(o,l){var f=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var v=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var k={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?v=_=k:_=_.next=k,f=f.next}while(f!==null);_===null?v=_=l:_=_.next=l}else v=_=l;f={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:m.shared,effects:m.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}function Ag(o,l,f,m){var v=o.updateQueue;bo=!1;var _=v.firstBaseUpdate,k=v.lastBaseUpdate,L=v.shared.pending;if(L!==null){v.shared.pending=null;var H=L,q=H.next;H.next=null,k===null?_=q:k.next=q,k=H;var tt=o.alternate;tt!==null&&(tt=tt.updateQueue,L=tt.lastBaseUpdate,L!==k&&(L===null?tt.firstBaseUpdate=q:L.next=q,tt.lastBaseUpdate=H))}if(_!==null){var st=v.baseState;k=0,tt=q=H=null,L=_;do{var Z=L.lane,pt=L.eventTime;if((m&Z)===Z){tt!==null&&(tt=tt.next={eventTime:pt,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});t:{var bt=o,wt=L;switch(Z=l,pt=f,wt.tag){case 1:if(bt=wt.payload,typeof bt=="function"){st=bt.call(pt,st,Z);break t}st=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=wt.payload,Z=typeof bt=="function"?bt.call(pt,st,Z):bt,Z==null)break t;st=it({},st,Z);break t;case 2:bo=!0}}L.callback!==null&&L.lane!==0&&(o.flags|=64,Z=v.effects,Z===null?v.effects=[L]:Z.push(L))}else pt={eventTime:pt,lane:Z,tag:L.tag,payload:L.payload,callback:L.callback,next:null},tt===null?(q=tt=pt,H=st):tt=tt.next=pt,k|=Z;if(L=L.next,L===null){if(L=v.shared.pending,L===null)break;Z=L,L=Z.next,Z.next=null,v.lastBaseUpdate=Z,v.shared.pending=null}}while(!0);if(tt===null&&(H=st),v.baseState=H,v.firstBaseUpdate=q,v.lastBaseUpdate=tt,l=v.shared.interleaved,l!==null){v=l;do k|=v.lane,v=v.next;while(v!==l)}else _===null&&(v.shared.lanes=0);Oa|=k,o.lanes=k,o.memoizedState=st}}function bS(o,l,f){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var m=o[l],v=m.callback;if(v!==null){if(m.callback=null,m=f,typeof v!="function")throw Error(e(191,v));v.call(m)}}}var td={},Ps=mo(td),ed=mo(td),nd=mo(td);function Ia(o){if(o===td)throw Error(e(174));return o}function Zv(o,l){switch(ce(nd,l),ce(ed,o),ce(Ps,td),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:hi(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=hi(l,o)}de(Ps),ce(Ps,l)}function Fc(){de(Ps),de(ed),de(nd)}function wS(o){Ia(nd.current);var l=Ia(Ps.current),f=hi(l,o.type);l!==f&&(ce(ed,o),ce(Ps,f))}function t0(o){ed.current===o&&(de(Ps),de(ed))}var ve=mo(0);function Eg(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var e0=[];function n0(){for(var o=0;o<e0.length;o++)e0[o]._workInProgressVersionPrimary=null;e0.length=0}var Cg=M.ReactCurrentDispatcher,i0=M.ReactCurrentBatchConfig,Da=0,be=null,He=null,Ye=null,kg=!1,id=!1,sd=0,UM=0;function xn(){throw Error(e(321))}function s0(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!ts(o[f],l[f]))return!1;return!0}function r0(o,l,f,m,v,_){if(Da=_,be=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Cg.current=o===null||o.memoizedState===null?XM:qM,o=f(m,v),id){_=0;do{if(id=!1,sd=0,25<=_)throw Error(e(301));_+=1,Ye=He=null,l.updateQueue=null,Cg.current=YM,o=f(m,v)}while(id)}if(Cg.current=Rg,l=He!==null&&He.next!==null,Da=0,Ye=He=be=null,kg=!1,l)throw Error(e(300));return o}function o0(){var o=sd!==0;return sd=0,o}function Rs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?be.memoizedState=Ye=o:Ye=Ye.next=o,Ye}function Ii(){if(He===null){var o=be.alternate;o=o!==null?o.memoizedState:null}else o=He.next;var l=Ye===null?be.memoizedState:Ye.next;if(l!==null)Ye=l,He=o;else{if(o===null)throw Error(e(310));He=o,o={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ye===null?be.memoizedState=Ye=o:Ye=Ye.next=o}return Ye}function rd(o,l){return typeof l=="function"?l(o):l}function a0(o){var l=Ii(),f=l.queue;if(f===null)throw Error(e(311));f.lastRenderedReducer=o;var m=He,v=m.baseQueue,_=f.pending;if(_!==null){if(v!==null){var k=v.next;v.next=_.next,_.next=k}m.baseQueue=v=_,f.pending=null}if(v!==null){_=v.next,m=m.baseState;var L=k=null,H=null,q=_;do{var tt=q.lane;if((Da&tt)===tt)H!==null&&(H=H.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),m=q.hasEagerState?q.eagerState:o(m,q.action);else{var st={lane:tt,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};H===null?(L=H=st,k=m):H=H.next=st,be.lanes|=tt,Oa|=tt}q=q.next}while(q!==null&&q!==_);H===null?k=m:H.next=L,ts(m,l.memoizedState)||(qn=!0),l.memoizedState=m,l.baseState=k,l.baseQueue=H,f.lastRenderedState=m}if(o=f.interleaved,o!==null){v=o;do _=v.lane,be.lanes|=_,Oa|=_,v=v.next;while(v!==o)}else v===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function l0(o){var l=Ii(),f=l.queue;if(f===null)throw Error(e(311));f.lastRenderedReducer=o;var m=f.dispatch,v=f.pending,_=l.memoizedState;if(v!==null){f.pending=null;var k=v=v.next;do _=o(_,k.action),k=k.next;while(k!==v);ts(_,l.memoizedState)||(qn=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),f.lastRenderedState=_}return[_,m]}function xS(){}function _S(o,l){var f=be,m=Ii(),v=l(),_=!ts(m.memoizedState,v);if(_&&(m.memoizedState=v,qn=!0),m=m.queue,c0(ES.bind(null,f,m,o),[o]),m.getSnapshot!==l||_||Ye!==null&&Ye.memoizedState.tag&1){if(f.flags|=2048,od(9,AS.bind(null,f,m,v,l),void 0,null),Ke===null)throw Error(e(349));Da&30||SS(f,l,v)}return v}function SS(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=be.updateQueue,l===null?(l={lastEffect:null,stores:null},be.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function AS(o,l,f,m){l.value=f,l.getSnapshot=m,CS(l)&&kS(o)}function ES(o,l,f){return f(function(){CS(l)&&kS(o)})}function CS(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!ts(o,f)}catch{return!0}}function kS(o){var l=gr(o,1);l!==null&&rs(l,o,1,-1)}function TS(o){var l=Rs();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:o},l.queue=o,o=o.dispatch=GM.bind(null,be,o),[l.memoizedState,o]}function od(o,l,f,m){return o={tag:o,create:l,destroy:f,deps:m,next:null},l=be.updateQueue,l===null?(l={lastEffect:null,stores:null},be.updateQueue=l,l.lastEffect=o.next=o):(f=l.lastEffect,f===null?l.lastEffect=o.next=o:(m=f.next,f.next=o,o.next=m,l.lastEffect=o)),o}function PS(){return Ii().memoizedState}function Tg(o,l,f,m){var v=Rs();be.flags|=o,v.memoizedState=od(1|l,f,void 0,m===void 0?null:m)}function Pg(o,l,f,m){var v=Ii();m=m===void 0?null:m;var _=void 0;if(He!==null){var k=He.memoizedState;if(_=k.destroy,m!==null&&s0(m,k.deps)){v.memoizedState=od(l,f,_,m);return}}be.flags|=o,v.memoizedState=od(1|l,f,_,m)}function RS(o,l){return Tg(8390656,8,o,l)}function c0(o,l){return Pg(2048,8,o,l)}function MS(o,l){return Pg(4,2,o,l)}function LS(o,l){return Pg(4,4,o,l)}function IS(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function DS(o,l,f){return f=f!=null?f.concat([o]):null,Pg(4,4,IS.bind(null,l,o),f)}function u0(){}function OS(o,l){var f=Ii();l=l===void 0?null:l;var m=f.memoizedState;return m!==null&&l!==null&&s0(l,m[1])?m[0]:(f.memoizedState=[o,l],o)}function FS(o,l){var f=Ii();l=l===void 0?null:l;var m=f.memoizedState;return m!==null&&l!==null&&s0(l,m[1])?m[0]:(o=o(),f.memoizedState=[o,l],o)}function NS(o,l,f){return Da&21?(ts(f,l)||(f=f_(),be.lanes|=f,Oa|=f,o.baseState=!0),l):(o.baseState&&(o.baseState=!1,qn=!0),o.memoizedState=f)}function VM(o,l){var f=te;te=f!==0&&4>f?f:4,o(!0);var m=i0.transition;i0.transition={};try{o(!1),l()}finally{te=f,i0.transition=m}}function jS(){return Ii().memoizedState}function $M(o,l,f){var m=Ao(o);if(f={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null},zS(o))HS(l,f);else if(f=mS(o,l,f,m),f!==null){var v=Fn();rs(f,o,m,v),BS(f,l,m)}}function GM(o,l,f){var m=Ao(o),v={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null};if(zS(o))HS(l,v);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var k=l.lastRenderedState,L=_(k,f);if(v.hasEagerState=!0,v.eagerState=L,ts(L,k)){var H=l.interleaved;H===null?(v.next=v,Qv(l)):(v.next=H.next,H.next=v),l.interleaved=v;return}}catch{}finally{}f=mS(o,l,v,m),f!==null&&(v=Fn(),rs(f,o,m,v),BS(f,l,m))}}function zS(o){var l=o.alternate;return o===be||l!==null&&l===be}function HS(o,l){id=kg=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function BS(o,l,f){if(f&4194240){var m=l.lanes;m&=o.pendingLanes,f|=m,l.lanes=f,dv(o,f)}}var Rg={readContext:Li,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},XM={readContext:Li,useCallback:function(o,l){return Rs().memoizedState=[o,l===void 0?null:l],o},useContext:Li,useEffect:RS,useImperativeHandle:function(o,l,f){return f=f!=null?f.concat([o]):null,Tg(4194308,4,IS.bind(null,l,o),f)},useLayoutEffect:function(o,l){return Tg(4194308,4,o,l)},useInsertionEffect:function(o,l){return Tg(4,2,o,l)},useMemo:function(o,l){var f=Rs();return l=l===void 0?null:l,o=o(),f.memoizedState=[o,l],o},useReducer:function(o,l,f){var m=Rs();return l=f!==void 0?f(l):l,m.memoizedState=m.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},m.queue=o,o=o.dispatch=$M.bind(null,be,o),[m.memoizedState,o]},useRef:function(o){var l=Rs();return o={current:o},l.memoizedState=o},useState:TS,useDebugValue:u0,useDeferredValue:function(o){return Rs().memoizedState=o},useTransition:function(){var o=TS(!1),l=o[0];return o=VM.bind(null,o[1]),Rs().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,f){var m=be,v=Rs();if(me){if(f===void 0)throw Error(e(407));f=f()}else{if(f=l(),Ke===null)throw Error(e(349));Da&30||SS(m,l,f)}v.memoizedState=f;var _={value:f,getSnapshot:l};return v.queue=_,RS(ES.bind(null,m,_,o),[o]),m.flags|=2048,od(9,AS.bind(null,m,_,f,l),void 0,null),f},useId:function(){var o=Rs(),l=Ke.identifierPrefix;if(me){var f=pr,m=fr;f=(m&~(1<<32-Zi(m)-1)).toString(32)+f,l=":"+l+"R"+f,f=sd++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=UM++,l=":"+l+"r"+f.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},qM={readContext:Li,useCallback:OS,useContext:Li,useEffect:c0,useImperativeHandle:DS,useInsertionEffect:MS,useLayoutEffect:LS,useMemo:FS,useReducer:a0,useRef:PS,useState:function(){return a0(rd)},useDebugValue:u0,useDeferredValue:function(o){var l=Ii();return NS(l,He.memoizedState,o)},useTransition:function(){var o=a0(rd)[0],l=Ii().memoizedState;return[o,l]},useMutableSource:xS,useSyncExternalStore:_S,useId:jS,unstable_isNewReconciler:!1},YM={readContext:Li,useCallback:OS,useContext:Li,useEffect:c0,useImperativeHandle:DS,useInsertionEffect:MS,useLayoutEffect:LS,useMemo:FS,useReducer:l0,useRef:PS,useState:function(){return l0(rd)},useDebugValue:u0,useDeferredValue:function(o){var l=Ii();return He===null?l.memoizedState=o:NS(l,He.memoizedState,o)},useTransition:function(){var o=l0(rd)[0],l=Ii().memoizedState;return[o,l]},useMutableSource:xS,useSyncExternalStore:_S,useId:jS,unstable_isNewReconciler:!1};function ns(o,l){if(o&&o.defaultProps){l=it({},l),o=o.defaultProps;for(var f in o)l[f]===void 0&&(l[f]=o[f]);return l}return l}function h0(o,l,f,m){l=o.memoizedState,f=f(m,l),f=f==null?l:it({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Mg={isMounted:function(o){return(o=o._reactInternals)?ka(o)===o:!1},enqueueSetState:function(o,l,f){o=o._reactInternals;var m=Fn(),v=Ao(o),_=mr(m,v);_.payload=l,f!=null&&(_.callback=f),l=wo(o,_,v),l!==null&&(rs(l,o,v,m),Sg(l,o,v))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var m=Fn(),v=Ao(o),_=mr(m,v);_.tag=1,_.payload=l,f!=null&&(_.callback=f),l=wo(o,_,v),l!==null&&(rs(l,o,v,m),Sg(l,o,v))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=Fn(),m=Ao(o),v=mr(f,m);v.tag=2,l!=null&&(v.callback=l),l=wo(o,v,m),l!==null&&(rs(l,o,m,f),Sg(l,o,m))}};function WS(o,l,f,m,v,_,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,_,k):l.prototype&&l.prototype.isPureReactComponent?!Gh(f,m)||!Gh(v,_):!0}function US(o,l,f){var m=!1,v=yo,_=l.contextType;return typeof _=="object"&&_!==null?_=Li(_):(v=Xn(l)?Pa:wn.current,m=l.contextTypes,_=(m=m!=null)?Pc(o,v):yo),l=new l(f,_),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Mg,o.stateNode=l,l._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=v,o.__reactInternalMemoizedMaskedChildContext=_),l}function VS(o,l,f,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,m),l.state!==o&&Mg.enqueueReplaceState(l,l.state,null)}function d0(o,l,f,m){var v=o.stateNode;v.props=f,v.state=o.memoizedState,v.refs={},Jv(o);var _=l.contextType;typeof _=="object"&&_!==null?v.context=Li(_):(_=Xn(l)?Pa:wn.current,v.context=Pc(o,_)),v.state=o.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(h0(o,l,_,f),v.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(l=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),l!==v.state&&Mg.enqueueReplaceState(v,v.state,null),Ag(o,f,v,m),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308)}function Nc(o,l){try{var f="",m=l;do f+=At(m),m=m.return;while(m);var v=f}catch(_){v=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:l,stack:v,digest:null}}function f0(o,l,f){return{value:o,source:null,stack:f??null,digest:l??null}}function p0(o,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var KM=typeof WeakMap=="function"?WeakMap:Map;function $S(o,l,f){f=mr(-1,f),f.tag=3,f.payload={element:null};var m=l.value;return f.callback=function(){jg||(jg=!0,P0=m),p0(o,l)},f}function GS(o,l,f){f=mr(-1,f),f.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=l.value;f.payload=function(){return m(v)},f.callback=function(){p0(o,l)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){p0(o,l),typeof m!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var k=l.stack;this.componentDidCatch(l.value,{componentStack:k!==null?k:""})}),f}function XS(o,l,f){var m=o.pingCache;if(m===null){m=o.pingCache=new KM;var v=new Set;m.set(l,v)}else v=m.get(l),v===void 0&&(v=new Set,m.set(l,v));v.has(f)||(v.add(f),o=uL.bind(null,o,l,f),l.then(o,o))}function qS(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function YS(o,l,f,m,v){return o.mode&1?(o.flags|=65536,o.lanes=v,o):(o===l?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=mr(-1,1),l.tag=2,wo(f,l,1))),f.lanes|=1),o)}var QM=M.ReactCurrentOwner,qn=!1;function On(o,l,f,m){l.child=o===null?gS(l,null,f,m):Ic(l,o.child,f,m)}function KS(o,l,f,m,v){f=f.render;var _=l.ref;return Oc(l,v),m=r0(o,l,f,m,_,v),f=o0(),o!==null&&!qn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~v,yr(o,l,v)):(me&&f&&Wv(l),l.flags|=1,On(o,l,m,v),l.child)}function QS(o,l,f,m,v){if(o===null){var _=f.type;return typeof _=="function"&&!F0(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=_,JS(o,l,_,m,v)):(o=Vg(f.type,null,m,l,l.mode,v),o.ref=l.ref,o.return=l,l.child=o)}if(_=o.child,!(o.lanes&v)){var k=_.memoizedProps;if(f=f.compare,f=f!==null?f:Gh,f(k,m)&&o.ref===l.ref)return yr(o,l,v)}return l.flags|=1,o=Co(_,m),o.ref=l.ref,o.return=l,l.child=o}function JS(o,l,f,m,v){if(o!==null){var _=o.memoizedProps;if(Gh(_,m)&&o.ref===l.ref)if(qn=!1,l.pendingProps=m=_,(o.lanes&v)!==0)o.flags&131072&&(qn=!0);else return l.lanes=o.lanes,yr(o,l,v)}return g0(o,l,f,m,v)}function ZS(o,l,f){var m=l.pendingProps,v=m.children,_=o!==null?o.memoizedState:null;if(m.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(zc,gi),gi|=f;else{if(!(f&1073741824))return o=_!==null?_.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,ce(zc,gi),gi|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=_!==null?_.baseLanes:f,ce(zc,gi),gi|=m}else _!==null?(m=_.baseLanes|f,l.memoizedState=null):m=f,ce(zc,gi),gi|=m;return On(o,l,v,f),l.child}function tA(o,l){var f=l.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function g0(o,l,f,m,v){var _=Xn(f)?Pa:wn.current;return _=Pc(l,_),Oc(l,v),f=r0(o,l,f,m,_,v),m=o0(),o!==null&&!qn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~v,yr(o,l,v)):(me&&m&&Wv(l),l.flags|=1,On(o,l,f,v),l.child)}function eA(o,l,f,m,v){if(Xn(f)){var _=!0;gg(l)}else _=!1;if(Oc(l,v),l.stateNode===null)Ig(o,l),US(l,f,m),d0(l,f,m,v),m=!0;else if(o===null){var k=l.stateNode,L=l.memoizedProps;k.props=L;var H=k.context,q=f.contextType;typeof q=="object"&&q!==null?q=Li(q):(q=Xn(f)?Pa:wn.current,q=Pc(l,q));var tt=f.getDerivedStateFromProps,st=typeof tt=="function"||typeof k.getSnapshotBeforeUpdate=="function";st||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(L!==m||H!==q)&&VS(l,k,m,q),bo=!1;var Z=l.memoizedState;k.state=Z,Ag(l,m,k,v),H=l.memoizedState,L!==m||Z!==H||Gn.current||bo?(typeof tt=="function"&&(h0(l,f,tt,m),H=l.memoizedState),(L=bo||WS(l,f,L,m,Z,H,q))?(st||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(l.flags|=4194308)):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=H),k.props=m,k.state=H,k.context=q,m=L):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{k=l.stateNode,yS(o,l),L=l.memoizedProps,q=l.type===l.elementType?L:ns(l.type,L),k.props=q,st=l.pendingProps,Z=k.context,H=f.contextType,typeof H=="object"&&H!==null?H=Li(H):(H=Xn(f)?Pa:wn.current,H=Pc(l,H));var pt=f.getDerivedStateFromProps;(tt=typeof pt=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(L!==st||Z!==H)&&VS(l,k,m,H),bo=!1,Z=l.memoizedState,k.state=Z,Ag(l,m,k,v);var bt=l.memoizedState;L!==st||Z!==bt||Gn.current||bo?(typeof pt=="function"&&(h0(l,f,pt,m),bt=l.memoizedState),(q=bo||WS(l,f,q,m,Z,bt,H)||!1)?(tt||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(m,bt,H),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(m,bt,H)),typeof k.componentDidUpdate=="function"&&(l.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof k.componentDidUpdate!="function"||L===o.memoizedProps&&Z===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&Z===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=bt),k.props=m,k.state=bt,k.context=H,m=q):(typeof k.componentDidUpdate!="function"||L===o.memoizedProps&&Z===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&Z===o.memoizedState||(l.flags|=1024),m=!1)}return m0(o,l,f,m,_,v)}function m0(o,l,f,m,v,_){tA(o,l);var k=(l.flags&128)!==0;if(!m&&!k)return v&&oS(l,f,!1),yr(o,l,_);m=l.stateNode,QM.current=l;var L=k&&typeof f.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,o!==null&&k?(l.child=Ic(l,o.child,null,_),l.child=Ic(l,null,L,_)):On(o,l,L,_),l.memoizedState=m.state,v&&oS(l,f,!0),l.child}function nA(o){var l=o.stateNode;l.pendingContext?sS(o,l.pendingContext,l.pendingContext!==l.context):l.context&&sS(o,l.context,!1),Zv(o,l.containerInfo)}function iA(o,l,f,m,v){return Lc(),Gv(v),l.flags|=256,On(o,l,f,m),l.child}var y0={dehydrated:null,treeContext:null,retryLane:0};function v0(o){return{baseLanes:o,cachePool:null,transitions:null}}function sA(o,l,f){var m=l.pendingProps,v=ve.current,_=!1,k=(l.flags&128)!==0,L;if((L=k)||(L=o!==null&&o.memoizedState===null?!1:(v&2)!==0),L?(_=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(v|=1),ce(ve,v&1),o===null)return $v(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(l.mode&1?o.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(k=m.children,o=m.fallback,_?(m=l.mode,_=l.child,k={mode:"hidden",children:k},!(m&1)&&_!==null?(_.childLanes=0,_.pendingProps=k):_=$g(k,m,0,null),o=za(o,m,f,null),_.return=l,o.return=l,_.sibling=o,l.child=_,l.child.memoizedState=v0(f),l.memoizedState=y0,o):b0(l,k));if(v=o.memoizedState,v!==null&&(L=v.dehydrated,L!==null))return JM(o,l,k,m,L,v,f);if(_){_=m.fallback,k=l.mode,v=o.child,L=v.sibling;var H={mode:"hidden",children:m.children};return!(k&1)&&l.child!==v?(m=l.child,m.childLanes=0,m.pendingProps=H,l.deletions=null):(m=Co(v,H),m.subtreeFlags=v.subtreeFlags&14680064),L!==null?_=Co(L,_):(_=za(_,k,f,null),_.flags|=2),_.return=l,m.return=l,m.sibling=_,l.child=m,m=_,_=l.child,k=o.child.memoizedState,k=k===null?v0(f):{baseLanes:k.baseLanes|f,cachePool:null,transitions:k.transitions},_.memoizedState=k,_.childLanes=o.childLanes&~f,l.memoizedState=y0,m}return _=o.child,o=_.sibling,m=Co(_,{mode:"visible",children:m.children}),!(l.mode&1)&&(m.lanes=f),m.return=l,m.sibling=null,o!==null&&(f=l.deletions,f===null?(l.deletions=[o],l.flags|=16):f.push(o)),l.child=m,l.memoizedState=null,m}function b0(o,l){return l=$g({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Lg(o,l,f,m){return m!==null&&Gv(m),Ic(l,o.child,null,f),o=b0(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function JM(o,l,f,m,v,_,k){if(f)return l.flags&256?(l.flags&=-257,m=f0(Error(e(422))),Lg(o,l,k,m)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(_=m.fallback,v=l.mode,m=$g({mode:"visible",children:m.children},v,0,null),_=za(_,v,k,null),_.flags|=2,m.return=l,_.return=l,m.sibling=_,l.child=m,l.mode&1&&Ic(l,o.child,null,k),l.child.memoizedState=v0(k),l.memoizedState=y0,_);if(!(l.mode&1))return Lg(o,l,k,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var L=m.dgst;return m=L,_=Error(e(419)),m=f0(_,m,void 0),Lg(o,l,k,m)}if(L=(k&o.childLanes)!==0,qn||L){if(m=Ke,m!==null){switch(k&-k){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(m.suspendedLanes|k)?0:v,v!==0&&v!==_.retryLane&&(_.retryLane=v,gr(o,v),rs(m,o,v,-1))}return O0(),m=f0(Error(e(421))),Lg(o,l,k,m)}return v.data==="$?"?(l.flags|=128,l.child=o.child,l=hL.bind(null,o),v._reactRetry=l,null):(o=_.treeContext,pi=go(v.nextSibling),fi=l,me=!0,es=null,o!==null&&(Ri[Mi++]=fr,Ri[Mi++]=pr,Ri[Mi++]=Ra,fr=o.id,pr=o.overflow,Ra=l),l=b0(l,m.children),l.flags|=4096,l)}function rA(o,l,f){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),Kv(o.return,l,f)}function w0(o,l,f,m,v){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:v}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=f,_.tailMode=v)}function oA(o,l,f){var m=l.pendingProps,v=m.revealOrder,_=m.tail;if(On(o,l,m.children,f),m=ve.current,m&2)m=m&1|2,l.flags|=128;else{if(o!==null&&o.flags&128)t:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&rA(o,f,l);else if(o.tag===19)rA(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break t;for(;o.sibling===null;){if(o.return===null||o.return===l)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(ce(ve,m),!(l.mode&1))l.memoizedState=null;else switch(v){case"forwards":for(f=l.child,v=null;f!==null;)o=f.alternate,o!==null&&Eg(o)===null&&(v=f),f=f.sibling;f=v,f===null?(v=l.child,l.child=null):(v=f.sibling,f.sibling=null),w0(l,!1,v,f,_);break;case"backwards":for(f=null,v=l.child,l.child=null;v!==null;){if(o=v.alternate,o!==null&&Eg(o)===null){l.child=v;break}o=v.sibling,v.sibling=f,f=v,v=o}w0(l,!0,f,null,_);break;case"together":w0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ig(o,l){!(l.mode&1)&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function yr(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),Oa|=l.lanes,!(f&l.childLanes))return null;if(o!==null&&l.child!==o.child)throw Error(e(153));if(l.child!==null){for(o=l.child,f=Co(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=Co(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function ZM(o,l,f){switch(l.tag){case 3:nA(l),Lc();break;case 5:wS(l);break;case 1:Xn(l.type)&&gg(l);break;case 4:Zv(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,v=l.memoizedProps.value;ce(xg,m._currentValue),m._currentValue=v;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(ce(ve,ve.current&1),l.flags|=128,null):f&l.child.childLanes?sA(o,l,f):(ce(ve,ve.current&1),o=yr(o,l,f),o!==null?o.sibling:null);ce(ve,ve.current&1);break;case 19:if(m=(f&l.childLanes)!==0,o.flags&128){if(m)return oA(o,l,f);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ce(ve,ve.current),m)break;return null;case 22:case 23:return l.lanes=0,ZS(o,l,f)}return yr(o,l,f)}var aA,x0,lA,cA;aA=function(o,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},x0=function(){},lA=function(o,l,f,m){var v=o.memoizedProps;if(v!==m){o=l.stateNode,Ia(Ps.current);var _=null;switch(f){case"input":v=Lt(o,v),m=Lt(o,m),_=[];break;case"select":v=it({},v,{value:void 0}),m=it({},m,{value:void 0}),_=[];break;case"textarea":v=ar(o,v),m=ar(o,m),_=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=dg)}Eh(f,m);var k;f=null;for(q in v)if(!m.hasOwnProperty(q)&&v.hasOwnProperty(q)&&v[q]!=null)if(q==="style"){var L=v[q];for(k in L)L.hasOwnProperty(k)&&(f||(f={}),f[k]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(s.hasOwnProperty(q)?_||(_=[]):(_=_||[]).push(q,null));for(q in m){var H=m[q];if(L=v!=null?v[q]:void 0,m.hasOwnProperty(q)&&H!==L&&(H!=null||L!=null))if(q==="style")if(L){for(k in L)!L.hasOwnProperty(k)||H&&H.hasOwnProperty(k)||(f||(f={}),f[k]="");for(k in H)H.hasOwnProperty(k)&&L[k]!==H[k]&&(f||(f={}),f[k]=H[k])}else f||(_||(_=[]),_.push(q,f)),f=H;else q==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,L=L?L.__html:void 0,H!=null&&L!==H&&(_=_||[]).push(q,H)):q==="children"?typeof H!="string"&&typeof H!="number"||(_=_||[]).push(q,""+H):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(s.hasOwnProperty(q)?(H!=null&&q==="onScroll"&&he("scroll",o),_||L===H||(_=[])):(_=_||[]).push(q,H))}f&&(_=_||[]).push("style",f);var q=_;(l.updateQueue=q)&&(l.flags|=4)}},cA=function(o,l,f,m){f!==m&&(l.flags|=4)};function ad(o,l){if(!me)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function _n(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,m=0;if(l)for(var v=o.child;v!==null;)f|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)f|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=m,o.childLanes=f,l}function tL(o,l,f){var m=l.pendingProps;switch(Uv(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(l),null;case 1:return Xn(l.type)&&pg(),_n(l),null;case 3:return m=l.stateNode,Fc(),de(Gn),de(wn),n0(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(bg(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,es!==null&&(L0(es),es=null))),x0(o,l),_n(l),null;case 5:t0(l);var v=Ia(nd.current);if(f=l.type,o!==null&&l.stateNode!=null)lA(o,l,f,m,v),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(e(166));return _n(l),null}if(o=Ia(Ps.current),bg(l)){m=l.stateNode,f=l.type;var _=l.memoizedProps;switch(m[Ts]=l,m[Qh]=_,o=(l.mode&1)!==0,f){case"dialog":he("cancel",m),he("close",m);break;case"iframe":case"object":case"embed":he("load",m);break;case"video":case"audio":for(v=0;v<qh.length;v++)he(qh[v],m);break;case"source":he("error",m);break;case"img":case"image":case"link":he("error",m),he("load",m);break;case"details":he("toggle",m);break;case"input":Ut(m,_),he("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!_.multiple},he("invalid",m);break;case"textarea":ao(m,_),he("invalid",m)}Eh(f,_),v=null;for(var k in _)if(_.hasOwnProperty(k)){var L=_[k];k==="children"?typeof L=="string"?m.textContent!==L&&(_.suppressHydrationWarning!==!0&&hg(m.textContent,L,o),v=["children",L]):typeof L=="number"&&m.textContent!==""+L&&(_.suppressHydrationWarning!==!0&&hg(m.textContent,L,o),v=["children",""+L]):s.hasOwnProperty(k)&&L!=null&&k==="onScroll"&&he("scroll",m)}switch(f){case"input":Gt(m),vn(m,_,!0);break;case"textarea":Gt(m),Ea(m);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(m.onclick=dg)}m=v,l.updateQueue=m,m!==null&&(l.flags|=4)}else{k=v.nodeType===9?v:v.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=vc(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=k.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=k.createElement(f,{is:m.is}):(o=k.createElement(f),f==="select"&&(k=o,m.multiple?k.multiple=!0:m.size&&(k.size=m.size))):o=k.createElementNS(o,f),o[Ts]=l,o[Qh]=m,aA(o,l,!1,!1),l.stateNode=o;t:{switch(k=Ch(f,m),f){case"dialog":he("cancel",o),he("close",o),v=m;break;case"iframe":case"object":case"embed":he("load",o),v=m;break;case"video":case"audio":for(v=0;v<qh.length;v++)he(qh[v],o);v=m;break;case"source":he("error",o),v=m;break;case"img":case"image":case"link":he("error",o),he("load",o),v=m;break;case"details":he("toggle",o),v=m;break;case"input":Ut(o,m),v=Lt(o,m),he("invalid",o);break;case"option":v=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},v=it({},m,{value:void 0}),he("invalid",o);break;case"textarea":ao(o,m),v=ar(o,m),he("invalid",o);break;default:v=m}Eh(f,v),L=v;for(_ in L)if(L.hasOwnProperty(_)){var H=L[_];_==="style"?Wp(o,H):_==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Ji(o,H)):_==="children"?typeof H=="string"?(f!=="textarea"||H!=="")&&bn(o,H):typeof H=="number"&&bn(o,""+H):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?H!=null&&_==="onScroll"&&he("scroll",o):H!=null&&R(o,_,H,k))}switch(f){case"input":Gt(o),vn(o,m,!1);break;case"textarea":Gt(o),Ea(o);break;case"option":m.value!=null&&o.setAttribute("value",""+Et(m.value));break;case"select":o.multiple=!!m.multiple,_=m.value,_!=null?an(o,!!m.multiple,_,!1):m.defaultValue!=null&&an(o,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(o.onclick=dg)}switch(f){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break t;case"img":m=!0;break t;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return _n(l),null;case 6:if(o&&l.stateNode!=null)cA(o,l,o.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(e(166));if(f=Ia(nd.current),Ia(Ps.current),bg(l)){if(m=l.stateNode,f=l.memoizedProps,m[Ts]=l,(_=m.nodeValue!==f)&&(o=fi,o!==null))switch(o.tag){case 3:hg(m.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&hg(m.nodeValue,f,(o.mode&1)!==0)}_&&(l.flags|=4)}else m=(f.nodeType===9?f:f.ownerDocument).createTextNode(m),m[Ts]=l,l.stateNode=m}return _n(l),null;case 13:if(de(ve),m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(me&&pi!==null&&l.mode&1&&!(l.flags&128))dS(),Lc(),l.flags|=98560,_=!1;else if(_=bg(l),m!==null&&m.dehydrated!==null){if(o===null){if(!_)throw Error(e(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(e(317));_[Ts]=l}else Lc(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;_n(l),_=!1}else es!==null&&(L0(es),es=null),_=!0;if(!_)return l.flags&65536?l:null}return l.flags&128?(l.lanes=f,l):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(l.child.flags|=8192,l.mode&1&&(o===null||ve.current&1?Be===0&&(Be=3):O0())),l.updateQueue!==null&&(l.flags|=4),_n(l),null);case 4:return Fc(),x0(o,l),o===null&&Yh(l.stateNode.containerInfo),_n(l),null;case 10:return Yv(l.type._context),_n(l),null;case 17:return Xn(l.type)&&pg(),_n(l),null;case 19:if(de(ve),_=l.memoizedState,_===null)return _n(l),null;if(m=(l.flags&128)!==0,k=_.rendering,k===null)if(m)ad(_,!1);else{if(Be!==0||o!==null&&o.flags&128)for(o=l.child;o!==null;){if(k=Eg(o),k!==null){for(l.flags|=128,ad(_,!1),m=k.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=f,f=l.child;f!==null;)_=f,o=m,_.flags&=14680066,k=_.alternate,k===null?(_.childLanes=0,_.lanes=o,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=k.childLanes,_.lanes=k.lanes,_.child=k.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=k.memoizedProps,_.memoizedState=k.memoizedState,_.updateQueue=k.updateQueue,_.type=k.type,o=k.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return ce(ve,ve.current&1|2),l.child}o=o.sibling}_.tail!==null&&Pe()>Hc&&(l.flags|=128,m=!0,ad(_,!1),l.lanes=4194304)}else{if(!m)if(o=Eg(k),o!==null){if(l.flags|=128,m=!0,f=o.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),ad(_,!0),_.tail===null&&_.tailMode==="hidden"&&!k.alternate&&!me)return _n(l),null}else 2*Pe()-_.renderingStartTime>Hc&&f!==1073741824&&(l.flags|=128,m=!0,ad(_,!1),l.lanes=4194304);_.isBackwards?(k.sibling=l.child,l.child=k):(f=_.last,f!==null?f.sibling=k:l.child=k,_.last=k)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=Pe(),l.sibling=null,f=ve.current,ce(ve,m?f&1|2:f&1),l):(_n(l),null);case 22:case 23:return D0(),m=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(l.flags|=8192),m&&l.mode&1?gi&1073741824&&(_n(l),l.subtreeFlags&6&&(l.flags|=8192)):_n(l),null;case 24:return null;case 25:return null}throw Error(e(156,l.tag))}function eL(o,l){switch(Uv(l),l.tag){case 1:return Xn(l.type)&&pg(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Fc(),de(Gn),de(wn),n0(),o=l.flags,o&65536&&!(o&128)?(l.flags=o&-65537|128,l):null;case 5:return t0(l),null;case 13:if(de(ve),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(e(340));Lc()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return de(ve),null;case 4:return Fc(),null;case 10:return Yv(l.type._context),null;case 22:case 23:return D0(),null;case 24:return null;default:return null}}var Dg=!1,Sn=!1,nL=typeof WeakSet=="function"?WeakSet:Set,yt=null;function jc(o,l){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(m){Ee(o,l,m)}else f.current=null}function _0(o,l,f){try{f()}catch(m){Ee(o,l,m)}}var uA=!1;function iL(o,l){if(Dv=tg,o=W_(),Cv(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else t:{f=(f=o.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var v=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break t}var k=0,L=-1,H=-1,q=0,tt=0,st=o,Z=null;e:for(;;){for(var pt;st!==f||v!==0&&st.nodeType!==3||(L=k+v),st!==_||m!==0&&st.nodeType!==3||(H=k+m),st.nodeType===3&&(k+=st.nodeValue.length),(pt=st.firstChild)!==null;)Z=st,st=pt;for(;;){if(st===o)break e;if(Z===f&&++q===v&&(L=k),Z===_&&++tt===m&&(H=k),(pt=st.nextSibling)!==null)break;st=Z,Z=st.parentNode}st=pt}f=L===-1||H===-1?null:{start:L,end:H}}else f=null}f=f||{start:0,end:0}}else f=null;for(Ov={focusedElem:o,selectionRange:f},tg=!1,yt=l;yt!==null;)if(l=yt,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,yt=o;else for(;yt!==null;){l=yt;try{var bt=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var wt=bt.memoizedProps,Re=bt.memoizedState,U=l.stateNode,B=U.getSnapshotBeforeUpdate(l.elementType===l.type?wt:ns(l.type,wt),Re);U.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var V=l.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(at){Ee(l,l.return,at)}if(o=l.sibling,o!==null){o.return=l.return,yt=o;break}yt=l.return}return bt=uA,uA=!1,bt}function ld(o,l,f){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&o)===o){var _=v.destroy;v.destroy=void 0,_!==void 0&&_0(l,f,_)}v=v.next}while(v!==m)}}function Og(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&o)===o){var m=f.create;f.destroy=m()}f=f.next}while(f!==l)}}function S0(o){var l=o.ref;if(l!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof l=="function"?l(o):l.current=o}}function hA(o){var l=o.alternate;l!==null&&(o.alternate=null,hA(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Ts],delete l[Qh],delete l[zv],delete l[zM],delete l[HM])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function dA(o){return o.tag===5||o.tag===3||o.tag===4}function fA(o){t:for(;;){for(;o.sibling===null;){if(o.return===null||dA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue t;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function A0(o,l,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(o,l):f.insertBefore(o,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(o,f)):(l=f,l.appendChild(o)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=dg));else if(m!==4&&(o=o.child,o!==null))for(A0(o,l,f),o=o.sibling;o!==null;)A0(o,l,f),o=o.sibling}function E0(o,l,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(E0(o,l,f),o=o.sibling;o!==null;)E0(o,l,f),o=o.sibling}var ln=null,is=!1;function xo(o,l,f){for(f=f.child;f!==null;)pA(o,l,f),f=f.sibling}function pA(o,l,f){if(ks&&typeof ks.onCommitFiberUnmount=="function")try{ks.onCommitFiberUnmount(qp,f)}catch{}switch(f.tag){case 5:Sn||jc(f,l);case 6:var m=ln,v=is;ln=null,xo(o,l,f),ln=m,is=v,ln!==null&&(is?(o=ln,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):ln.removeChild(f.stateNode));break;case 18:ln!==null&&(is?(o=ln,f=f.stateNode,o.nodeType===8?jv(o.parentNode,f):o.nodeType===1&&jv(o,f),Hh(o)):jv(ln,f.stateNode));break;case 4:m=ln,v=is,ln=f.stateNode.containerInfo,is=!0,xo(o,l,f),ln=m,is=v;break;case 0:case 11:case 14:case 15:if(!Sn&&(m=f.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var _=v,k=_.destroy;_=_.tag,k!==void 0&&(_&2||_&4)&&_0(f,l,k),v=v.next}while(v!==m)}xo(o,l,f);break;case 1:if(!Sn&&(jc(f,l),m=f.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=f.memoizedProps,m.state=f.memoizedState,m.componentWillUnmount()}catch(L){Ee(f,l,L)}xo(o,l,f);break;case 21:xo(o,l,f);break;case 22:f.mode&1?(Sn=(m=Sn)||f.memoizedState!==null,xo(o,l,f),Sn=m):xo(o,l,f);break;default:xo(o,l,f)}}function gA(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new nL),l.forEach(function(m){var v=dL.bind(null,o,m);f.has(m)||(f.add(m),m.then(v,v))})}}function ss(o,l){var f=l.deletions;if(f!==null)for(var m=0;m<f.length;m++){var v=f[m];try{var _=o,k=l,L=k;t:for(;L!==null;){switch(L.tag){case 5:ln=L.stateNode,is=!1;break t;case 3:ln=L.stateNode.containerInfo,is=!0;break t;case 4:ln=L.stateNode.containerInfo,is=!0;break t}L=L.return}if(ln===null)throw Error(e(160));pA(_,k,v),ln=null,is=!1;var H=v.alternate;H!==null&&(H.return=null),v.return=null}catch(q){Ee(v,l,q)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)mA(l,o),l=l.sibling}function mA(o,l){var f=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ss(l,o),Ms(o),m&4){try{ld(3,o,o.return),Og(3,o)}catch(wt){Ee(o,o.return,wt)}try{ld(5,o,o.return)}catch(wt){Ee(o,o.return,wt)}}break;case 1:ss(l,o),Ms(o),m&512&&f!==null&&jc(f,f.return);break;case 5:if(ss(l,o),Ms(o),m&512&&f!==null&&jc(f,f.return),o.flags&32){var v=o.stateNode;try{bn(v,"")}catch(wt){Ee(o,o.return,wt)}}if(m&4&&(v=o.stateNode,v!=null)){var _=o.memoizedProps,k=f!==null?f.memoizedProps:_,L=o.type,H=o.updateQueue;if(o.updateQueue=null,H!==null)try{L==="input"&&_.type==="radio"&&_.name!=null&&qt(v,_),Ch(L,k);var q=Ch(L,_);for(k=0;k<H.length;k+=2){var tt=H[k],st=H[k+1];tt==="style"?Wp(v,st):tt==="dangerouslySetInnerHTML"?Ji(v,st):tt==="children"?bn(v,st):R(v,tt,st,q)}switch(L){case"input":De(v,_);break;case"textarea":Aa(v,_);break;case"select":var Z=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!_.multiple;var pt=_.value;pt!=null?an(v,!!_.multiple,pt,!1):Z!==!!_.multiple&&(_.defaultValue!=null?an(v,!!_.multiple,_.defaultValue,!0):an(v,!!_.multiple,_.multiple?[]:"",!1))}v[Qh]=_}catch(wt){Ee(o,o.return,wt)}}break;case 6:if(ss(l,o),Ms(o),m&4){if(o.stateNode===null)throw Error(e(162));v=o.stateNode,_=o.memoizedProps;try{v.nodeValue=_}catch(wt){Ee(o,o.return,wt)}}break;case 3:if(ss(l,o),Ms(o),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Hh(l.containerInfo)}catch(wt){Ee(o,o.return,wt)}break;case 4:ss(l,o),Ms(o);break;case 13:ss(l,o),Ms(o),v=o.child,v.flags&8192&&(_=v.memoizedState!==null,v.stateNode.isHidden=_,!_||v.alternate!==null&&v.alternate.memoizedState!==null||(T0=Pe())),m&4&&gA(o);break;case 22:if(tt=f!==null&&f.memoizedState!==null,o.mode&1?(Sn=(q=Sn)||tt,ss(l,o),Sn=q):ss(l,o),Ms(o),m&8192){if(q=o.memoizedState!==null,(o.stateNode.isHidden=q)&&!tt&&o.mode&1)for(yt=o,tt=o.child;tt!==null;){for(st=yt=tt;yt!==null;){switch(Z=yt,pt=Z.child,Z.tag){case 0:case 11:case 14:case 15:ld(4,Z,Z.return);break;case 1:jc(Z,Z.return);var bt=Z.stateNode;if(typeof bt.componentWillUnmount=="function"){m=Z,f=Z.return;try{l=m,bt.props=l.memoizedProps,bt.state=l.memoizedState,bt.componentWillUnmount()}catch(wt){Ee(m,f,wt)}}break;case 5:jc(Z,Z.return);break;case 22:if(Z.memoizedState!==null){bA(st);continue}}pt!==null?(pt.return=Z,yt=pt):bA(st)}tt=tt.sibling}t:for(tt=null,st=o;;){if(st.tag===5){if(tt===null){tt=st;try{v=st.stateNode,q?(_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(L=st.stateNode,H=st.memoizedProps.style,k=H!=null&&H.hasOwnProperty("display")?H.display:null,L.style.display=Ca("display",k))}catch(wt){Ee(o,o.return,wt)}}}else if(st.tag===6){if(tt===null)try{st.stateNode.nodeValue=q?"":st.memoizedProps}catch(wt){Ee(o,o.return,wt)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===o)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===o)break t;for(;st.sibling===null;){if(st.return===null||st.return===o)break t;tt===st&&(tt=null),st=st.return}tt===st&&(tt=null),st.sibling.return=st.return,st=st.sibling}}break;case 19:ss(l,o),Ms(o),m&4&&gA(o);break;case 21:break;default:ss(l,o),Ms(o)}}function Ms(o){var l=o.flags;if(l&2){try{t:{for(var f=o.return;f!==null;){if(dA(f)){var m=f;break t}f=f.return}throw Error(e(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(bn(v,""),m.flags&=-33);var _=fA(o);E0(o,_,v);break;case 3:case 4:var k=m.stateNode.containerInfo,L=fA(o);A0(o,L,k);break;default:throw Error(e(161))}}catch(H){Ee(o,o.return,H)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function sL(o,l,f){yt=o,yA(o)}function yA(o,l,f){for(var m=(o.mode&1)!==0;yt!==null;){var v=yt,_=v.child;if(v.tag===22&&m){var k=v.memoizedState!==null||Dg;if(!k){var L=v.alternate,H=L!==null&&L.memoizedState!==null||Sn;L=Dg;var q=Sn;if(Dg=k,(Sn=H)&&!q)for(yt=v;yt!==null;)k=yt,H=k.child,k.tag===22&&k.memoizedState!==null?wA(v):H!==null?(H.return=k,yt=H):wA(v);for(;_!==null;)yt=_,yA(_),_=_.sibling;yt=v,Dg=L,Sn=q}vA(o)}else v.subtreeFlags&8772&&_!==null?(_.return=v,yt=_):vA(o)}}function vA(o){for(;yt!==null;){var l=yt;if(l.flags&8772){var f=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:Sn||Og(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!Sn)if(f===null)m.componentDidMount();else{var v=l.elementType===l.type?f.memoizedProps:ns(l.type,f.memoizedProps);m.componentDidUpdate(v,f.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&bS(l,_,m);break;case 3:var k=l.updateQueue;if(k!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}bS(l,k,f)}break;case 5:var L=l.stateNode;if(f===null&&l.flags&4){f=L;var H=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&f.focus();break;case"img":H.src&&(f.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var q=l.alternate;if(q!==null){var tt=q.memoizedState;if(tt!==null){var st=tt.dehydrated;st!==null&&Hh(st)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}Sn||l.flags&512&&S0(l)}catch(Z){Ee(l,l.return,Z)}}if(l===o){yt=null;break}if(f=l.sibling,f!==null){f.return=l.return,yt=f;break}yt=l.return}}function bA(o){for(;yt!==null;){var l=yt;if(l===o){yt=null;break}var f=l.sibling;if(f!==null){f.return=l.return,yt=f;break}yt=l.return}}function wA(o){for(;yt!==null;){var l=yt;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Og(4,l)}catch(H){Ee(l,f,H)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var v=l.return;try{m.componentDidMount()}catch(H){Ee(l,v,H)}}var _=l.return;try{S0(l)}catch(H){Ee(l,_,H)}break;case 5:var k=l.return;try{S0(l)}catch(H){Ee(l,k,H)}}}catch(H){Ee(l,l.return,H)}if(l===o){yt=null;break}var L=l.sibling;if(L!==null){L.return=l.return,yt=L;break}yt=l.return}}var rL=Math.ceil,Fg=M.ReactCurrentDispatcher,C0=M.ReactCurrentOwner,Di=M.ReactCurrentBatchConfig,Xt=0,Ke=null,Oe=null,cn=0,gi=0,zc=mo(0),Be=0,cd=null,Oa=0,Ng=0,k0=0,ud=null,Yn=null,T0=0,Hc=1/0,vr=null,jg=!1,P0=null,_o=null,zg=!1,So=null,Hg=0,hd=0,R0=null,Bg=-1,Wg=0;function Fn(){return Xt&6?Pe():Bg!==-1?Bg:Bg=Pe()}function Ao(o){return o.mode&1?Xt&2&&cn!==0?cn&-cn:WM.transition!==null?(Wg===0&&(Wg=f_()),Wg):(o=te,o!==0||(o=window.event,o=o===void 0?16:__(o.type)),o):1}function rs(o,l,f,m){if(50<hd)throw hd=0,R0=null,Error(e(185));Oh(o,f,m),(!(Xt&2)||o!==Ke)&&(o===Ke&&(!(Xt&2)&&(Ng|=f),Be===4&&Eo(o,cn)),Kn(o,m),f===1&&Xt===0&&!(l.mode&1)&&(Hc=Pe()+500,mg&&vo()))}function Kn(o,l){var f=o.callbackNode;WR(o,l);var m=Qp(o,o===Ke?cn:0);if(m===0)f!==null&&u_(f),o.callbackNode=null,o.callbackPriority=0;else if(l=m&-m,o.callbackPriority!==l){if(f!=null&&u_(f),l===1)o.tag===0?BM(_A.bind(null,o)):aS(_A.bind(null,o)),NM(function(){!(Xt&6)&&vo()}),f=null;else{switch(p_(m)){case 1:f=cv;break;case 4:f=h_;break;case 16:f=Xp;break;case 536870912:f=d_;break;default:f=Xp}f=RA(f,xA.bind(null,o))}o.callbackPriority=l,o.callbackNode=f}}function xA(o,l){if(Bg=-1,Wg=0,Xt&6)throw Error(e(327));var f=o.callbackNode;if(Bc()&&o.callbackNode!==f)return null;var m=Qp(o,o===Ke?cn:0);if(m===0)return null;if(m&30||m&o.expiredLanes||l)l=Ug(o,m);else{l=m;var v=Xt;Xt|=2;var _=AA();(Ke!==o||cn!==l)&&(vr=null,Hc=Pe()+500,Na(o,l));do try{lL();break}catch(L){SA(o,L)}while(!0);qv(),Fg.current=_,Xt=v,Oe!==null?l=0:(Ke=null,cn=0,l=Be)}if(l!==0){if(l===2&&(v=uv(o),v!==0&&(m=v,l=M0(o,v))),l===1)throw f=cd,Na(o,0),Eo(o,m),Kn(o,Pe()),f;if(l===6)Eo(o,m);else{if(v=o.current.alternate,!(m&30)&&!oL(v)&&(l=Ug(o,m),l===2&&(_=uv(o),_!==0&&(m=_,l=M0(o,_))),l===1))throw f=cd,Na(o,0),Eo(o,m),Kn(o,Pe()),f;switch(o.finishedWork=v,o.finishedLanes=m,l){case 0:case 1:throw Error(e(345));case 2:ja(o,Yn,vr);break;case 3:if(Eo(o,m),(m&130023424)===m&&(l=T0+500-Pe(),10<l)){if(Qp(o,0)!==0)break;if(v=o.suspendedLanes,(v&m)!==m){Fn(),o.pingedLanes|=o.suspendedLanes&v;break}o.timeoutHandle=Nv(ja.bind(null,o,Yn,vr),l);break}ja(o,Yn,vr);break;case 4:if(Eo(o,m),(m&4194240)===m)break;for(l=o.eventTimes,v=-1;0<m;){var k=31-Zi(m);_=1<<k,k=l[k],k>v&&(v=k),m&=~_}if(m=v,m=Pe()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*rL(m/1960))-m,10<m){o.timeoutHandle=Nv(ja.bind(null,o,Yn,vr),m);break}ja(o,Yn,vr);break;case 5:ja(o,Yn,vr);break;default:throw Error(e(329))}}}return Kn(o,Pe()),o.callbackNode===f?xA.bind(null,o):null}function M0(o,l){var f=ud;return o.current.memoizedState.isDehydrated&&(Na(o,l).flags|=256),o=Ug(o,l),o!==2&&(l=Yn,Yn=f,l!==null&&L0(l)),o}function L0(o){Yn===null?Yn=o:Yn.push.apply(Yn,o)}function oL(o){for(var l=o;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var m=0;m<f.length;m++){var v=f[m],_=v.getSnapshot;v=v.value;try{if(!ts(_(),v))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Eo(o,l){for(l&=~k0,l&=~Ng,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var f=31-Zi(l),m=1<<f;o[f]=-1,l&=~m}}function _A(o){if(Xt&6)throw Error(e(327));Bc();var l=Qp(o,0);if(!(l&1))return Kn(o,Pe()),null;var f=Ug(o,l);if(o.tag!==0&&f===2){var m=uv(o);m!==0&&(l=m,f=M0(o,m))}if(f===1)throw f=cd,Na(o,0),Eo(o,l),Kn(o,Pe()),f;if(f===6)throw Error(e(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,ja(o,Yn,vr),Kn(o,Pe()),null}function I0(o,l){var f=Xt;Xt|=1;try{return o(l)}finally{Xt=f,Xt===0&&(Hc=Pe()+500,mg&&vo())}}function Fa(o){So!==null&&So.tag===0&&!(Xt&6)&&Bc();var l=Xt;Xt|=1;var f=Di.transition,m=te;try{if(Di.transition=null,te=1,o)return o()}finally{te=m,Di.transition=f,Xt=l,!(Xt&6)&&vo()}}function D0(){gi=zc.current,de(zc)}function Na(o,l){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,FM(f)),Oe!==null)for(f=Oe.return;f!==null;){var m=f;switch(Uv(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&pg();break;case 3:Fc(),de(Gn),de(wn),n0();break;case 5:t0(m);break;case 4:Fc();break;case 13:de(ve);break;case 19:de(ve);break;case 10:Yv(m.type._context);break;case 22:case 23:D0()}f=f.return}if(Ke=o,Oe=o=Co(o.current,null),cn=gi=l,Be=0,cd=null,k0=Ng=Oa=0,Yn=ud=null,La!==null){for(l=0;l<La.length;l++)if(f=La[l],m=f.interleaved,m!==null){f.interleaved=null;var v=m.next,_=f.pending;if(_!==null){var k=_.next;_.next=v,m.next=k}f.pending=m}La=null}return o}function SA(o,l){do{var f=Oe;try{if(qv(),Cg.current=Rg,kg){for(var m=be.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}kg=!1}if(Da=0,Ye=He=be=null,id=!1,sd=0,C0.current=null,f===null||f.return===null){Be=1,cd=l,Oe=null;break}t:{var _=o,k=f.return,L=f,H=l;if(l=cn,L.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var q=H,tt=L,st=tt.tag;if(!(tt.mode&1)&&(st===0||st===11||st===15)){var Z=tt.alternate;Z?(tt.updateQueue=Z.updateQueue,tt.memoizedState=Z.memoizedState,tt.lanes=Z.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var pt=qS(k);if(pt!==null){pt.flags&=-257,YS(pt,k,L,_,l),pt.mode&1&&XS(_,q,l),l=pt,H=q;var bt=l.updateQueue;if(bt===null){var wt=new Set;wt.add(H),l.updateQueue=wt}else bt.add(H);break t}else{if(!(l&1)){XS(_,q,l),O0();break t}H=Error(e(426))}}else if(me&&L.mode&1){var Re=qS(k);if(Re!==null){!(Re.flags&65536)&&(Re.flags|=256),YS(Re,k,L,_,l),Gv(Nc(H,L));break t}}_=H=Nc(H,L),Be!==4&&(Be=2),ud===null?ud=[_]:ud.push(_),_=k;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l;var U=$S(_,H,l);vS(_,U);break t;case 1:L=H;var B=_.type,V=_.stateNode;if(!(_.flags&128)&&(typeof B.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(_o===null||!_o.has(V)))){_.flags|=65536,l&=-l,_.lanes|=l;var at=GS(_,L,l);vS(_,at);break t}}_=_.return}while(_!==null)}CA(f)}catch(xt){l=xt,Oe===f&&f!==null&&(Oe=f=f.return);continue}break}while(!0)}function AA(){var o=Fg.current;return Fg.current=Rg,o===null?Rg:o}function O0(){(Be===0||Be===3||Be===2)&&(Be=4),Ke===null||!(Oa&268435455)&&!(Ng&268435455)||Eo(Ke,cn)}function Ug(o,l){var f=Xt;Xt|=2;var m=AA();(Ke!==o||cn!==l)&&(vr=null,Na(o,l));do try{aL();break}catch(v){SA(o,v)}while(!0);if(qv(),Xt=f,Fg.current=m,Oe!==null)throw Error(e(261));return Ke=null,cn=0,Be}function aL(){for(;Oe!==null;)EA(Oe)}function lL(){for(;Oe!==null&&!IR();)EA(Oe)}function EA(o){var l=PA(o.alternate,o,gi);o.memoizedProps=o.pendingProps,l===null?CA(o):Oe=l,C0.current=null}function CA(o){var l=o;do{var f=l.alternate;if(o=l.return,l.flags&32768){if(f=eL(f,l),f!==null){f.flags&=32767,Oe=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Be=6,Oe=null;return}}else if(f=tL(f,l,gi),f!==null){Oe=f;return}if(l=l.sibling,l!==null){Oe=l;return}Oe=l=o}while(l!==null);Be===0&&(Be=5)}function ja(o,l,f){var m=te,v=Di.transition;try{Di.transition=null,te=1,cL(o,l,f,m)}finally{Di.transition=v,te=m}return null}function cL(o,l,f,m){do Bc();while(So!==null);if(Xt&6)throw Error(e(327));f=o.finishedWork;var v=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(e(177));o.callbackNode=null,o.callbackPriority=0;var _=f.lanes|f.childLanes;if(UR(o,_),o===Ke&&(Oe=Ke=null,cn=0),!(f.subtreeFlags&2064)&&!(f.flags&2064)||zg||(zg=!0,RA(Xp,function(){return Bc(),null})),_=(f.flags&15990)!==0,f.subtreeFlags&15990||_){_=Di.transition,Di.transition=null;var k=te;te=1;var L=Xt;Xt|=4,C0.current=null,iL(o,f),mA(f,o),PM(Ov),tg=!!Dv,Ov=Dv=null,o.current=f,sL(f),DR(),Xt=L,te=k,Di.transition=_}else o.current=f;if(zg&&(zg=!1,So=o,Hg=v),_=o.pendingLanes,_===0&&(_o=null),NR(f.stateNode),Kn(o,Pe()),l!==null)for(m=o.onRecoverableError,f=0;f<l.length;f++)v=l[f],m(v.value,{componentStack:v.stack,digest:v.digest});if(jg)throw jg=!1,o=P0,P0=null,o;return Hg&1&&o.tag!==0&&Bc(),_=o.pendingLanes,_&1?o===R0?hd++:(hd=0,R0=o):hd=0,vo(),null}function Bc(){if(So!==null){var o=p_(Hg),l=Di.transition,f=te;try{if(Di.transition=null,te=16>o?16:o,So===null)var m=!1;else{if(o=So,So=null,Hg=0,Xt&6)throw Error(e(331));var v=Xt;for(Xt|=4,yt=o.current;yt!==null;){var _=yt,k=_.child;if(yt.flags&16){var L=_.deletions;if(L!==null){for(var H=0;H<L.length;H++){var q=L[H];for(yt=q;yt!==null;){var tt=yt;switch(tt.tag){case 0:case 11:case 15:ld(8,tt,_)}var st=tt.child;if(st!==null)st.return=tt,yt=st;else for(;yt!==null;){tt=yt;var Z=tt.sibling,pt=tt.return;if(hA(tt),tt===q){yt=null;break}if(Z!==null){Z.return=pt,yt=Z;break}yt=pt}}}var bt=_.alternate;if(bt!==null){var wt=bt.child;if(wt!==null){bt.child=null;do{var Re=wt.sibling;wt.sibling=null,wt=Re}while(wt!==null)}}yt=_}}if(_.subtreeFlags&2064&&k!==null)k.return=_,yt=k;else t:for(;yt!==null;){if(_=yt,_.flags&2048)switch(_.tag){case 0:case 11:case 15:ld(9,_,_.return)}var U=_.sibling;if(U!==null){U.return=_.return,yt=U;break t}yt=_.return}}var B=o.current;for(yt=B;yt!==null;){k=yt;var V=k.child;if(k.subtreeFlags&2064&&V!==null)V.return=k,yt=V;else t:for(k=B;yt!==null;){if(L=yt,L.flags&2048)try{switch(L.tag){case 0:case 11:case 15:Og(9,L)}}catch(xt){Ee(L,L.return,xt)}if(L===k){yt=null;break t}var at=L.sibling;if(at!==null){at.return=L.return,yt=at;break t}yt=L.return}}if(Xt=v,vo(),ks&&typeof ks.onPostCommitFiberRoot=="function")try{ks.onPostCommitFiberRoot(qp,o)}catch{}m=!0}return m}finally{te=f,Di.transition=l}}return!1}function kA(o,l,f){l=Nc(f,l),l=$S(o,l,1),o=wo(o,l,1),l=Fn(),o!==null&&(Oh(o,1,l),Kn(o,l))}function Ee(o,l,f){if(o.tag===3)kA(o,o,f);else for(;l!==null;){if(l.tag===3){kA(l,o,f);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(_o===null||!_o.has(m))){o=Nc(f,o),o=GS(l,o,1),l=wo(l,o,1),o=Fn(),l!==null&&(Oh(l,1,o),Kn(l,o));break}}l=l.return}}function uL(o,l,f){var m=o.pingCache;m!==null&&m.delete(l),l=Fn(),o.pingedLanes|=o.suspendedLanes&f,Ke===o&&(cn&f)===f&&(Be===4||Be===3&&(cn&130023424)===cn&&500>Pe()-T0?Na(o,0):k0|=f),Kn(o,l)}function TA(o,l){l===0&&(o.mode&1?(l=Kp,Kp<<=1,!(Kp&130023424)&&(Kp=4194304)):l=1);var f=Fn();o=gr(o,l),o!==null&&(Oh(o,l,f),Kn(o,f))}function hL(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),TA(o,f)}function dL(o,l){var f=0;switch(o.tag){case 13:var m=o.stateNode,v=o.memoizedState;v!==null&&(f=v.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(e(314))}m!==null&&m.delete(l),TA(o,f)}var PA;PA=function(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps||Gn.current)qn=!0;else{if(!(o.lanes&f)&&!(l.flags&128))return qn=!1,ZM(o,l,f);qn=!!(o.flags&131072)}else qn=!1,me&&l.flags&1048576&&lS(l,vg,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;Ig(o,l),o=l.pendingProps;var v=Pc(l,wn.current);Oc(l,f),v=r0(null,l,m,o,v,f);var _=o0();return l.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Xn(m)?(_=!0,gg(l)):_=!1,l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Jv(l),v.updater=Mg,l.stateNode=v,v._reactInternals=l,d0(l,m,o,f),l=m0(null,l,m,!0,_,f)):(l.tag=0,me&&_&&Wv(l),On(null,l,v,f),l=l.child),l;case 16:m=l.elementType;t:{switch(Ig(o,l),o=l.pendingProps,v=m._init,m=v(m._payload),l.type=m,v=l.tag=pL(m),o=ns(m,o),v){case 0:l=g0(null,l,m,o,f);break t;case 1:l=eA(null,l,m,o,f);break t;case 11:l=KS(null,l,m,o,f);break t;case 14:l=QS(null,l,m,ns(m.type,o),f);break t}throw Error(e(306,m,""))}return l;case 0:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:ns(m,v),g0(o,l,m,v,f);case 1:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:ns(m,v),eA(o,l,m,v,f);case 3:t:{if(nA(l),o===null)throw Error(e(387));m=l.pendingProps,_=l.memoizedState,v=_.element,yS(o,l),Ag(l,m,null,f);var k=l.memoizedState;if(m=k.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){v=Nc(Error(e(423)),l),l=iA(o,l,m,f,v);break t}else if(m!==v){v=Nc(Error(e(424)),l),l=iA(o,l,m,f,v);break t}else for(pi=go(l.stateNode.containerInfo.firstChild),fi=l,me=!0,es=null,f=gS(l,null,m,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Lc(),m===v){l=yr(o,l,f);break t}On(o,l,m,f)}l=l.child}return l;case 5:return wS(l),o===null&&$v(l),m=l.type,v=l.pendingProps,_=o!==null?o.memoizedProps:null,k=v.children,Fv(m,v)?k=null:_!==null&&Fv(m,_)&&(l.flags|=32),tA(o,l),On(o,l,k,f),l.child;case 6:return o===null&&$v(l),null;case 13:return sA(o,l,f);case 4:return Zv(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=Ic(l,null,m,f):On(o,l,m,f),l.child;case 11:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:ns(m,v),KS(o,l,m,v,f);case 7:return On(o,l,l.pendingProps,f),l.child;case 8:return On(o,l,l.pendingProps.children,f),l.child;case 12:return On(o,l,l.pendingProps.children,f),l.child;case 10:t:{if(m=l.type._context,v=l.pendingProps,_=l.memoizedProps,k=v.value,ce(xg,m._currentValue),m._currentValue=k,_!==null)if(ts(_.value,k)){if(_.children===v.children&&!Gn.current){l=yr(o,l,f);break t}}else for(_=l.child,_!==null&&(_.return=l);_!==null;){var L=_.dependencies;if(L!==null){k=_.child;for(var H=L.firstContext;H!==null;){if(H.context===m){if(_.tag===1){H=mr(-1,f&-f),H.tag=2;var q=_.updateQueue;if(q!==null){q=q.shared;var tt=q.pending;tt===null?H.next=H:(H.next=tt.next,tt.next=H),q.pending=H}}_.lanes|=f,H=_.alternate,H!==null&&(H.lanes|=f),Kv(_.return,f,l),L.lanes|=f;break}H=H.next}}else if(_.tag===10)k=_.type===l.type?null:_.child;else if(_.tag===18){if(k=_.return,k===null)throw Error(e(341));k.lanes|=f,L=k.alternate,L!==null&&(L.lanes|=f),Kv(k,f,l),k=_.sibling}else k=_.child;if(k!==null)k.return=_;else for(k=_;k!==null;){if(k===l){k=null;break}if(_=k.sibling,_!==null){_.return=k.return,k=_;break}k=k.return}_=k}On(o,l,v.children,f),l=l.child}return l;case 9:return v=l.type,m=l.pendingProps.children,Oc(l,f),v=Li(v),m=m(v),l.flags|=1,On(o,l,m,f),l.child;case 14:return m=l.type,v=ns(m,l.pendingProps),v=ns(m.type,v),QS(o,l,m,v,f);case 15:return JS(o,l,l.type,l.pendingProps,f);case 17:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:ns(m,v),Ig(o,l),l.tag=1,Xn(m)?(o=!0,gg(l)):o=!1,Oc(l,f),US(l,m,v),d0(l,m,v,f),m0(null,l,m,!0,o,f);case 19:return oA(o,l,f);case 22:return ZS(o,l,f)}throw Error(e(156,l.tag))};function RA(o,l){return c_(o,l)}function fL(o,l,f,m){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(o,l,f,m){return new fL(o,l,f,m)}function F0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function pL(o){if(typeof o=="function")return F0(o)?1:0;if(o!=null){if(o=o.$$typeof,o===K)return 11;if(o===nt)return 14}return 2}function Co(o,l){var f=o.alternate;return f===null?(f=Oi(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function Vg(o,l,f,m,v,_){var k=2;if(m=o,typeof o=="function")F0(o)&&(k=1);else if(typeof o=="string")k=5;else t:switch(o){case j:return za(f.children,v,_,l);case N:k=8,v|=8;break;case W:return o=Oi(12,f,l,v|2),o.elementType=W,o.lanes=_,o;case rt:return o=Oi(13,f,l,v),o.elementType=rt,o.lanes=_,o;case ot:return o=Oi(19,f,l,v),o.elementType=ot,o.lanes=_,o;case Q:return $g(f,v,_,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case $:k=10;break t;case G:k=9;break t;case K:k=11;break t;case nt:k=14;break t;case J:k=16,m=null;break t}throw Error(e(130,o==null?o:typeof o,""))}return l=Oi(k,f,l,v),l.elementType=o,l.type=m,l.lanes=_,l}function za(o,l,f,m){return o=Oi(7,o,m,l),o.lanes=f,o}function $g(o,l,f,m){return o=Oi(22,o,m,l),o.elementType=Q,o.lanes=f,o.stateNode={isHidden:!1},o}function N0(o,l,f){return o=Oi(6,o,null,l),o.lanes=f,o}function j0(o,l,f){return l=Oi(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function gL(o,l,f,m,v){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hv(0),this.expirationTimes=hv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hv(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function z0(o,l,f,m,v,_,k,L,H){return o=new gL(o,l,f,L,H),l===1?(l=1,_===!0&&(l|=8)):l=0,_=Oi(3,null,null,l),o.current=_,_.stateNode=o,_.memoizedState={element:m,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jv(_),o}function mL(o,l,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:m==null?null:""+m,children:o,containerInfo:l,implementation:f}}function MA(o){if(!o)return yo;o=o._reactInternals;t:{if(ka(o)!==o||o.tag!==1)throw Error(e(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Xn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(e(171))}if(o.tag===1){var f=o.type;if(Xn(f))return rS(o,f,l)}return l}function LA(o,l,f,m,v,_,k,L,H){return o=z0(f,m,!0,o,v,_,k,L,H),o.context=MA(null),f=o.current,m=Fn(),v=Ao(f),_=mr(m,v),_.callback=l??null,wo(f,_,v),o.current.lanes=v,Oh(o,v,m),Kn(o,m),o}function Gg(o,l,f,m){var v=l.current,_=Fn(),k=Ao(v);return f=MA(f),l.context===null?l.context=f:l.pendingContext=f,l=mr(_,k),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=wo(v,l,k),o!==null&&(rs(o,v,k,_),Sg(o,v,k)),k}function Xg(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function IA(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function H0(o,l){IA(o,l),(o=o.alternate)&&IA(o,l)}var DA=typeof reportError=="function"?reportError:function(o){console.error(o)};function B0(o){this._internalRoot=o}qg.prototype.render=B0.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(e(409));Gg(o,l,null,null)},qg.prototype.unmount=B0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Fa(function(){Gg(null,o,null,null)}),l[hr]=null}};function qg(o){this._internalRoot=o}qg.prototype.unstable_scheduleHydration=function(o){if(o){var l=y_();o={blockedOn:null,target:o,priority:l};for(var f=0;f<ho.length&&l!==0&&l<ho[f].priority;f++);ho.splice(f,0,o),f===0&&w_(o)}};function W0(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Yg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function OA(){}function yL(o,l,f,m,v){if(v){if(typeof m=="function"){var _=m;m=function(){var q=Xg(k);_.call(q)}}var k=LA(l,m,o,0,null,!1,!1,"",OA);return o._reactRootContainer=k,o[hr]=k.current,Yh(o.nodeType===8?o.parentNode:o),Fa(),k}for(;v=o.lastChild;)o.removeChild(v);if(typeof m=="function"){var L=m;m=function(){var q=Xg(H);L.call(q)}}var H=z0(o,0,!1,null,null,!1,!1,"",OA);return o._reactRootContainer=H,o[hr]=H.current,Yh(o.nodeType===8?o.parentNode:o),Fa(function(){Gg(l,H,f,m)}),H}function Kg(o,l,f,m,v){var _=f._reactRootContainer;if(_){var k=_;if(typeof v=="function"){var L=v;v=function(){var H=Xg(k);L.call(H)}}Gg(l,k,o,v)}else k=yL(f,l,o,v,m);return Xg(k)}g_=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var f=Dh(l.pendingLanes);f!==0&&(dv(l,f|1),Kn(l,Pe()),!(Xt&6)&&(Hc=Pe()+500,vo()))}break;case 13:Fa(function(){var m=gr(o,1);if(m!==null){var v=Fn();rs(m,o,1,v)}}),H0(o,1)}},fv=function(o){if(o.tag===13){var l=gr(o,134217728);if(l!==null){var f=Fn();rs(l,o,134217728,f)}H0(o,134217728)}},m_=function(o){if(o.tag===13){var l=Ao(o),f=gr(o,l);if(f!==null){var m=Fn();rs(f,o,l,m)}H0(o,l)}},y_=function(){return te},v_=function(o,l){var f=te;try{return te=o,l()}finally{te=f}},Th=function(o,l,f){switch(l){case"input":if(De(o,f),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var m=f[l];if(m!==o&&m.form===o.form){var v=fg(m);if(!v)throw Error(e(90));vt(m),De(m,v)}}}break;case"textarea":Aa(o,f);break;case"select":l=f.value,l!=null&&an(o,!!f.multiple,l,!1)}},Vp=I0,i_=Fa;var vL={usingClientEntryPoint:!1,Events:[Jh,kc,fg,Up,Rh,I0]},dd={findFiberByHostInstance:Ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bL={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=a_(o),o===null?null:o.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qg.isDisabled&&Qg.supportsFiber)try{qp=Qg.inject(bL),ks=Qg}catch{}}return Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vL,Qn.createPortal=function(o,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!W0(l))throw Error(e(200));return mL(o,l,null,f)},Qn.createRoot=function(o,l){if(!W0(o))throw Error(e(299));var f=!1,m="",v=DA;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),l=z0(o,1,!1,null,null,f,!1,m,v),o[hr]=l.current,Yh(o.nodeType===8?o.parentNode:o),new B0(l)},Qn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(e(188)):(o=Object.keys(o).join(","),Error(e(268,o)));return o=a_(l),o=o===null?null:o.stateNode,o},Qn.flushSync=function(o){return Fa(o)},Qn.hydrate=function(o,l,f){if(!Yg(l))throw Error(e(200));return Kg(null,o,l,!0,f)},Qn.hydrateRoot=function(o,l,f){if(!W0(o))throw Error(e(405));var m=f!=null&&f.hydratedSources||null,v=!1,_="",k=DA;if(f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(k=f.onRecoverableError)),l=LA(l,null,o,1,f??null,v,!1,_,k),o[hr]=l.current,Yh(o),m)for(o=0;o<m.length;o++)f=m[o],v=f._getVersion,v=v(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,v]:l.mutableSourceEagerHydrationData.push(f,v);return new qg(l)},Qn.render=function(o,l,f){if(!Yg(l))throw Error(e(200));return Kg(null,o,l,!1,f)},Qn.unmountComponentAtNode=function(o){if(!Yg(o))throw Error(e(40));return o._reactRootContainer?(Fa(function(){Kg(null,null,o,!1,function(){o._reactRootContainer=null,o[hr]=null})}),!0):!1},Qn.unstable_batchedUpdates=I0,Qn.unstable_renderSubtreeIntoContainer=function(o,l,f,m){if(!Yg(f))throw Error(e(200));if(o==null||o._reactInternals===void 0)throw Error(e(38));return Kg(o,l,f,!1,m)},Qn.version="18.3.1-next-f1338f8080-20240426",Qn}var VA;function aC(){if(VA)return G0.exports;VA=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),G0.exports=RL(),G0.exports}var $A;function ML(){if($A)return Jg;$A=1;var i=aC();return Jg.createRoot=i.createRoot,Jg.hydrateRoot=i.hydrateRoot,Jg}var LL=ML();function In(i,t,{checkForDefaultPrevented:e=!0}={}){return function(s){if(i==null||i(s),e===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function jy(i,t=[]){let e=[];function n(r,a){const c=D.createContext(a),u=e.length;e=[...e,a];const h=g=>{var S;const{scope:y,children:b,...w}=g,x=((S=y==null?void 0:y[i])==null?void 0:S[u])||c,A=D.useMemo(()=>w,Object.values(w));return O.jsx(x.Provider,{value:A,children:b})};h.displayName=r+"Provider";function p(g,y){var x;const b=((x=y==null?void 0:y[i])==null?void 0:x[u])||c,w=D.useContext(b);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${r}\``)}return[h,p]}const s=()=>{const r=e.map(a=>D.createContext(a));return function(c){const u=(c==null?void 0:c[i])||r;return D.useMemo(()=>({[`__scope${i}`]:{...c,[i]:u}}),[c,u])}};return s.scopeName=i,[n,IL(s,...t)]}function IL(...i){const t=i[0];if(i.length===1)return t;const e=()=>{const n=i.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(r){const a=n.reduce((c,{useScope:u,scopeName:h})=>{const g=u(r)[`__scope${h}`];return{...c,...g}},{});return D.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return e.scopeName=t.scopeName,e}function GA(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function lC(...i){return t=>{let e=!1;const n=i.map(s=>{const r=GA(s,t);return!e&&typeof r=="function"&&(e=!0),r});if(e)return()=>{for(let s=0;s<n.length;s++){const r=n[s];typeof r=="function"?r():GA(i[s],null)}}}}function rr(...i){return D.useCallback(lC(...i),i)}var sf=D.forwardRef((i,t)=>{const{children:e,...n}=i,s=D.Children.toArray(e),r=s.find(OL);if(r){const a=r.props.children,c=s.map(u=>u===r?D.Children.count(a)>1?D.Children.only(null):D.isValidElement(a)?a.props.children:null:u);return O.jsx(mb,{...n,ref:t,children:D.isValidElement(a)?D.cloneElement(a,void 0,c):null})}return O.jsx(mb,{...n,ref:t,children:e})});sf.displayName="Slot";var mb=D.forwardRef((i,t)=>{const{children:e,...n}=i;if(D.isValidElement(e)){const s=NL(e);return D.cloneElement(e,{...FL(n,e.props),ref:t?lC(t,s):s})}return D.Children.count(e)>1?D.Children.only(null):null});mb.displayName="SlotClone";var DL=({children:i})=>O.jsx(O.Fragment,{children:i});function OL(i){return D.isValidElement(i)&&i.type===DL}function FL(i,t){const e={...t};for(const n in t){const s=i[n],r=t[n];/^on[A-Z]/.test(n)?s&&r?e[n]=(...c)=>{r(...c),s(...c)}:s&&(e[n]=s):n==="style"?e[n]={...s,...r}:n==="className"&&(e[n]=[s,r].filter(Boolean).join(" "))}return{...i,...e}}function NL(i){var n,s;let t=(n=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:n.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=(s=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}function jL(i){const t=i+"CollectionProvider",[e,n]=jy(t),[s,r]=e(t,{collectionRef:{current:null},itemMap:new Map}),a=b=>{const{scope:w,children:x}=b,A=oi.useRef(null),S=oi.useRef(new Map).current;return O.jsx(s,{scope:w,itemMap:S,collectionRef:A,children:x})};a.displayName=t;const c=i+"CollectionSlot",u=oi.forwardRef((b,w)=>{const{scope:x,children:A}=b,S=r(c,x),P=rr(w,S.collectionRef);return O.jsx(sf,{ref:P,children:A})});u.displayName=c;const h=i+"CollectionItemSlot",p="data-radix-collection-item",g=oi.forwardRef((b,w)=>{const{scope:x,children:A,...S}=b,P=oi.useRef(null),R=rr(w,P),M=r(h,x);return oi.useEffect(()=>(M.itemMap.set(P,{ref:P,...S}),()=>void M.itemMap.delete(P))),O.jsx(sf,{[p]:"",ref:R,children:A})});g.displayName=h;function y(b){const w=r(i+"CollectionConsumer",b);return oi.useCallback(()=>{const A=w.collectionRef.current;if(!A)return[];const S=Array.from(A.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((M,I)=>S.indexOf(M.ref.current)-S.indexOf(I.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},y,n]}var ty=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},zL=kL.useId||(()=>{}),HL=0;function cC(i){const[t,e]=D.useState(zL());return ty(()=>{i||e(n=>n??String(HL++))},[i]),i||(t?`radix-${t}`:"")}aC();var BL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Cs=BL.reduce((i,t)=>{const e=D.forwardRef((n,s)=>{const{asChild:r,...a}=n,c=r?sf:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(c,{...a,ref:s})});return e.displayName=`Primitive.${t}`,{...i,[t]:e}},{});function sr(i){const t=D.useRef(i);return D.useEffect(()=>{t.current=i}),D.useMemo(()=>(...e)=>{var n;return(n=t.current)==null?void 0:n.call(t,...e)},[])}function uC({prop:i,defaultProp:t,onChange:e=()=>{}}){const[n,s]=WL({defaultProp:t,onChange:e}),r=i!==void 0,a=r?i:n,c=sr(e),u=D.useCallback(h=>{if(r){const g=typeof h=="function"?h(i):h;g!==i&&c(g)}else s(h)},[r,i,s,c]);return[a,u]}function WL({defaultProp:i,onChange:t}){const e=D.useState(i),[n]=e,s=D.useRef(n),r=sr(t);return D.useEffect(()=>{s.current!==n&&(r(n),s.current=n)},[n,s,r]),e}var UL=D.createContext(void 0);function lx(i){const t=D.useContext(UL);return i||t||"ltr"}var Y0="rovingFocusGroup.onEntryFocus",VL={bubbles:!1,cancelable:!0},zy="RovingFocusGroup",[yb,hC,$L]=jL(zy),[GL,dC]=jy(zy,[$L]),[XL,qL]=GL(zy),fC=D.forwardRef((i,t)=>O.jsx(yb.Provider,{scope:i.__scopeRovingFocusGroup,children:O.jsx(yb.Slot,{scope:i.__scopeRovingFocusGroup,children:O.jsx(YL,{...i,ref:t})})}));fC.displayName=zy;var YL=D.forwardRef((i,t)=>{const{__scopeRovingFocusGroup:e,orientation:n,loop:s=!1,dir:r,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=i,y=D.useRef(null),b=rr(t,y),w=lx(r),[x=null,A]=uC({prop:a,defaultProp:c,onChange:u}),[S,P]=D.useState(!1),R=sr(h),M=hC(e),I=D.useRef(!1),[F,j]=D.useState(0);return D.useEffect(()=>{const N=y.current;if(N)return N.addEventListener(Y0,R),()=>N.removeEventListener(Y0,R)},[R]),O.jsx(XL,{scope:e,orientation:n,dir:w,loop:s,currentTabStopId:x,onItemFocus:D.useCallback(N=>A(N),[A]),onItemShiftTab:D.useCallback(()=>P(!0),[]),onFocusableItemAdd:D.useCallback(()=>j(N=>N+1),[]),onFocusableItemRemove:D.useCallback(()=>j(N=>N-1),[]),children:O.jsx(Cs.div,{tabIndex:S||F===0?-1:0,"data-orientation":n,...g,ref:b,style:{outline:"none",...i.style},onMouseDown:In(i.onMouseDown,()=>{I.current=!0}),onFocus:In(i.onFocus,N=>{const W=!I.current;if(N.target===N.currentTarget&&W&&!S){const $=new CustomEvent(Y0,VL);if(N.currentTarget.dispatchEvent($),!$.defaultPrevented){const G=M().filter(J=>J.focusable),K=G.find(J=>J.active),rt=G.find(J=>J.id===x),nt=[K,rt,...G].filter(Boolean).map(J=>J.ref.current);mC(nt,p)}}I.current=!1}),onBlur:In(i.onBlur,()=>P(!1))})})}),pC="RovingFocusGroupItem",gC=D.forwardRef((i,t)=>{const{__scopeRovingFocusGroup:e,focusable:n=!0,active:s=!1,tabStopId:r,...a}=i,c=cC(),u=r||c,h=qL(pC,e),p=h.currentTabStopId===u,g=hC(e),{onFocusableItemAdd:y,onFocusableItemRemove:b}=h;return D.useEffect(()=>{if(n)return y(),()=>b()},[n,y,b]),O.jsx(yb.ItemSlot,{scope:e,id:u,focusable:n,active:s,children:O.jsx(Cs.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...a,ref:t,onMouseDown:In(i.onMouseDown,w=>{n?h.onItemFocus(u):w.preventDefault()}),onFocus:In(i.onFocus,()=>h.onItemFocus(u)),onKeyDown:In(i.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=JL(w,h.orientation,h.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let S=g().filter(P=>P.focusable).map(P=>P.ref.current);if(x==="last")S.reverse();else if(x==="prev"||x==="next"){x==="prev"&&S.reverse();const P=S.indexOf(w.currentTarget);S=h.loop?ZL(S,P+1):S.slice(P+1)}setTimeout(()=>mC(S))}})})})});gC.displayName=pC;var KL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QL(i,t){return t!=="rtl"?i:i==="ArrowLeft"?"ArrowRight":i==="ArrowRight"?"ArrowLeft":i}function JL(i,t,e){const n=QL(i.key,e);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return KL[n]}function mC(i,t=!1){const e=document.activeElement;for(const n of i)if(n===e||(n.focus({preventScroll:t}),document.activeElement!==e))return}function ZL(i,t){return i.map((e,n)=>i[(t+n)%i.length])}var tI=fC,eI=gC;function nI(i,t){return D.useReducer((e,n)=>t[e][n]??e,i)}var wh=i=>{const{present:t,children:e}=i,n=iI(t),s=typeof e=="function"?e({present:n.isPresent}):D.Children.only(e),r=rr(n.ref,sI(s));return typeof e=="function"||n.isPresent?D.cloneElement(s,{ref:r}):null};wh.displayName="Presence";function iI(i){const[t,e]=D.useState(),n=D.useRef({}),s=D.useRef(i),r=D.useRef("none"),a=i?"mounted":"unmounted",[c,u]=nI(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const h=Zg(n.current);r.current=c==="mounted"?h:"none"},[c]),ty(()=>{const h=n.current,p=s.current;if(p!==i){const y=r.current,b=Zg(h);i?u("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(p&&y!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=i}},[i,u]),ty(()=>{if(t){let h;const p=t.ownerDocument.defaultView??window,g=b=>{const x=Zg(n.current).includes(b.animationName);if(b.target===t&&x&&(u("ANIMATION_END"),!s.current)){const A=t.style.animationFillMode;t.style.animationFillMode="forwards",h=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=A)})}},y=b=>{b.target===t&&(r.current=Zg(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{p.clearTimeout(h),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:D.useCallback(h=>{h&&(n.current=getComputedStyle(h)),e(h)},[])}}function Zg(i){return(i==null?void 0:i.animationName)||"none"}function sI(i){var n,s;let t=(n=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:n.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?i.ref:(t=(s=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:s.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?i.props.ref:i.props.ref||i.ref)}var cx="Tabs",[rI,qB]=jy(cx,[dC]),yC=dC(),[oI,ux]=rI(cx),vC=D.forwardRef((i,t)=>{const{__scopeTabs:e,value:n,onValueChange:s,defaultValue:r,orientation:a="horizontal",dir:c,activationMode:u="automatic",...h}=i,p=lx(c),[g,y]=uC({prop:n,onChange:s,defaultProp:r});return O.jsx(oI,{scope:e,baseId:cC(),value:g,onValueChange:y,orientation:a,dir:p,activationMode:u,children:O.jsx(Cs.div,{dir:p,"data-orientation":a,...h,ref:t})})});vC.displayName=cx;var bC="TabsList",wC=D.forwardRef((i,t)=>{const{__scopeTabs:e,loop:n=!0,...s}=i,r=ux(bC,e),a=yC(e);return O.jsx(tI,{asChild:!0,...a,orientation:r.orientation,dir:r.dir,loop:n,children:O.jsx(Cs.div,{role:"tablist","aria-orientation":r.orientation,...s,ref:t})})});wC.displayName=bC;var xC="TabsTrigger",_C=D.forwardRef((i,t)=>{const{__scopeTabs:e,value:n,disabled:s=!1,...r}=i,a=ux(xC,e),c=yC(e),u=EC(a.baseId,n),h=CC(a.baseId,n),p=n===a.value;return O.jsx(eI,{asChild:!0,...c,focusable:!s,active:p,children:O.jsx(Cs.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...r,ref:t,onMouseDown:In(i.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?a.onValueChange(n):g.preventDefault()}),onKeyDown:In(i.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&a.onValueChange(n)}),onFocus:In(i.onFocus,()=>{const g=a.activationMode!=="manual";!p&&!s&&g&&a.onValueChange(n)})})})});_C.displayName=xC;var SC="TabsContent",AC=D.forwardRef((i,t)=>{const{__scopeTabs:e,value:n,forceMount:s,children:r,...a}=i,c=ux(SC,e),u=EC(c.baseId,n),h=CC(c.baseId,n),p=n===c.value,g=D.useRef(p);return D.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),O.jsx(wh,{present:s||p,children:({present:y})=>O.jsx(Cs.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!y,id:h,tabIndex:0,...a,ref:t,style:{...i.style,animationDuration:g.current?"0s":void 0},children:y&&r})})});AC.displayName=SC;function EC(i,t){return`${i}-trigger-${t}`}function CC(i,t){return`${i}-content-${t}`}var aI=vC,kC=wC,TC=_C,PC=AC;function RC(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(t=0;t<s;t++)i[t]&&(e=RC(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function xh(){for(var i,t,e=0,n="",s=arguments.length;e<s;e++)(i=arguments[e])&&(t=RC(i))&&(n&&(n+=" "),n+=t);return n}const hx="-",lI=i=>{const t=uI(i),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=i;return{getClassGroupId:a=>{const c=a.split(hx);return c[0]===""&&c.length!==1&&c.shift(),MC(c,t)||cI(a)},getConflictingClassGroupIds:(a,c)=>{const u=e[a]||[];return c&&n[a]?[...u,...n[a]]:u}}},MC=(i,t)=>{var a;if(i.length===0)return t.classGroupId;const e=i[0],n=t.nextPart.get(e),s=n?MC(i.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const r=i.join(hx);return(a=t.validators.find(({validator:c})=>c(r)))==null?void 0:a.classGroupId},XA=/^\[(.+)\]$/,cI=i=>{if(XA.test(i)){const t=XA.exec(i)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},uI=i=>{const{theme:t,prefix:e}=i,n={nextPart:new Map,validators:[]};return dI(Object.entries(i.classGroups),e).forEach(([r,a])=>{vb(a,n,r,t)}),n},vb=(i,t,e,n)=>{i.forEach(s=>{if(typeof s=="string"){const r=s===""?t:qA(t,s);r.classGroupId=e;return}if(typeof s=="function"){if(hI(s)){vb(s(n),t,e,n);return}t.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([r,a])=>{vb(a,qA(t,r),e,n)})})},qA=(i,t)=>{let e=i;return t.split(hx).forEach(n=>{e.nextPart.has(n)||e.nextPart.set(n,{nextPart:new Map,validators:[]}),e=e.nextPart.get(n)}),e},hI=i=>i.isThemeGetter,dI=(i,t)=>t?i.map(([e,n])=>{const s=n.map(r=>typeof r=="string"?t+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([a,c])=>[t+a,c])):r);return[e,s]}):i,fI=i=>{if(i<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,n=new Map;const s=(r,a)=>{e.set(r,a),t++,t>i&&(t=0,n=e,e=new Map)};return{get(r){let a=e.get(r);if(a!==void 0)return a;if((a=n.get(r))!==void 0)return s(r,a),a},set(r,a){e.has(r)?e.set(r,a):s(r,a)}}},LC="!",pI=i=>{const{separator:t,experimentalParseClassName:e}=i,n=t.length===1,s=t[0],r=t.length,a=c=>{const u=[];let h=0,p=0,g;for(let A=0;A<c.length;A++){let S=c[A];if(h===0){if(S===s&&(n||c.slice(A,A+r)===t)){u.push(c.slice(p,A)),p=A+r;continue}if(S==="/"){g=A;continue}}S==="["?h++:S==="]"&&h--}const y=u.length===0?c:c.substring(p),b=y.startsWith(LC),w=b?y.substring(1):y,x=g&&g>p?g-p:void 0;return{modifiers:u,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:x}};return e?c=>e({className:c,parseClassName:a}):a},gI=i=>{if(i.length<=1)return i;const t=[];let e=[];return i.forEach(n=>{n[0]==="["?(t.push(...e.sort(),n),e=[]):e.push(n)}),t.push(...e.sort()),t},mI=i=>({cache:fI(i.cacheSize),parseClassName:pI(i),...lI(i)}),yI=/\s+/,vI=(i,t)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:s}=t,r=[],a=i.trim().split(yI);let c="";for(let u=a.length-1;u>=0;u-=1){const h=a[u],{modifiers:p,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:b}=e(h);let w=!!b,x=n(w?y.substring(0,b):y);if(!x){if(!w){c=h+(c.length>0?" "+c:c);continue}if(x=n(y),!x){c=h+(c.length>0?" "+c:c);continue}w=!1}const A=gI(p).join(":"),S=g?A+LC:A,P=S+x;if(r.includes(P))continue;r.push(P);const R=s(x,w);for(let M=0;M<R.length;++M){const I=R[M];r.push(S+I)}c=h+(c.length>0?" "+c:c)}return c};function bI(){let i=0,t,e,n="";for(;i<arguments.length;)(t=arguments[i++])&&(e=IC(t))&&(n&&(n+=" "),n+=e);return n}const IC=i=>{if(typeof i=="string")return i;let t,e="";for(let n=0;n<i.length;n++)i[n]&&(t=IC(i[n]))&&(e&&(e+=" "),e+=t);return e};function wI(i,...t){let e,n,s,r=a;function a(u){const h=t.reduce((p,g)=>g(p),i());return e=mI(h),n=e.cache.get,s=e.cache.set,r=c,c(u)}function c(u){const h=n(u);if(h)return h;const p=vI(u,e);return s(u,p),p}return function(){return r(bI.apply(null,arguments))}}const fe=i=>{const t=e=>e[i]||[];return t.isThemeGetter=!0,t},DC=/^\[(?:([a-z-]+):)?(.+)\]$/i,xI=/^\d+\/\d+$/,_I=new Set(["px","full","screen"]),SI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,br=i=>Zc(i)||_I.has(i)||xI.test(i),To=i=>_h(i,"length",OI),Zc=i=>!!i&&!Number.isNaN(Number(i)),K0=i=>_h(i,"number",Zc),pd=i=>!!i&&Number.isInteger(Number(i)),TI=i=>i.endsWith("%")&&Zc(i.slice(0,-1)),Ft=i=>DC.test(i),Po=i=>SI.test(i),PI=new Set(["length","size","percentage"]),RI=i=>_h(i,PI,OC),MI=i=>_h(i,"position",OC),LI=new Set(["image","url"]),II=i=>_h(i,LI,NI),DI=i=>_h(i,"",FI),gd=()=>!0,_h=(i,t,e)=>{const n=DC.exec(i);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):e(n[2]):!1},OI=i=>AI.test(i)&&!EI.test(i),OC=()=>!1,FI=i=>CI.test(i),NI=i=>kI.test(i),jI=()=>{const i=fe("colors"),t=fe("spacing"),e=fe("blur"),n=fe("brightness"),s=fe("borderColor"),r=fe("borderRadius"),a=fe("borderSpacing"),c=fe("borderWidth"),u=fe("contrast"),h=fe("grayscale"),p=fe("hueRotate"),g=fe("invert"),y=fe("gap"),b=fe("gradientColorStops"),w=fe("gradientColorStopPositions"),x=fe("inset"),A=fe("margin"),S=fe("opacity"),P=fe("padding"),R=fe("saturate"),M=fe("scale"),I=fe("sepia"),F=fe("skew"),j=fe("space"),N=fe("translate"),W=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",Ft,t],K=()=>[Ft,t],rt=()=>["",br,To],ot=()=>["auto",Zc,Ft],nt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],et=()=>["","0",Ft],it=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Zc,Ft];return{cacheSize:500,separator:":",theme:{colors:[gd],spacing:[br,To],blur:["none","",Po,Ft],brightness:z(),borderColor:[i],borderRadius:["none","","full",Po,Ft],borderSpacing:K(),borderWidth:rt(),contrast:z(),grayscale:et(),hueRotate:z(),invert:et(),gap:K(),gradientColorStops:[i],gradientColorStopPositions:[TI,To],inset:G(),margin:G(),opacity:z(),padding:K(),saturate:z(),scale:z(),sepia:et(),skew:z(),space:K(),translate:K()},classGroups:{aspect:[{aspect:["auto","square","video",Ft]}],container:["container"],columns:[{columns:[Po]}],"break-after":[{"break-after":it()}],"break-before":[{"break-before":it()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...nt(),Ft]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pd,Ft]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ft]}],grow:[{grow:et()}],shrink:[{shrink:et()}],order:[{order:["first","last","none",pd,Ft]}],"grid-cols":[{"grid-cols":[gd]}],"col-start-end":[{col:["auto",{span:["full",pd,Ft]},Ft]}],"col-start":[{"col-start":ot()}],"col-end":[{"col-end":ot()}],"grid-rows":[{"grid-rows":[gd]}],"row-start-end":[{row:["auto",{span:[pd,Ft]},Ft]}],"row-start":[{"row-start":ot()}],"row-end":[{"row-end":ot()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ft]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ft,t]}],"min-w":[{"min-w":[Ft,t,"min","max","fit"]}],"max-w":[{"max-w":[Ft,t,"none","full","min","max","fit","prose",{screen:[Po]},Po]}],h:[{h:[Ft,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ft,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ft,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ft,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Po,To]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",K0]}],"font-family":[{font:[gd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ft]}],"line-clamp":[{"line-clamp":["none",Zc,K0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",br,Ft]}],"list-image":[{"list-image":["none",Ft]}],"list-style-type":[{list:["none","disc","decimal",Ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",br,To]}],"underline-offset":[{"underline-offset":["auto",br,Ft]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...nt(),MI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",RI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},II]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[br,Ft]}],"outline-w":[{outline:[br,To]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:rt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[br,To]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",Po,DI]}],"shadow-color":[{shadow:[gd]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Po,Ft]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[g]}],saturate:[{saturate:[R]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ft]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Ft]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[pd,Ft]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ft]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ft]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ft]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[br,To,K0]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zI=wI(jI);function yn(...i){return zI(xh(i))}const HI=aI,FC=D.forwardRef(({className:i,...t},e)=>O.jsx(kC,{ref:e,className:yn("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",i),...t}));FC.displayName=kC.displayName;const NC=D.forwardRef(({className:i,...t},e)=>O.jsx(TC,{ref:e,className:yn("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",i),...t}));NC.displayName=TC.displayName;const wm=D.forwardRef(({className:i,...t},e)=>O.jsx(PC,{ref:e,className:yn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",i),...t}));wm.displayName=PC.displayName;const BI=i=>{let t;const e=new Set,n=(h,p)=>{const g=typeof h=="function"?h(t):h;if(!Object.is(g,t)){const y=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),e.forEach(b=>b(t,y))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:h=>(e.add(h),()=>e.delete(h))},u=t=i(n,s,c);return c},WI=i=>BI(i),UI=i=>i;function VI(i,t=UI){const e=oi.useSyncExternalStore(i.subscribe,()=>t(i.getState()),()=>t(i.getInitialState()));return oi.useDebugValue(e),e}const $I=i=>{const t=WI(i),e=n=>VI(t,n);return Object.assign(e,t),e},GI=i=>$I(i),XI=async()=>(await new Promise(i=>setTimeout(i,1e3)),{name:"Aiman Afiq bin Esam",profileImage:"./Images/profile.jpeg",title:"Mobile & Web App Developer",location:"Cyberjaya",education:["Diploma  | 3.55 CGPA ","Bachelor | 3.37 CGPA"],knowledge:["React Js","React Native","Flutter","Jetpack Compose"]}),qI=GI(i=>({profile:null,setProfile:t=>i({profile:t}),isEditing:!1,setIsEditing:t=>i({isEditing:t})}));var Dp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ic=typeof window>"u"||"Deno"in globalThis;function Vi(){}function YI(i,t){return typeof i=="function"?i(t):i}function bb(i){return typeof i=="number"&&i>=0&&i!==1/0}function jC(i,t){return Math.max(i+(t||0)-Date.now(),0)}function tu(i,t){return typeof i=="function"?i(t):i}function _s(i,t){return typeof i=="function"?i(t):i}function YA(i,t){const{type:e="all",exact:n,fetchStatus:s,predicate:r,queryKey:a,stale:c}=i;if(a){if(n){if(t.queryHash!==dx(a,t.options))return!1}else if(!of(t.queryKey,a))return!1}if(e!=="all"){const u=t.isActive();if(e==="active"&&!u||e==="inactive"&&u)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||r&&!r(t))}function KA(i,t){const{exact:e,status:n,predicate:s,mutationKey:r}=i;if(r){if(!t.options.mutationKey)return!1;if(e){if(rf(t.options.mutationKey)!==rf(r))return!1}else if(!of(t.options.mutationKey,r))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function dx(i,t){return((t==null?void 0:t.queryKeyHashFn)||rf)(i)}function rf(i){return JSON.stringify(i,(t,e)=>xb(e)?Object.keys(e).sort().reduce((n,s)=>(n[s]=e[s],n),{}):e)}function of(i,t){return i===t?!0:typeof i!=typeof t?!1:i&&t&&typeof i=="object"&&typeof t=="object"?!Object.keys(t).some(e=>!of(i[e],t[e])):!1}function zC(i,t){if(i===t)return i;const e=QA(i)&&QA(t);if(e||xb(i)&&xb(t)){const n=e?i:Object.keys(i),s=n.length,r=e?t:Object.keys(t),a=r.length,c=e?[]:{};let u=0;for(let h=0;h<a;h++){const p=e?h:r[h];(!e&&n.includes(p)||e)&&i[p]===void 0&&t[p]===void 0?(c[p]=void 0,u++):(c[p]=zC(i[p],t[p]),c[p]===i[p]&&i[p]!==void 0&&u++)}return s===a&&u===s?i:c}return t}function wb(i,t){if(!t||Object.keys(i).length!==Object.keys(t).length)return!1;for(const e in i)if(i[e]!==t[e])return!1;return!0}function QA(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function xb(i){if(!JA(i))return!1;const t=i.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!JA(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function JA(i){return Object.prototype.toString.call(i)==="[object Object]"}function KI(i){return new Promise(t=>{setTimeout(t,i)})}function _b(i,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(i,t):e.structuralSharing!==!1?zC(i,t):t}function QI(i,t,e=0){const n=[...i,t];return e&&n.length>e?n.slice(1):n}function JI(i,t,e=0){const n=[t,...i];return e&&n.length>e?n.slice(0,-1):n}var fx=Symbol();function HC(i,t){return!i.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!i.queryFn||i.queryFn===fx?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}var Za,Oo,ou,YE,ZI=(YE=class extends Dp{constructor(){super();T(this,Za);T(this,Oo);T(this,ou);E(this,ou,t=>{if(!ic&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){d(this,Oo)||this.setEventListener(d(this,ou))}onUnsubscribe(){var t;this.hasListeners()||((t=d(this,Oo))==null||t.call(this),E(this,Oo,void 0))}setEventListener(t){var e;E(this,ou,t),(e=d(this,Oo))==null||e.call(this),E(this,Oo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){d(this,Za)!==t&&(E(this,Za,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof d(this,Za)=="boolean"?d(this,Za):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Za=new WeakMap,Oo=new WeakMap,ou=new WeakMap,YE),px=new ZI,au,Fo,lu,KE,tD=(KE=class extends Dp{constructor(){super();T(this,au,!0);T(this,Fo);T(this,lu);E(this,lu,t=>{if(!ic&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){d(this,Fo)||this.setEventListener(d(this,lu))}onUnsubscribe(){var t;this.hasListeners()||((t=d(this,Fo))==null||t.call(this),E(this,Fo,void 0))}setEventListener(t){var e;E(this,lu,t),(e=d(this,Fo))==null||e.call(this),E(this,Fo,t(this.setOnline.bind(this)))}setOnline(t){d(this,au)!==t&&(E(this,au,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return d(this,au)}},au=new WeakMap,Fo=new WeakMap,lu=new WeakMap,KE),ey=new tD;function Sb(){let i,t;const e=new Promise((s,r)=>{i=s,t=r});e.status="pending",e.catch(()=>{});function n(s){Object.assign(e,s),delete e.resolve,delete e.reject}return e.resolve=s=>{n({status:"fulfilled",value:s}),i(s)},e.reject=s=>{n({status:"rejected",reason:s}),t(s)},e}function eD(i){return Math.min(1e3*2**i,3e4)}function BC(i){return(i??"online")==="online"?ey.isOnline():!0}var WC=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function Q0(i){return i instanceof WC}function UC(i){let t=!1,e=0,n=!1,s;const r=Sb(),a=x=>{var A;n||(y(new WC(x)),(A=i.abort)==null||A.call(i))},c=()=>{t=!0},u=()=>{t=!1},h=()=>px.isFocused()&&(i.networkMode==="always"||ey.isOnline())&&i.canRun(),p=()=>BC(i.networkMode)&&i.canRun(),g=x=>{var A;n||(n=!0,(A=i.onSuccess)==null||A.call(i,x),s==null||s(),r.resolve(x))},y=x=>{var A;n||(n=!0,(A=i.onError)==null||A.call(i,x),s==null||s(),r.reject(x))},b=()=>new Promise(x=>{var A;s=S=>{(n||h())&&x(S)},(A=i.onPause)==null||A.call(i)}).then(()=>{var x;s=void 0,n||(x=i.onContinue)==null||x.call(i)}),w=()=>{if(n)return;let x;const A=e===0?i.initialPromise:void 0;try{x=A??i.fn()}catch(S){x=Promise.reject(S)}Promise.resolve(x).then(g).catch(S=>{var F;if(n)return;const P=i.retry??(ic?0:3),R=i.retryDelay??eD,M=typeof R=="function"?R(e,S):R,I=P===!0||typeof P=="number"&&e<P||typeof P=="function"&&P(e,S);if(t||!I){y(S);return}e++,(F=i.onFail)==null||F.call(i,e,S),KI(M).then(()=>h()?void 0:b()).then(()=>{t?y(S):w()})})};return{promise:r,cancel:a,continue:()=>(s==null||s(),r),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?w():b().then(w),r)}}function nD(){let i=[],t=0,e=c=>{c()},n=c=>{c()},s=c=>setTimeout(c,0);const r=c=>{t?i.push(c):s(()=>{e(c)})},a=()=>{const c=i;i=[],c.length&&s(()=>{n(()=>{c.forEach(u=>{e(u)})})})};return{batch:c=>{let u;t++;try{u=c()}finally{t--,t||a()}return u},batchCalls:c=>(...u)=>{r(()=>{c(...u)})},schedule:r,setNotifyFunction:c=>{e=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{s=c}}}var pn=nD(),tl,QE,VC=(QE=class{constructor(){T(this,tl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bb(this.gcTime)&&E(this,tl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(ic?1/0:5*60*1e3))}clearGcTimeout(){d(this,tl)&&(clearTimeout(d(this,tl)),E(this,tl,void 0))}},tl=new WeakMap,QE),cu,uu,ji,Cn,gf,el,ls,Sr,JE,iD=(JE=class extends VC{constructor(t){super();T(this,ls);T(this,cu);T(this,uu);T(this,ji);T(this,Cn);T(this,gf);T(this,el);E(this,el,!1),E(this,gf,t.defaultOptions),this.setOptions(t.options),this.observers=[],E(this,ji,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,E(this,cu,sD(this.options)),this.state=t.state??d(this,cu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=d(this,Cn))==null?void 0:t.promise}setOptions(t){this.options={...d(this,gf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&d(this,ji).remove(this)}setData(t,e){const n=_b(this.state.data,t,this.options);return C(this,ls,Sr).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){C(this,ls,Sr).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var n,s;const e=(n=d(this,Cn))==null?void 0:n.promise;return(s=d(this,Cn))==null||s.cancel(t),e?e.then(Vi).catch(Vi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(d(this,cu))}isActive(){return this.observers.some(t=>_s(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!jC(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=d(this,Cn))==null||e.continue()}onOnline(){var e;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=d(this,Cn))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),d(this,ji).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(d(this,Cn)&&(d(this,el)?d(this,Cn).cancel({revert:!0}):d(this,Cn).cancelRetry()),this.scheduleGc()),d(this,ji).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||C(this,ls,Sr).call(this,{type:"invalidate"})}fetch(t,e){var u,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(d(this,Cn))return d(this,Cn).continueRetry(),d(this,Cn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(y=>y.options.queryFn);g&&this.setOptions(g.options)}const n=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(E(this,el,!0),n.signal)})},r=()=>{const g=HC(this.options,e),y={queryKey:this.queryKey,meta:this.meta};return s(y),E(this,el,!1),this.options.persister?this.options.persister(g,y,this):g(y)},a={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:r};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),E(this,uu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&C(this,ls,Sr).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const c=g=>{var y,b,w,x;Q0(g)&&g.silent||C(this,ls,Sr).call(this,{type:"error",error:g}),Q0(g)||((b=(y=d(this,ji).config).onError)==null||b.call(y,g,this),(x=(w=d(this,ji).config).onSettled)==null||x.call(w,this.state.data,g,this)),this.scheduleGc()};return E(this,Cn,UC({initialPromise:e==null?void 0:e.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:g=>{var y,b,w,x;if(g===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(A){c(A);return}(b=(y=d(this,ji).config).onSuccess)==null||b.call(y,g,this),(x=(w=d(this,ji).config).onSettled)==null||x.call(w,g,this.state.error,this),this.scheduleGc()},onError:c,onFail:(g,y)=>{C(this,ls,Sr).call(this,{type:"failed",failureCount:g,error:y})},onPause:()=>{C(this,ls,Sr).call(this,{type:"pause"})},onContinue:()=>{C(this,ls,Sr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),d(this,Cn).start()}},cu=new WeakMap,uu=new WeakMap,ji=new WeakMap,Cn=new WeakMap,gf=new WeakMap,el=new WeakMap,ls=new WeakSet,Sr=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...$C(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Q0(s)&&s.revert&&d(this,uu)?{...d(this,uu),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),pn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),d(this,ji).notify({query:this,type:"updated",action:t})})},JE);function $C(i,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:BC(t.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function sD(i){const t=typeof i.initialData=="function"?i.initialData():i.initialData,e=t!==void 0,n=e?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var Fs,ZE,rD=(ZE=class extends Dp{constructor(t={}){super();T(this,Fs);this.config=t,E(this,Fs,new Map)}build(t,e,n){const s=e.queryKey,r=e.queryHash??dx(s,e);let a=this.get(r);return a||(a=new iD({cache:this,queryKey:s,queryHash:r,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){d(this,Fs).has(t.queryHash)||(d(this,Fs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=d(this,Fs).get(t.queryHash);e&&(t.destroy(),e===t&&d(this,Fs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return d(this,Fs).get(t)}getAll(){return[...d(this,Fs).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>YA(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>YA(t,n)):e}notify(t){pn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){pn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Fs=new WeakMap,ZE),Ns,zn,nl,js,Mo,tC,oD=(tC=class extends VC{constructor(t){super();T(this,js);T(this,Ns);T(this,zn);T(this,nl);this.mutationId=t.mutationId,E(this,zn,t.mutationCache),E(this,Ns,[]),this.state=t.state||aD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){d(this,Ns).includes(t)||(d(this,Ns).push(t),this.clearGcTimeout(),d(this,zn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){E(this,Ns,d(this,Ns).filter(e=>e!==t)),this.scheduleGc(),d(this,zn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){d(this,Ns).length||(this.state.status==="pending"?this.scheduleGc():d(this,zn).remove(this))}continue(){var t;return((t=d(this,nl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,r,a,c,u,h,p,g,y,b,w,x,A,S,P,R,M,I,F,j;E(this,nl,UC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,W)=>{C(this,js,Mo).call(this,{type:"failed",failureCount:N,error:W})},onPause:()=>{C(this,js,Mo).call(this,{type:"pause"})},onContinue:()=>{C(this,js,Mo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>d(this,zn).canRun(this)}));const e=this.state.status==="pending",n=!d(this,nl).canStart();try{if(!e){C(this,js,Mo).call(this,{type:"pending",variables:t,isPaused:n}),await((r=(s=d(this,zn).config).onMutate)==null?void 0:r.call(s,t,this));const W=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,t));W!==this.state.context&&C(this,js,Mo).call(this,{type:"pending",context:W,variables:t,isPaused:n})}const N=await d(this,nl).start();return await((h=(u=d(this,zn).config).onSuccess)==null?void 0:h.call(u,N,t,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,N,t,this.state.context)),await((b=(y=d(this,zn).config).onSettled)==null?void 0:b.call(y,N,null,this.state.variables,this.state.context,this)),await((x=(w=this.options).onSettled)==null?void 0:x.call(w,N,null,t,this.state.context)),C(this,js,Mo).call(this,{type:"success",data:N}),N}catch(N){try{throw await((S=(A=d(this,zn).config).onError)==null?void 0:S.call(A,N,t,this.state.context,this)),await((R=(P=this.options).onError)==null?void 0:R.call(P,N,t,this.state.context)),await((I=(M=d(this,zn).config).onSettled)==null?void 0:I.call(M,void 0,N,this.state.variables,this.state.context,this)),await((j=(F=this.options).onSettled)==null?void 0:j.call(F,void 0,N,t,this.state.context)),N}finally{C(this,js,Mo).call(this,{type:"error",error:N})}}finally{d(this,zn).runNext(this)}}},Ns=new WeakMap,zn=new WeakMap,nl=new WeakMap,js=new WeakSet,Mo=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),pn.batch(()=>{d(this,Ns).forEach(n=>{n.onMutationUpdate(t)}),d(this,zn).notify({mutation:this,type:"updated",action:t})})},tC);function aD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vi,mf,eC,lD=(eC=class extends Dp{constructor(t={}){super();T(this,vi);T(this,mf);this.config=t,E(this,vi,new Map),E(this,mf,Date.now())}build(t,e,n){const s=new oD({mutationCache:this,mutationId:++Je(this,mf)._,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){const e=tm(t),n=d(this,vi).get(e)??[];n.push(t),d(this,vi).set(e,n),this.notify({type:"added",mutation:t})}remove(t){var n;const e=tm(t);if(d(this,vi).has(e)){const s=(n=d(this,vi).get(e))==null?void 0:n.filter(r=>r!==t);s&&(s.length===0?d(this,vi).delete(e):d(this,vi).set(e,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const e=(n=d(this,vi).get(tm(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!e||e===t}runNext(t){var n;const e=(n=d(this,vi).get(tm(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(e==null?void 0:e.continue())??Promise.resolve()}clear(){pn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...d(this,vi).values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>KA(e,n))}findAll(t={}){return this.getAll().filter(e=>KA(t,e))}notify(t){pn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return pn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Vi))))}},vi=new WeakMap,mf=new WeakMap,eC);function tm(i){var t;return((t=i.options.scope)==null?void 0:t.id)??String(i.mutationId)}function ZA(i){return{onFetch:(t,e)=>{var p,g,y,b,w;const n=t.options,s=(y=(g=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,r=((b=t.state.data)==null?void 0:b.pages)||[],a=((w=t.state.data)==null?void 0:w.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const h=async()=>{let x=!1;const A=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},S=HC(t.options,t.fetchOptions),P=async(R,M,I)=>{if(x)return Promise.reject();if(M==null&&R.pages.length)return Promise.resolve(R);const F={queryKey:t.queryKey,pageParam:M,direction:I?"backward":"forward",meta:t.options.meta};A(F);const j=await S(F),{maxPages:N}=t.options,W=I?JI:QI;return{pages:W(R.pages,j,N),pageParams:W(R.pageParams,M,N)}};if(s&&r.length){const R=s==="backward",M=R?cD:t1,I={pages:r,pageParams:a},F=M(n,I);c=await P(I,F,R)}else{const R=i??r.length;do{const M=u===0?a[0]??n.initialPageParam:t1(n,c);if(u>0&&M==null)break;c=await P(c,M),u++}while(u<R)}return c};t.options.persister?t.fetchFn=()=>{var x,A;return(A=(x=t.options).persister)==null?void 0:A.call(x,h,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=h}}}function t1(i,{pages:t,pageParams:e}){const n=t.length-1;return t.length>0?i.getNextPageParam(t[n],t,e[n],e):void 0}function cD(i,{pages:t,pageParams:e}){var n;return t.length>0?(n=i.getPreviousPageParam)==null?void 0:n.call(i,t[0],t,e[0],e):void 0}var Ce,No,jo,hu,du,zo,fu,pu,nC,uD=(nC=class{constructor(i={}){T(this,Ce);T(this,No);T(this,jo);T(this,hu);T(this,du);T(this,zo);T(this,fu);T(this,pu);E(this,Ce,i.queryCache||new rD),E(this,No,i.mutationCache||new lD),E(this,jo,i.defaultOptions||{}),E(this,hu,new Map),E(this,du,new Map),E(this,zo,0)}mount(){Je(this,zo)._++,d(this,zo)===1&&(E(this,fu,px.subscribe(async i=>{i&&(await this.resumePausedMutations(),d(this,Ce).onFocus())})),E(this,pu,ey.subscribe(async i=>{i&&(await this.resumePausedMutations(),d(this,Ce).onOnline())})))}unmount(){var i,t;Je(this,zo)._--,d(this,zo)===0&&((i=d(this,fu))==null||i.call(this),E(this,fu,void 0),(t=d(this,pu))==null||t.call(this),E(this,pu,void 0))}isFetching(i){return d(this,Ce).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return d(this,No).findAll({...i,status:"pending"}).length}getQueryData(i){var e;const t=this.defaultQueryOptions({queryKey:i});return(e=d(this,Ce).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(i){const t=this.defaultQueryOptions(i),e=d(this,Ce).build(this,t),n=e.state.data;return n===void 0?this.fetchQuery(i):(i.revalidateIfStale&&e.isStaleByTime(tu(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(i){return d(this,Ce).findAll(i).map(({queryKey:t,state:e})=>{const n=e.data;return[t,n]})}setQueryData(i,t,e){const n=this.defaultQueryOptions({queryKey:i}),s=d(this,Ce).get(n.queryHash),r=s==null?void 0:s.state.data,a=YI(t,r);if(a!==void 0)return d(this,Ce).build(this,n).setData(a,{...e,manual:!0})}setQueriesData(i,t,e){return pn.batch(()=>d(this,Ce).findAll(i).map(({queryKey:n})=>[n,this.setQueryData(n,t,e)]))}getQueryState(i){var e;const t=this.defaultQueryOptions({queryKey:i});return(e=d(this,Ce).get(t.queryHash))==null?void 0:e.state}removeQueries(i){const t=d(this,Ce);pn.batch(()=>{t.findAll(i).forEach(e=>{t.remove(e)})})}resetQueries(i,t){const e=d(this,Ce),n={type:"active",...i};return pn.batch(()=>(e.findAll(i).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(i,t={}){const e={revert:!0,...t},n=pn.batch(()=>d(this,Ce).findAll(i).map(s=>s.cancel(e)));return Promise.all(n).then(Vi).catch(Vi)}invalidateQueries(i,t={}){return pn.batch(()=>{if(d(this,Ce).findAll(i).forEach(n=>{n.invalidate()}),(i==null?void 0:i.refetchType)==="none")return Promise.resolve();const e={...i,type:(i==null?void 0:i.refetchType)??(i==null?void 0:i.type)??"active"};return this.refetchQueries(e,t)})}refetchQueries(i,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},n=pn.batch(()=>d(this,Ce).findAll(i).filter(s=>!s.isDisabled()).map(s=>{let r=s.fetch(void 0,e);return e.throwOnError||(r=r.catch(Vi)),s.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(n).then(Vi)}fetchQuery(i){const t=this.defaultQueryOptions(i);t.retry===void 0&&(t.retry=!1);const e=d(this,Ce).build(this,t);return e.isStaleByTime(tu(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(Vi).catch(Vi)}fetchInfiniteQuery(i){return i.behavior=ZA(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(Vi).catch(Vi)}ensureInfiniteQueryData(i){return i.behavior=ZA(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return ey.isOnline()?d(this,No).resumePausedMutations():Promise.resolve()}getQueryCache(){return d(this,Ce)}getMutationCache(){return d(this,No)}getDefaultOptions(){return d(this,jo)}setDefaultOptions(i){E(this,jo,i)}setQueryDefaults(i,t){d(this,hu).set(rf(i),{queryKey:i,defaultOptions:t})}getQueryDefaults(i){const t=[...d(this,hu).values()],e={};return t.forEach(n=>{of(i,n.queryKey)&&Object.assign(e,n.defaultOptions)}),e}setMutationDefaults(i,t){d(this,du).set(rf(i),{mutationKey:i,defaultOptions:t})}getMutationDefaults(i){const t=[...d(this,du).values()];let e={};return t.forEach(n=>{of(i,n.mutationKey)&&(e={...e,...n.defaultOptions})}),e}defaultQueryOptions(i){if(i._defaulted)return i;const t={...d(this,jo).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return t.queryHash||(t.queryHash=dx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===fx&&(t.enabled=!1),t}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...d(this,jo).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){d(this,Ce).clear(),d(this,No).clear()}},Ce=new WeakMap,No=new WeakMap,jo=new WeakMap,hu=new WeakMap,du=new WeakMap,zo=new WeakMap,fu=new WeakMap,pu=new WeakMap,nC),ei,Vt,yf,Hn,il,gu,Ho,zs,vf,mu,yu,sl,rl,Bo,vu,Zt,Ad,Ab,Eb,Cb,kb,Tb,Pb,Rb,GC,iC,hD=(iC=class extends Dp{constructor(t,e){super();T(this,Zt);T(this,ei);T(this,Vt);T(this,yf);T(this,Hn);T(this,il);T(this,gu);T(this,Ho);T(this,zs);T(this,vf);T(this,mu);T(this,yu);T(this,sl);T(this,rl);T(this,Bo);T(this,vu,new Set);this.options=e,E(this,ei,t),E(this,zs,null),E(this,Ho,Sb()),this.options.experimental_prefetchInRender||d(this,Ho).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(d(this,Vt).addObserver(this),e1(d(this,Vt),this.options)?C(this,Zt,Ad).call(this):this.updateResult(),C(this,Zt,kb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mb(d(this,Vt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mb(d(this,Vt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,C(this,Zt,Tb).call(this),C(this,Zt,Pb).call(this),d(this,Vt).removeObserver(this)}setOptions(t,e){const n=this.options,s=d(this,Vt);if(this.options=d(this,ei).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _s(this.options.enabled,d(this,Vt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");C(this,Zt,Rb).call(this),d(this,Vt).setOptions(this.options),n._defaulted&&!wb(this.options,n)&&d(this,ei).getQueryCache().notify({type:"observerOptionsUpdated",query:d(this,Vt),observer:this});const r=this.hasListeners();r&&n1(d(this,Vt),s,this.options,n)&&C(this,Zt,Ad).call(this),this.updateResult(e),r&&(d(this,Vt)!==s||_s(this.options.enabled,d(this,Vt))!==_s(n.enabled,d(this,Vt))||tu(this.options.staleTime,d(this,Vt))!==tu(n.staleTime,d(this,Vt)))&&C(this,Zt,Ab).call(this);const a=C(this,Zt,Eb).call(this);r&&(d(this,Vt)!==s||_s(this.options.enabled,d(this,Vt))!==_s(n.enabled,d(this,Vt))||a!==d(this,Bo))&&C(this,Zt,Cb).call(this,a)}getOptimisticResult(t){const e=d(this,ei).getQueryCache().build(d(this,ei),t),n=this.createResult(e,t);return fD(this,n)&&(E(this,Hn,n),E(this,gu,this.options),E(this,il,d(this,Vt).state)),n}getCurrentResult(){return d(this,Hn)}trackResult(t,e){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),e==null||e(s),t[s])})}),n}trackProp(t){d(this,vu).add(t)}getCurrentQuery(){return d(this,Vt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=d(this,ei).defaultQueryOptions(t),n=d(this,ei).getQueryCache().build(d(this,ei),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return C(this,Zt,Ad).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),d(this,Hn)))}createResult(t,e){var N;const n=d(this,Vt),s=this.options,r=d(this,Hn),a=d(this,il),c=d(this,gu),h=t!==n?t.state:d(this,yf),{state:p}=t;let g={...p},y=!1,b;if(e._optimisticResults){const W=this.hasListeners(),$=!W&&e1(t,e),G=W&&n1(t,n,e,s);($||G)&&(g={...g,...$C(p.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:w,errorUpdatedAt:x,status:A}=g;if(e.select&&g.data!==void 0)if(r&&g.data===(a==null?void 0:a.data)&&e.select===d(this,vf))b=d(this,mu);else try{E(this,vf,e.select),b=e.select(g.data),b=_b(r==null?void 0:r.data,b,e),E(this,mu,b),E(this,zs,null)}catch(W){E(this,zs,W)}else b=g.data;if(e.placeholderData!==void 0&&b===void 0&&A==="pending"){let W;if(r!=null&&r.isPlaceholderData&&e.placeholderData===(c==null?void 0:c.placeholderData))W=r.data;else if(W=typeof e.placeholderData=="function"?e.placeholderData((N=d(this,yu))==null?void 0:N.state.data,d(this,yu)):e.placeholderData,e.select&&W!==void 0)try{W=e.select(W),E(this,zs,null)}catch($){E(this,zs,$)}W!==void 0&&(A="success",b=_b(r==null?void 0:r.data,W,e),y=!0)}d(this,zs)&&(w=d(this,zs),b=d(this,mu),x=Date.now(),A="error");const S=g.fetchStatus==="fetching",P=A==="pending",R=A==="error",M=P&&S,I=b!==void 0,j={status:A,fetchStatus:g.fetchStatus,isPending:P,isSuccess:A==="success",isError:R,isInitialLoading:M,isLoading:M,data:b,dataUpdatedAt:g.dataUpdatedAt,error:w,errorUpdatedAt:x,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:S,isRefetching:S&&!P,isLoadingError:R&&!I,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:R&&I,isStale:gx(t,e),refetch:this.refetch,promise:d(this,Ho)};if(this.options.experimental_prefetchInRender){const W=K=>{j.status==="error"?K.reject(j.error):j.data!==void 0&&K.resolve(j.data)},$=()=>{const K=E(this,Ho,j.promise=Sb());W(K)},G=d(this,Ho);switch(G.status){case"pending":t.queryHash===n.queryHash&&W(G);break;case"fulfilled":(j.status==="error"||j.data!==G.value)&&$();break;case"rejected":(j.status!=="error"||j.error!==G.reason)&&$();break}}return j}updateResult(t){const e=d(this,Hn),n=this.createResult(d(this,Vt),this.options);if(E(this,il,d(this,Vt).state),E(this,gu,this.options),d(this,il).data!==void 0&&E(this,yu,d(this,Vt)),wb(n,e))return;E(this,Hn,n);const s={},r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,c=typeof a=="function"?a():a;if(c==="all"||!c&&!d(this,vu).size)return!0;const u=new Set(c??d(this,vu));return this.options.throwOnError&&u.add("error"),Object.keys(d(this,Hn)).some(h=>{const p=h;return d(this,Hn)[p]!==e[p]&&u.has(p)})};(t==null?void 0:t.listeners)!==!1&&r()&&(s.listeners=!0),C(this,Zt,GC).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&C(this,Zt,kb).call(this)}},ei=new WeakMap,Vt=new WeakMap,yf=new WeakMap,Hn=new WeakMap,il=new WeakMap,gu=new WeakMap,Ho=new WeakMap,zs=new WeakMap,vf=new WeakMap,mu=new WeakMap,yu=new WeakMap,sl=new WeakMap,rl=new WeakMap,Bo=new WeakMap,vu=new WeakMap,Zt=new WeakSet,Ad=function(t){C(this,Zt,Rb).call(this);let e=d(this,Vt).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Vi)),e},Ab=function(){C(this,Zt,Tb).call(this);const t=tu(this.options.staleTime,d(this,Vt));if(ic||d(this,Hn).isStale||!bb(t))return;const n=jC(d(this,Hn).dataUpdatedAt,t)+1;E(this,sl,setTimeout(()=>{d(this,Hn).isStale||this.updateResult()},n))},Eb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(d(this,Vt)):this.options.refetchInterval)??!1},Cb=function(t){C(this,Zt,Pb).call(this),E(this,Bo,t),!(ic||_s(this.options.enabled,d(this,Vt))===!1||!bb(d(this,Bo))||d(this,Bo)===0)&&E(this,rl,setInterval(()=>{(this.options.refetchIntervalInBackground||px.isFocused())&&C(this,Zt,Ad).call(this)},d(this,Bo)))},kb=function(){C(this,Zt,Ab).call(this),C(this,Zt,Cb).call(this,C(this,Zt,Eb).call(this))},Tb=function(){d(this,sl)&&(clearTimeout(d(this,sl)),E(this,sl,void 0))},Pb=function(){d(this,rl)&&(clearInterval(d(this,rl)),E(this,rl,void 0))},Rb=function(){const t=d(this,ei).getQueryCache().build(d(this,ei),this.options);if(t===d(this,Vt))return;const e=d(this,Vt);E(this,Vt,t),E(this,yf,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},GC=function(t){pn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(d(this,Hn))}),d(this,ei).getQueryCache().notify({query:d(this,Vt),type:"observerResultsUpdated"})})},iC);function dD(i,t){return _s(t.enabled,i)!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&t.retryOnMount===!1)}function e1(i,t){return dD(i,t)||i.state.data!==void 0&&Mb(i,t,t.refetchOnMount)}function Mb(i,t,e){if(_s(t.enabled,i)!==!1){const n=typeof e=="function"?e(i):e;return n==="always"||n!==!1&&gx(i,t)}return!1}function n1(i,t,e,n){return(i!==t||_s(n.enabled,i)===!1)&&(!e.suspense||i.state.status!=="error")&&gx(i,e)}function gx(i,t){return _s(t.enabled,i)!==!1&&i.isStaleByTime(tu(t.staleTime,i))}function fD(i,t){return!wb(i.getCurrentResult(),t)}var XC=D.createContext(void 0),pD=i=>{const t=D.useContext(XC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},gD=({client:i,children:t})=>(D.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),O.jsx(XC.Provider,{value:i,children:t})),qC=D.createContext(!1),mD=()=>D.useContext(qC);qC.Provider;function yD(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var vD=D.createContext(yD()),bD=()=>D.useContext(vD);function wD(i,t){return typeof i=="function"?i(...t):!!i}function i1(){}var xD=(i,t)=>{(i.suspense||i.throwOnError||i.experimental_prefetchInRender)&&(t.isReset()||(i.retryOnMount=!1))},_D=i=>{D.useEffect(()=>{i.clearReset()},[i])},SD=({result:i,errorResetBoundary:t,throwOnError:e,query:n})=>i.isError&&!t.isReset()&&!i.isFetching&&n&&wD(e,[i.error,n]),AD=i=>{i.suspense&&(i.staleTime===void 0&&(i.staleTime=1e3),typeof i.gcTime=="number"&&(i.gcTime=Math.max(i.gcTime,1e3)))},ED=(i,t)=>i.isLoading&&i.isFetching&&!t,CD=(i,t)=>(i==null?void 0:i.suspense)&&t.isPending,s1=(i,t,e)=>t.fetchOptimistic(i).catch(()=>{e.clearReset()});function kD(i,t,e){var p,g,y,b,w;const n=pD(),s=mD(),r=bD(),a=n.defaultQueryOptions(i);(g=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||g.call(p,a),a._optimisticResults=s?"isRestoring":"optimistic",AD(a),xD(a,r),_D(r);const c=!n.getQueryCache().get(a.queryHash),[u]=D.useState(()=>new t(n,a)),h=u.getOptimisticResult(a);if(D.useSyncExternalStore(D.useCallback(x=>{const A=s?i1:u.subscribe(pn.batchCalls(x));return u.updateResult(),A},[u,s]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),D.useEffect(()=>{u.setOptions(a,{listeners:!1})},[a,u]),CD(a,h))throw s1(a,u,r);if(SD({result:h,errorResetBoundary:r,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash)}))throw h.error;if((b=(y=n.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||b.call(y,a,h),a.experimental_prefetchInRender&&!ic&&ED(h,s)){const x=c?s1(a,u,r):(w=n.getQueryCache().get(a.queryHash))==null?void 0:w.promise;x==null||x.catch(i1).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?h:u.trackResult(h)}function TD(i,t){return kD(i,hD)}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Op(i){return i+.5|0}const ga=(i,t,e)=>Math.max(Math.min(i,e),t);function Ed(i){return ga(Op(i*2.55),0,255)}function ya(i){return ga(Op(i*255),0,255)}function Pr(i){return ga(Op(i/2.55)/100,0,1)}function r1(i){return ga(Op(i*100),0,100)}const Fi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Lb=[..."0123456789ABCDEF"],PD=i=>Lb[i&15],RD=i=>Lb[(i&240)>>4]+Lb[i&15],em=i=>(i&240)>>4===(i&15),MD=i=>em(i.r)&&em(i.g)&&em(i.b)&&em(i.a);function LD(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&Fi[i[1]]*17,g:255&Fi[i[2]]*17,b:255&Fi[i[3]]*17,a:t===5?Fi[i[4]]*17:255}:(t===7||t===9)&&(e={r:Fi[i[1]]<<4|Fi[i[2]],g:Fi[i[3]]<<4|Fi[i[4]],b:Fi[i[5]]<<4|Fi[i[6]],a:t===9?Fi[i[7]]<<4|Fi[i[8]]:255})),e}const ID=(i,t)=>i<255?t(i):"";function DD(i){var t=MD(i)?PD:RD;return i?"#"+t(i.r)+t(i.g)+t(i.b)+ID(i.a,t):void 0}const OD=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function YC(i,t,e){const n=t*Math.min(e,1-e),s=(r,a=(r+i/30)%12)=>e-n*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function FD(i,t,e){const n=(s,r=(s+i/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function ND(i,t,e){const n=YC(i,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)n[s]*=1-t-e,n[s]+=t;return n}function jD(i,t,e,n,s){return i===s?(t-e)/n+(t<e?6:0):t===s?(e-i)/n+2:(i-t)/n+4}function mx(i){const e=i.r/255,n=i.g/255,s=i.b/255,r=Math.max(e,n,s),a=Math.min(e,n,s),c=(r+a)/2;let u,h,p;return r!==a&&(p=r-a,h=c>.5?p/(2-r-a):p/(r+a),u=jD(e,n,s,p,r),u=u*60+.5),[u|0,h||0,c]}function yx(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(ya)}function vx(i,t,e){return yx(YC,i,t,e)}function zD(i,t,e){return yx(ND,i,t,e)}function HD(i,t,e){return yx(FD,i,t,e)}function KC(i){return(i%360+360)%360}function BD(i){const t=OD.exec(i);let e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?Ed(+t[5]):ya(+t[5]));const s=KC(+t[2]),r=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?n=zD(s,r,a):t[1]==="hsv"?n=HD(s,r,a):n=vx(s,r,a),{r:n[0],g:n[1],b:n[2],a:e}}function WD(i,t){var e=mx(i);e[0]=KC(e[0]+t),e=vx(e),i.r=e[0],i.g=e[1],i.b=e[2]}function UD(i){if(!i)return;const t=mx(i),e=t[0],n=r1(t[1]),s=r1(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${s}%, ${Pr(i.a)})`:`hsl(${e}, ${n}%, ${s}%)`}const o1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},a1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function VD(){const i={},t=Object.keys(a1),e=Object.keys(o1);let n,s,r,a,c;for(n=0;n<t.length;n++){for(a=c=t[n],s=0;s<e.length;s++)r=e[s],c=c.replace(r,o1[r]);r=parseInt(a1[a],16),i[c]=[r>>16&255,r>>8&255,r&255]}return i}let nm;function $D(i){nm||(nm=VD(),nm.transparent=[0,0,0,0]);const t=nm[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const GD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function XD(i){const t=GD.exec(i);let e=255,n,s,r;if(t){if(t[7]!==n){const a=+t[7];e=t[8]?Ed(a):ga(a*255,0,255)}return n=+t[1],s=+t[3],r=+t[5],n=255&(t[2]?Ed(n):ga(n,0,255)),s=255&(t[4]?Ed(s):ga(s,0,255)),r=255&(t[6]?Ed(r):ga(r,0,255)),{r:n,g:s,b:r,a:e}}}function qD(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Pr(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const J0=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Wc=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function YD(i,t,e){const n=Wc(Pr(i.r)),s=Wc(Pr(i.g)),r=Wc(Pr(i.b));return{r:ya(J0(n+e*(Wc(Pr(t.r))-n))),g:ya(J0(s+e*(Wc(Pr(t.g))-s))),b:ya(J0(r+e*(Wc(Pr(t.b))-r))),a:i.a+e*(t.a-i.a)}}function im(i,t,e){if(i){let n=mx(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=vx(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function QC(i,t){return i&&Object.assign(t||{},i)}function l1(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=ya(i[3]))):(t=QC(i,{r:0,g:0,b:0,a:1}),t.a=ya(t.a)),t}function KD(i){return i.charAt(0)==="r"?XD(i):BD(i)}class af{constructor(t){if(t instanceof af)return t;const e=typeof t;let n;e==="object"?n=l1(t):e==="string"&&(n=LD(t)||$D(t)||KD(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=QC(this._rgb);return t&&(t.a=Pr(t.a)),t}set rgb(t){this._rgb=l1(t)}rgbString(){return this._valid?qD(this._rgb):void 0}hexString(){return this._valid?DD(this._rgb):void 0}hslString(){return this._valid?UD(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,s=t.rgb;let r;const a=e===r?.5:e,c=2*a-1,u=n.a-s.a,h=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;r=1-h,n.r=255&h*n.r+r*s.r+.5,n.g=255&h*n.g+r*s.g+.5,n.b=255&h*n.b+r*s.b+.5,n.a=a*n.a+(1-a)*s.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=YD(this._rgb,t._rgb,e)),this}clone(){return new af(this.rgb)}alpha(t){return this._rgb.a=ya(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Op(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return im(this._rgb,2,t),this}darken(t){return im(this._rgb,2,-t),this}saturate(t){return im(this._rgb,1,t),this}desaturate(t){return im(this._rgb,1,-t),this}rotate(t){return WD(this._rgb,t),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function wr(){}const QD=(()=>{let i=0;return()=>i++})();function ui(i){return i==null}function gn(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Kt(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function so(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function Ls(i,t){return so(i)?i:t}function re(i,t){return typeof i>"u"?t:i}const JD=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,JC=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function pe(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function ie(i,t,e,n){let s,r,a;if(gn(i))for(r=i.length,s=0;s<r;s++)t.call(e,i[s],s);else if(Kt(i))for(a=Object.keys(i),r=a.length,s=0;s<r;s++)t.call(e,i[a[s]],a[s])}function ny(i,t){let e,n,s,r;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(s=i[e],r=t[e],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function iy(i){if(gn(i))return i.map(iy);if(Kt(i)){const t=Object.create(null),e=Object.keys(i),n=e.length;let s=0;for(;s<n;++s)t[e[s]]=iy(i[e[s]]);return t}return i}function ZC(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function ZD(i,t,e,n){if(!ZC(i))return;const s=t[i],r=e[i];Kt(s)&&Kt(r)?lf(s,r,n):t[i]=iy(r)}function lf(i,t,e){const n=gn(t)?t:[t],s=n.length;if(!Kt(i))return i;e=e||{};const r=e.merger||ZD;let a;for(let c=0;c<s;++c){if(a=n[c],!Kt(a))continue;const u=Object.keys(a);for(let h=0,p=u.length;h<p;++h)r(u[h],i,a,e)}return i}function qd(i,t){return lf(i,t,{merger:tO})}function tO(i,t,e){if(!ZC(i))return;const n=t[i],s=e[i];Kt(n)&&Kt(s)?qd(n,s):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=iy(s))}const c1={"":i=>i,x:i=>i.x,y:i=>i.y};function eO(i){const t=i.split("."),e=[];let n="";for(const s of t)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function nO(i){const t=eO(i);return e=>{for(const n of t){if(n==="")break;e=e&&e[n]}return e}}function cf(i,t){return(c1[t]||(c1[t]=nO(t)))(i)}function bx(i){return i.charAt(0).toUpperCase()+i.slice(1)}const sy=i=>typeof i<"u",va=i=>typeof i=="function",u1=(i,t)=>{if(i.size!==t.size)return!1;for(const e of i)if(!t.has(e))return!1;return!0};function iO(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const on=Math.PI,je=2*on,ry=Number.POSITIVE_INFINITY,sO=on/180,Xe=on/2,Ha=on/4,h1=on*2/3,d1=Math.log10,f1=Math.sign;function rO(i){const t=[],e=Math.sqrt(i);let n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((s,r)=>s-r).pop(),t}function oy(i){return!isNaN(parseFloat(i))&&isFinite(i)}function Ja(i){return i*(on/180)}function oO(i){return i*(180/on)}function tk(i,t){const e=t.x-i.x,n=t.y-i.y,s=Math.sqrt(e*e+n*n);let r=Math.atan2(n,e);return r<-.5*on&&(r+=je),{angle:r,distance:s}}function aO(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function Ba(i){return(i%je+je)%je}function ay(i,t,e,n){const s=Ba(i),r=Ba(t),a=Ba(e),c=Ba(r-s),u=Ba(a-s),h=Ba(s-r),p=Ba(s-a);return s===r||s===a||n&&r===a||c>u&&h<p}function Xi(i,t,e){return Math.max(t,Math.min(e,i))}function lO(i){return Xi(i,-32768,32767)}function Cd(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function wx(i,t,e){e=e||(a=>i[a]<t);let n=i.length-1,s=0,r;for(;n-s>1;)r=s+n>>1,e(r)?s=r:n=r;return{lo:s,hi:n}}const Ib=(i,t,e,n)=>wx(i,e,n?s=>{const r=i[s][t];return r<e||r===e&&i[s+1][t]===e}:s=>i[s][t]<e),cO=(i,t,e)=>wx(i,e,n=>i[n][t]>=e);function uO(i,t,e){let n=0,s=i.length;for(;n<s&&i[n]<t;)n++;for(;s>n&&i[s-1]>e;)s--;return n>0||s<i.length?i.slice(n,s):i}const ek=["push","pop","shift","splice","unshift"];function hO(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ek.forEach(e=>{const n="_onData"+bx(e),s=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...r){const a=s.apply(this,r);return i._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...r)}),a}})})}function p1(i,t){const e=i._chartjs;if(!e)return;const n=e.listeners,s=n.indexOf(t);s!==-1&&n.splice(s,1),!(n.length>0)&&(ek.forEach(r=>{delete i[r]}),delete i._chartjs)}function dO(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const nk=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function ik(i,t){let e=[],n=!1;return function(...s){e=s,n||(n=!0,nk.call(window,()=>{n=!1,i.apply(t,e)}))}}function fO(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}const sk=i=>i==="start"?"left":i==="end"?"right":"center",yi=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,pO=(i,t,e,n)=>i===(n?"left":"right")?e:i==="center"?(t+e)/2:t,sm=i=>i===0||i===1,g1=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*je/e)),m1=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*je/e)+1,Yd={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Xe)+1,easeOutSine:i=>Math.sin(i*Xe),easeInOutSine:i=>-.5*(Math.cos(on*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>sm(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>sm(i)?i:g1(i,.075,.3),easeOutElastic:i=>sm(i)?i:m1(i,.075,.3),easeInOutElastic(i){return sm(i)?i:i<.5?.5*g1(i*2,.1125,.45):.5+.5*m1(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Yd.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Yd.easeInBounce(i*2)*.5:Yd.easeOutBounce(i*2-1)*.5+.5};function rk(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function y1(i){return rk(i)?i:new af(i)}function Z0(i){return rk(i)?i:new af(i).saturate(.5).darken(.1).hexString()}const gO=["x","y","borderWidth","radius","tension"],mO=["color","borderColor","backgroundColor"];function yO(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:mO},numbers:{type:"number",properties:gO}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function vO(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const v1=new Map;function bO(i,t){t=t||{};const e=i+JSON.stringify(t);let n=v1.get(e);return n||(n=new Intl.NumberFormat(i,t),v1.set(e,n)),n}function ok(i,t,e){return bO(t,e).format(i)}const ak={values(i){return gn(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";const n=this.chart.options.locale;let s,r=i;if(e.length>1){const h=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),r=wO(i,e)}const a=d1(Math.abs(r)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),ok(i,n,u)},logarithmic(i,t,e){if(i===0)return"0";const n=e[t].significand||i/Math.pow(10,Math.floor(d1(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?ak.numeric.call(this,i,t,e):""}};function wO(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var xO={formatters:ak};function _O(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xO.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const sc=Object.create(null),Db=Object.create(null);function Kd(i,t){if(!t)return i;const e=t.split(".");for(let n=0,s=e.length;n<s;++n){const r=e[n];i=i[r]||(i[r]=Object.create(null))}return i}function tb(i,t,e){return typeof t=="string"?lf(Kd(i,t),e):lf(Kd(i,""),t)}class SO{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>Z0(s.backgroundColor),this.hoverBorderColor=(n,s)=>Z0(s.borderColor),this.hoverColor=(n,s)=>Z0(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return tb(this,t,e)}get(t){return Kd(this,t)}describe(t,e){return tb(Db,t,e)}override(t,e){return tb(sc,t,e)}route(t,e,n,s){const r=Kd(this,t),a=Kd(this,n),c="_"+e;Object.defineProperties(r,{[c]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const u=this[c],h=a[s];return Kt(u)?Object.assign({},h,u):re(u,h)},set(u){this[c]=u}}})}apply(t){t.forEach(e=>e(this))}}var Le=new SO({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[yO,vO,_O]);function AO(i){return!i||ui(i.size)||ui(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function b1(i,t,e,n,s){let r=t[s];return r||(r=t[s]=i.measureText(s).width,e.push(s)),r>n&&(n=r),n}function Wa(i,t,e){const n=i.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*n)/n+s}function w1(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function x1(i,t,e,n){lk(i,t,e,n,null)}function lk(i,t,e,n,s){let r,a,c,u,h,p,g,y;const b=t.pointStyle,w=t.rotation,x=t.radius;let A=(w||0)*sO;if(b&&typeof b=="object"&&(r=b.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){i.save(),i.translate(e,n),i.rotate(A),i.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),i.restore();return}if(!(isNaN(x)||x<=0)){switch(i.beginPath(),b){default:s?i.ellipse(e,n,s/2,x,0,0,je):i.arc(e,n,x,0,je),i.closePath();break;case"triangle":p=s?s/2:x,i.moveTo(e+Math.sin(A)*p,n-Math.cos(A)*x),A+=h1,i.lineTo(e+Math.sin(A)*p,n-Math.cos(A)*x),A+=h1,i.lineTo(e+Math.sin(A)*p,n-Math.cos(A)*x),i.closePath();break;case"rectRounded":h=x*.516,u=x-h,a=Math.cos(A+Ha)*u,g=Math.cos(A+Ha)*(s?s/2-h:u),c=Math.sin(A+Ha)*u,y=Math.sin(A+Ha)*(s?s/2-h:u),i.arc(e-g,n-c,h,A-on,A-Xe),i.arc(e+y,n-a,h,A-Xe,A),i.arc(e+g,n+c,h,A,A+Xe),i.arc(e-y,n+a,h,A+Xe,A+on),i.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*x,p=s?s/2:u,i.rect(e-p,n-u,2*p,2*u);break}A+=Ha;case"rectRot":g=Math.cos(A)*(s?s/2:x),a=Math.cos(A)*x,c=Math.sin(A)*x,y=Math.sin(A)*(s?s/2:x),i.moveTo(e-g,n-c),i.lineTo(e+y,n-a),i.lineTo(e+g,n+c),i.lineTo(e-y,n+a),i.closePath();break;case"crossRot":A+=Ha;case"cross":g=Math.cos(A)*(s?s/2:x),a=Math.cos(A)*x,c=Math.sin(A)*x,y=Math.sin(A)*(s?s/2:x),i.moveTo(e-g,n-c),i.lineTo(e+g,n+c),i.moveTo(e+y,n-a),i.lineTo(e-y,n+a);break;case"star":g=Math.cos(A)*(s?s/2:x),a=Math.cos(A)*x,c=Math.sin(A)*x,y=Math.sin(A)*(s?s/2:x),i.moveTo(e-g,n-c),i.lineTo(e+g,n+c),i.moveTo(e+y,n-a),i.lineTo(e-y,n+a),A+=Ha,g=Math.cos(A)*(s?s/2:x),a=Math.cos(A)*x,c=Math.sin(A)*x,y=Math.sin(A)*(s?s/2:x),i.moveTo(e-g,n-c),i.lineTo(e+g,n+c),i.moveTo(e+y,n-a),i.lineTo(e-y,n+a);break;case"line":a=s?s/2:Math.cos(A)*x,c=Math.sin(A)*x,i.moveTo(e-a,n-c),i.lineTo(e+a,n+c);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(A)*(s?s/2:x),n+Math.sin(A)*x);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function ck(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function xx(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function _x(i){i.restore()}function EO(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),ui(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function CO(i,t,e,n,s){if(s.strikethrough||s.underline){const r=i.measureText(n),a=t-r.actualBoundingBoxLeft,c=t+r.actualBoundingBoxRight,u=e-r.actualBoundingBoxAscent,h=e+r.actualBoundingBoxDescent,p=s.strikethrough?(u+h)/2:h;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=s.decorationWidth||2,i.moveTo(a,p),i.lineTo(c,p),i.stroke()}}function kO(i,t){const e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function ly(i,t,e,n,s,r={}){const a=gn(t)?t:[t],c=r.strokeWidth>0&&r.strokeColor!=="";let u,h;for(i.save(),i.font=s.string,EO(i,r),u=0;u<a.length;++u)h=a[u],r.backdrop&&kO(i,r.backdrop),c&&(r.strokeColor&&(i.strokeStyle=r.strokeColor),ui(r.strokeWidth)||(i.lineWidth=r.strokeWidth),i.strokeText(h,e,n,r.maxWidth)),i.fillText(h,e,n,r.maxWidth),CO(i,e,n,h,r),n+=Number(s.lineHeight);i.restore()}function Ob(i,t){const{x:e,y:n,w:s,h:r,radius:a}=t;i.arc(e+a.topLeft,n+a.topLeft,a.topLeft,1.5*on,on,!0),i.lineTo(e,n+r-a.bottomLeft),i.arc(e+a.bottomLeft,n+r-a.bottomLeft,a.bottomLeft,on,Xe,!0),i.lineTo(e+s-a.bottomRight,n+r),i.arc(e+s-a.bottomRight,n+r-a.bottomRight,a.bottomRight,Xe,0,!0),i.lineTo(e+s,n+a.topRight),i.arc(e+s-a.topRight,n+a.topRight,a.topRight,0,-Xe,!0),i.lineTo(e+a.topLeft,n)}const TO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,PO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function RO(i,t){const e=(""+i).match(TO);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}const MO=i=>+i||0;function Sx(i,t){const e={},n=Kt(t),s=n?Object.keys(t):t,r=Kt(i)?n?a=>re(i[a],i[t[a]]):a=>i[a]:()=>i;for(const a of s)e[a]=MO(r(a));return e}function LO(i){return Sx(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Qd(i){return Sx(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Es(i){const t=LO(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function li(i,t){i=i||{},t=t||Le.font;let e=re(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=re(i.style,t.style);n&&!(""+n).match(PO)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:re(i.family,t.family),lineHeight:RO(re(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:re(i.weight,t.weight),string:""};return s.string=AO(s),s}function rm(i,t,e,n){let s,r,a;for(s=0,r=i.length;s<r;++s)if(a=i[s],a!==void 0&&a!==void 0)return a}function IO(i,t,e){const{min:n,max:s}=i,r=JC(t,(s-n)/2),a=(c,u)=>e&&c===0?0:c+u;return{min:a(n,-Math.abs(r)),max:a(s,r)}}function Sh(i,t){return Object.assign(Object.create(i),t)}function Ax(i,t=[""],e,n,s=()=>i[0]){const r=e||i;typeof n>"u"&&(n=fk("_fallback",i));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:r,_fallback:n,_getTarget:s,override:c=>Ax([c,...i],t,r,n)};return new Proxy(a,{deleteProperty(c,u){return delete c[u],delete c._keys,delete i[0][u],!0},get(c,u){return hk(c,u,()=>BO(u,t,i,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(c,u){return S1(c).includes(u)},ownKeys(c){return S1(c)},set(c,u,h){const p=c._storage||(c._storage=s());return c[u]=p[u]=h,delete c._keys,!0}})}function yh(i,t,e,n){const s={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:uk(i,n),setContext:r=>yh(i,r,e,n),override:r=>yh(i.override(r),t,e,n)};return new Proxy(s,{deleteProperty(r,a){return delete r[a],delete i[a],!0},get(r,a,c){return hk(r,a,()=>OO(r,a,c))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(i,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,a)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(r,a){return Reflect.has(i,a)},ownKeys(){return Reflect.ownKeys(i)},set(r,a,c){return i[a]=c,delete r[a],!0}})}function uk(i,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=i;return{allKeys:s,scriptable:e,indexable:n,isScriptable:va(e)?e:()=>e,isIndexable:va(n)?n:()=>n}}const DO=(i,t)=>i?i+bx(t):t,Ex=(i,t)=>Kt(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function hk(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];const n=e();return i[t]=n,n}function OO(i,t,e){const{_proxy:n,_context:s,_subProxy:r,_descriptors:a}=i;let c=n[t];return va(c)&&a.isScriptable(t)&&(c=FO(t,c,i,e)),gn(c)&&c.length&&(c=NO(t,c,i,a.isIndexable)),Ex(t,c)&&(c=yh(c,s,r&&r[t],a)),c}function FO(i,t,e,n){const{_proxy:s,_context:r,_subProxy:a,_stack:c}=e;if(c.has(i))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+i);c.add(i);let u=t(r,a||n);return c.delete(i),Ex(i,u)&&(u=Cx(s._scopes,s,i,u)),u}function NO(i,t,e,n){const{_proxy:s,_context:r,_subProxy:a,_descriptors:c}=e;if(typeof r.index<"u"&&n(i))return t[r.index%t.length];if(Kt(t[0])){const u=t,h=s._scopes.filter(p=>p!==u);t=[];for(const p of u){const g=Cx(h,s,i,p);t.push(yh(g,r,a&&a[i],c))}}return t}function dk(i,t,e){return va(i)?i(t,e):i}const jO=(i,t)=>i===!0?t:typeof i=="string"?cf(t,i):void 0;function zO(i,t,e,n,s){for(const r of t){const a=jO(e,r);if(a){i.add(a);const c=dk(a._fallback,e,s);if(typeof c<"u"&&c!==e&&c!==n)return c}else if(a===!1&&typeof n<"u"&&e!==n)return null}return!1}function Cx(i,t,e,n){const s=t._rootScopes,r=dk(t._fallback,e,n),a=[...i,...s],c=new Set;c.add(n);let u=_1(c,a,e,r||e,n);return u===null||typeof r<"u"&&r!==e&&(u=_1(c,a,r,u,n),u===null)?!1:Ax(Array.from(c),[""],s,r,()=>HO(t,e,n))}function _1(i,t,e,n,s){for(;e;)e=zO(i,t,e,n,s);return e}function HO(i,t,e){const n=i._getTarget();t in n||(n[t]={});const s=n[t];return gn(s)&&Kt(e)?e:s||{}}function BO(i,t,e,n){let s;for(const r of t)if(s=fk(DO(r,i),e),typeof s<"u")return Ex(i,s)?Cx(e,n,i,s):s}function fk(i,t){for(const e of t){if(!e)continue;const n=e[i];if(typeof n<"u")return n}}function S1(i){let t=i._keys;return t||(t=i._keys=WO(i._scopes)),t}function WO(i){const t=new Set;for(const e of i)for(const n of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(n);return Array.from(t)}function kx(){return typeof window<"u"&&typeof document<"u"}function Tx(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function cy(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}const Hy=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function UO(i,t){return Hy(i).getPropertyValue(t)}const VO=["top","right","bottom","left"];function nc(i,t,e){const n={};e=e?"-"+e:"";for(let s=0;s<4;s++){const r=VO[s];n[r]=parseFloat(i[t+"-"+r+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const $O=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function GO(i,t){const e=i.touches,n=e&&e.length?e[0]:i,{offsetX:s,offsetY:r}=n;let a=!1,c,u;if($O(s,r,i.target))c=s,u=r;else{const h=t.getBoundingClientRect();c=n.clientX-h.left,u=n.clientY-h.top,a=!0}return{x:c,y:u,box:a}}function $a(i,t){if("native"in i)return i;const{canvas:e,currentDevicePixelRatio:n}=t,s=Hy(e),r=s.boxSizing==="border-box",a=nc(s,"padding"),c=nc(s,"border","width"),{x:u,y:h,box:p}=GO(i,e),g=a.left+(p&&c.left),y=a.top+(p&&c.top);let{width:b,height:w}=t;return r&&(b-=a.width+c.width,w-=a.height+c.height),{x:Math.round((u-g)/b*e.width/n),y:Math.round((h-y)/w*e.height/n)}}function XO(i,t,e){let n,s;if(t===void 0||e===void 0){const r=i&&Tx(i);if(!r)t=i.clientWidth,e=i.clientHeight;else{const a=r.getBoundingClientRect(),c=Hy(r),u=nc(c,"border","width"),h=nc(c,"padding");t=a.width-h.width-u.width,e=a.height-h.height-u.height,n=cy(c.maxWidth,r,"clientWidth"),s=cy(c.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:n||ry,maxHeight:s||ry}}const om=i=>Math.round(i*10)/10;function qO(i,t,e,n){const s=Hy(i),r=nc(s,"margin"),a=cy(s.maxWidth,i,"clientWidth")||ry,c=cy(s.maxHeight,i,"clientHeight")||ry,u=XO(i,t,e);let{width:h,height:p}=u;if(s.boxSizing==="content-box"){const y=nc(s,"border","width"),b=nc(s,"padding");h-=b.width+y.width,p-=b.height+y.height}return h=Math.max(0,h-r.width),p=Math.max(0,n?h/n:p-r.height),h=om(Math.min(h,a,u.maxWidth)),p=om(Math.min(p,c,u.maxHeight)),h&&!p&&(p=om(h/2)),(t!==void 0||e!==void 0)&&n&&u.height&&p>u.height&&(p=u.height,h=om(Math.floor(p*n))),{width:h,height:p}}function A1(i,t,e){const n=t||1,s=Math.floor(i.height*n),r=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const a=i.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${i.height}px`,a.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||a.height!==s||a.width!==r?(i.currentDevicePixelRatio=n,a.height=s,a.width=r,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}const YO=function(){let i=!1;try{const t={get passive(){return i=!0,!1}};kx()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function E1(i,t){const e=UO(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const KO=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},QO=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function eu(i,t,e){return i?KO(t,e):QO()}function pk(i,t){let e,n;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function gk(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class JO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,s){const r=e.listeners[s],a=e.duration;r.forEach(c=>c({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(n-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=nk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const r=n.items;let a=r.length-1,c=!1,u;for(;a>=0;--a)u=r[a],u._active?(u._total>n.duration&&(n.duration=u._total),u.tick(t),c=!0):(r[a]=r[r.length-1],r.pop());c&&(s.draw(),this._notify(s,n,t,"progress")),r.length||(n.running=!1,this._notify(s,n,t,"complete"),n.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ar=new JO;const C1="transparent",ZO={boolean(i,t,e){return e>.5?t:i},color(i,t,e){const n=y1(i||C1),s=n.valid&&y1(t||C1);return s&&s.valid?s.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}};class tF{constructor(t,e,n,s){const r=e[n];s=rm([t.to,s,r,t.from]);const a=rm([t.from,r,s]);this._active=!0,this._fn=t.fn||ZO[t.type||typeof a],this._easing=Yd[t.easing]||Yd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const s=this._target[this._prop],r=n-this._start,a=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=rm([t.to,e,s,t.from]),this._from=rm([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,s=this._prop,r=this._from,a=this._loop,c=this._to;let u;if(this._active=r!==c&&(a||e<n),!this._active){this._target[s]=c,this._notify(!0);return}if(e<0){this._target[s]=r;return}u=e/n%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(r,c,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][e]()}}let mk=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Kt(t))return;const e=Object.keys(Le.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!Kt(r))return;const a={};for(const c of e)a[c]=r[c];(gn(r.properties)&&r.properties||[s]).forEach(c=>{(c===s||!n.has(c))&&n.set(c,a)})})}_animateOptions(t,e){const n=e.options,s=nF(t,n);if(!s)return[];const r=this._createAnimations(s,n);return n.$shared&&eF(t.options.$animations,n).then(()=>{t.options=n},()=>{}),r}_createAnimations(t,e){const n=this._properties,s=[],r=t.$animations||(t.$animations={}),a=Object.keys(e),c=Date.now();let u;for(u=a.length-1;u>=0;--u){const h=a[u];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(t,e));continue}const p=e[h];let g=r[h];const y=n.get(h);if(g)if(y&&g.active()){g.update(y,p,c);continue}else g.cancel();if(!y||!y.duration){t[h]=p;continue}r[h]=g=new tF(y,t,h,p),s.push(g)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const n=this._createAnimations(t,e);if(n.length)return Ar.add(this._chart,n),!0}};function eF(i,t){const e=[],n=Object.keys(t);for(let s=0;s<n.length;s++){const r=i[n[s]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function nF(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function k1(i,t){const e=i&&i.options||{},n=e.reverse,s=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:n?r:s,end:n?s:r}}function iF(i,t,e){if(e===!1)return!1;const n=k1(i,e),s=k1(t,e);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function sF(i){let t,e,n,s;return Kt(i)?(t=i.top,e=i.right,n=i.bottom,s=i.left):t=e=n=s=i,{top:t,right:e,bottom:n,left:s,disabled:i===!1}}function yk(i,t){const e=[],n=i._getSortedDatasetMetas(t);let s,r;for(s=0,r=n.length;s<r;++s)e.push(n[s].index);return e}function T1(i,t,e,n={}){const s=i.keys,r=n.mode==="single";let a,c,u,h;if(t===null)return;let p=!1;for(a=0,c=s.length;a<c;++a){if(u=+s[a],u===e){if(p=!0,n.all)continue;break}h=i.values[u],so(h)&&(r||t===0||f1(t)===f1(h))&&(t+=h)}return!p&&!n.all?0:t}function rF(i,t){const{iScale:e,vScale:n}=t,s=e.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",a=Object.keys(i),c=new Array(a.length);let u,h,p;for(u=0,h=a.length;u<h;++u)p=a[u],c[u]={[s]:p,[r]:i[p]};return c}function eb(i,t){const e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function oF(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function aF(i){const{min:t,max:e,minDefined:n,maxDefined:s}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function lF(i,t,e){const n=i[t]||(i[t]={});return n[e]||(n[e]={})}function P1(i,t,e,n){for(const s of t.getMatchingVisibleMetas(n).reverse()){const r=i[s.index];if(e&&r>0||!e&&r<0)return s.index}return null}function R1(i,t){const{chart:e,_cachedMeta:n}=i,s=e._stacks||(e._stacks={}),{iScale:r,vScale:a,index:c}=n,u=r.axis,h=a.axis,p=oF(r,a,n),g=t.length;let y;for(let b=0;b<g;++b){const w=t[b],{[u]:x,[h]:A}=w,S=w._stacks||(w._stacks={});y=S[h]=lF(s,p,x),y[c]=A,y._top=P1(y,a,!0,n.type),y._bottom=P1(y,a,!1,n.type);const P=y._visualValues||(y._visualValues={});P[c]=A}}function nb(i,t){const e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function cF(i,t){return Sh(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function uF(i,t,e){return Sh(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function md(i,t){const e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(const s of t){const r=s._stacks;if(!r||r[n]===void 0||r[n][e]===void 0)return;delete r[n][e],r[n]._visualValues!==void 0&&r[n]._visualValues[e]!==void 0&&delete r[n]._visualValues[e]}}}const ib=i=>i==="reset"||i==="none",M1=(i,t)=>t?i:Object.assign({},i),hF=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:yk(e,!0),values:null};class Jd{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=eb(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&md(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),s=(g,y,b,w)=>g==="x"?y:g==="r"?w:b,r=e.xAxisID=re(n.xAxisID,nb(t,"x")),a=e.yAxisID=re(n.yAxisID,nb(t,"y")),c=e.rAxisID=re(n.rAxisID,nb(t,"r")),u=e.indexAxis,h=e.iAxisID=s(u,r,a,c),p=e.vAxisID=s(u,a,r,c);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(h),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&p1(this._data,this),t._stacked&&md(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(Kt(e)){const s=this._cachedMeta;this._data=rF(e,s)}else if(n!==e){if(n){p1(n,this);const s=this._cachedMeta;md(s),s._parsed=[]}e&&Object.isExtensible(e)&&hO(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const r=e._stacked;e._stacked=eb(e.vScale,e),e.stack!==n.stack&&(s=!0,md(e),e.stack=n.stack),this._resyncElements(t),(s||r!==e._stacked)&&(R1(this,e._parsed),e._stacked=eb(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:s}=this,{iScale:r,_stacked:a}=n,c=r.axis;let u=t===0&&e===s.length?!0:n._sorted,h=t>0&&n._parsed[t-1],p,g,y;if(this._parsing===!1)n._parsed=s,n._sorted=!0,y=s;else{gn(s[t])?y=this.parseArrayData(n,s,t,e):Kt(s[t])?y=this.parseObjectData(n,s,t,e):y=this.parsePrimitiveData(n,s,t,e);const b=()=>g[c]===null||h&&g[c]<h[c];for(p=0;p<e;++p)n._parsed[p+t]=g=y[p],u&&(b()&&(u=!1),h=g);n._sorted=u}a&&R1(this,y)}parsePrimitiveData(t,e,n,s){const{iScale:r,vScale:a}=t,c=r.axis,u=a.axis,h=r.getLabels(),p=r===a,g=new Array(s);let y,b,w;for(y=0,b=s;y<b;++y)w=y+n,g[y]={[c]:p||r.parse(h[w],w),[u]:a.parse(e[w],w)};return g}parseArrayData(t,e,n,s){const{xScale:r,yScale:a}=t,c=new Array(s);let u,h,p,g;for(u=0,h=s;u<h;++u)p=u+n,g=e[p],c[u]={x:r.parse(g[0],p),y:a.parse(g[1],p)};return c}parseObjectData(t,e,n,s){const{xScale:r,yScale:a}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=new Array(s);let p,g,y,b;for(p=0,g=s;p<g;++p)y=p+n,b=e[y],h[p]={x:r.parse(cf(b,c),y),y:a.parse(cf(b,u),y)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const s=this.chart,r=this._cachedMeta,a=e[t.axis],c={keys:yk(s,!0),values:e._stacks[t.axis]._visualValues};return T1(c,a,r.index,{mode:n})}updateRangeFromParsed(t,e,n,s){const r=n[e.axis];let a=r===null?NaN:r;const c=s&&n._stacks[e.axis];s&&c&&(s.values=c,a=T1(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const n=this._cachedMeta,s=n._parsed,r=n._sorted&&t===n.iScale,a=s.length,c=this._getOtherScale(t),u=hF(e,n,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=aF(c);let y,b;function w(){b=s[y];const x=b[c.axis];return!so(b[t.axis])||p>x||g<x}for(y=0;y<a&&!(!w()&&(this.updateRangeFromParsed(h,t,b,u),r));++y);if(r){for(y=a-1;y>=0;--y)if(!w()){this.updateRangeFromParsed(h,t,b,u);break}}return h}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let s,r,a;for(s=0,r=e.length;s<r;++s)a=e[s][t.axis],so(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,s=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=sF(re(this.options.clip,iF(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,s=n.data||[],r=e.chartArea,a=[],c=this._drawStart||0,u=this._drawCount||s.length-c,h=this.options.drawActiveElementsOnTop;let p;for(n.dataset&&n.dataset.draw(t,r,c,u),p=c;p<c+u;++p){const g=s[p];g.hidden||(g.active&&h?a.push(g):g.draw(t,r))}for(p=0;p<a.length;++p)a[p].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];r=a.$context||(a.$context=uF(this.getContext(),t,a)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=cF(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const s=e==="active",r=this._cachedDataOpts,a=t+"-"+e,c=r[a],u=this.enableOptionSharing&&sy(n);if(c)return M1(c,u);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,t),g=s?[`${t}Hover`,"hover",t,""]:[t,""],y=h.getOptionScopes(this.getDataset(),p),b=Object.keys(Le.elements[t]),w=()=>this.getContext(n,s,e),x=h.resolveNamedOptions(y,b,w,g);return x.$shared&&(x.$shared=u,r[a]=Object.freeze(M1(x,u))),x}_resolveAnimations(t,e,n){const s=this.chart,r=this._cachedDataOpts,a=`animation-${e}`,c=r[a];if(c)return c;let u;if(s.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,e),y=p.getOptionScopes(this.getDataset(),g);u=p.createResolver(y,this.getContext(t,n,e))}const h=new mk(s,u&&u.animations);return u&&u._cacheable&&(r[a]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ib(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),s=this._sharedOptions,r=this.getSharedOptions(n),a=this.includeOptions(e,r)||r!==s;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:a}}updateElement(t,e,n,s){ib(s)?Object.assign(t,n):this._resolveAnimations(e,s).update(t,n)}updateSharedOptions(t,e,n){t&&!ib(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,s){t.active=s;const r=this.getStyle(e,s);this._resolveAnimations(e,n,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[c,u,h]of this._syncList)this[c](u,h);this._syncList=[];const s=n.length,r=e.length,a=Math.min(r,s);a&&this.parse(0,a),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,e,n=!0){const s=this._cachedMeta,r=s.data,a=t+e;let c;const u=h=>{for(h.length+=e,c=h.length-1;c>=a;c--)h[c]=h[c-e]};for(u(r),c=t;c<a;++c)r[c]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,s){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(t,e);n._stacked&&md(n,s)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,s]=t;this[e](n,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}lt(Jd,"defaults",{}),lt(Jd,"datasetElementType",null),lt(Jd,"dataElementType",null);function dF(i,t,e){let n=1,s=1,r=0,a=0;if(t<je){const c=i,u=c+t,h=Math.cos(c),p=Math.sin(c),g=Math.cos(u),y=Math.sin(u),b=(R,M,I)=>ay(R,c,u,!0)?1:Math.max(M,M*e,I,I*e),w=(R,M,I)=>ay(R,c,u,!0)?-1:Math.min(M,M*e,I,I*e),x=b(0,h,g),A=b(Xe,p,y),S=w(on,h,g),P=w(on+Xe,p,y);n=(x-S)/2,s=(A-P)/2,r=-(x+S)/2,a=-(A+P)/2}return{ratioX:n,ratioY:s,offsetX:r,offsetY:a}}class kd extends Jd{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let r=u=>+n[u];if(Kt(n[t])){const{key:u="value"}=this._parsing;r=h=>+cf(n[h],u)}let a,c;for(a=t,c=t+e;a<c;++a)s._parsed[a]=r(a)}}_getRotation(){return Ja(this.options.rotation-90)}_getCircumference(){return Ja(this.options.circumference)}_getRotationExtents(){let t=je,e=-je;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,r=s._getRotation(),a=s._getCircumference();t=Math.min(t,r),e=Math.max(e,r+a)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,s=this._cachedMeta,r=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,c=Math.max((Math.min(n.width,n.height)-a)/2,0),u=Math.min(JD(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:p,rotation:g}=this._getRotationExtents(),{ratioX:y,ratioY:b,offsetX:w,offsetY:x}=dF(g,p,u),A=(n.width-a)/y,S=(n.height-a)/b,P=Math.max(Math.min(A,S)/2,0),R=JC(this.options.radius,P),M=Math.max(R*u,0),I=(R-M)/this._getVisibleDatasetWeightTotal();this.offsetX=w*R,this.offsetY=x*R,s.total=this.calculateTotal(),this.outerRadius=R-I*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-I*h,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const n=this.options,s=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/je)}updateElements(t,e,n,s){const r=s==="reset",a=this.chart,c=a.chartArea,h=a.options.animation,p=(c.left+c.right)/2,g=(c.top+c.bottom)/2,y=r&&h.animateScale,b=y?0:this.innerRadius,w=y?0:this.outerRadius,{sharedOptions:x,includeOptions:A}=this._getSharedOptions(e,s);let S=this._getRotation(),P;for(P=0;P<e;++P)S+=this._circumference(P,r);for(P=e;P<e+n;++P){const R=this._circumference(P,r),M=t[P],I={x:p+this.offsetX,y:g+this.offsetY,startAngle:S,endAngle:S+R,circumference:R,outerRadius:w,innerRadius:b};A&&(I.options=x||this.resolveDataElementOptions(P,M.active?"active":s)),S+=R,this.updateElement(M,P,I,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n=0,s;for(s=0;s<e.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?je*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,s=n.data.labels||[],r=ok(e._parsed[t],n.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let s,r,a,c,u;if(!t){for(s=0,r=n.data.datasets.length;s<r;++s)if(n.isDatasetVisible(s)){a=n.getDatasetMeta(s),t=a.data,c=a.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)u=c.resolveDataElementOptions(s),u.borderAlign!=="inner"&&(e=Math.max(e,u.borderWidth||0,u.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,s=t.length;n<s;++n){const r=this.resolveDataElementOptions(n);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(re(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}lt(kd,"id","doughnut"),lt(kd,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),lt(kd,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),lt(kd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:s}}=t.legend.options;return e.labels.map((r,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:s,lineWidth:u.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});function Ua(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Px{constructor(t){lt(this,"options");this.options=t||{}}static override(t){Object.assign(Px.prototype,t)}init(){}formats(){return Ua()}parse(){return Ua()}format(){return Ua()}add(){return Ua()}diff(){return Ua()}startOf(){return Ua()}endOf(){return Ua()}}var fF={_date:Px};function pF(i,t,e,n){const{controller:s,data:r,_sorted:a}=i,c=s._cachedMeta.iScale;if(c&&t===c.axis&&t!=="r"&&a&&r.length){const u=c._reversePixels?cO:Ib;if(n){if(s._sharedOptions){const h=r[0],p=typeof h.getRange=="function"&&h.getRange(t);if(p){const g=u(r,t,e-p),y=u(r,t,e+p);return{lo:g.lo,hi:y.hi}}}}else return u(r,t,e)}return{lo:0,hi:r.length-1}}function Fp(i,t,e,n,s){const r=i.getSortedVisibleDatasetMetas(),a=e[t];for(let c=0,u=r.length;c<u;++c){const{index:h,data:p}=r[c],{lo:g,hi:y}=pF(r[c],t,a,s);for(let b=g;b<=y;++b){const w=p[b];w.skip||n(w,h,b)}}}function gF(i){const t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,s){const r=t?Math.abs(n.x-s.x):0,a=e?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function sb(i,t,e,n,s){const r=[];return!s&&!i.isPointInArea(t)||Fp(i,e,t,function(c,u,h){!s&&!ck(c,i.chartArea,0)||c.inRange(t.x,t.y,n)&&r.push({element:c,datasetIndex:u,index:h})},!0),r}function mF(i,t,e,n){let s=[];function r(a,c,u){const{startAngle:h,endAngle:p}=a.getProps(["startAngle","endAngle"],n),{angle:g}=tk(a,{x:t.x,y:t.y});ay(g,h,p)&&s.push({element:a,datasetIndex:c,index:u})}return Fp(i,e,t,r),s}function yF(i,t,e,n,s,r){let a=[];const c=gF(e);let u=Number.POSITIVE_INFINITY;function h(p,g,y){const b=p.inRange(t.x,t.y,s);if(n&&!b)return;const w=p.getCenterPoint(s);if(!(!!r||i.isPointInArea(w))&&!b)return;const A=c(t,w);A<u?(a=[{element:p,datasetIndex:g,index:y}],u=A):A===u&&a.push({element:p,datasetIndex:g,index:y})}return Fp(i,e,t,h),a}function rb(i,t,e,n,s,r){return!r&&!i.isPointInArea(t)?[]:e==="r"&&!n?mF(i,t,e,s):yF(i,t,e,n,s,r)}function L1(i,t,e,n,s){const r=[],a=e==="x"?"inXRange":"inYRange";let c=!1;return Fp(i,e,t,(u,h,p)=>{u[a]&&u[a](t[e],s)&&(r.push({element:u,datasetIndex:h,index:p}),c=c||u.inRange(t.x,t.y,s))}),n&&!c?[]:r}var vF={evaluateInteractionItems:Fp,modes:{index(i,t,e,n){const s=$a(t,i),r=e.axis||"x",a=e.includeInvisible||!1,c=e.intersect?sb(i,s,r,n,a):rb(i,s,r,!1,n,a),u=[];return c.length?(i.getSortedVisibleDatasetMetas().forEach(h=>{const p=c[0].index,g=h.data[p];g&&!g.skip&&u.push({element:g,datasetIndex:h.index,index:p})}),u):[]},dataset(i,t,e,n){const s=$a(t,i),r=e.axis||"xy",a=e.includeInvisible||!1;let c=e.intersect?sb(i,s,r,n,a):rb(i,s,r,!1,n,a);if(c.length>0){const u=c[0].datasetIndex,h=i.getDatasetMeta(u).data;c=[];for(let p=0;p<h.length;++p)c.push({element:h[p],datasetIndex:u,index:p})}return c},point(i,t,e,n){const s=$a(t,i),r=e.axis||"xy",a=e.includeInvisible||!1;return sb(i,s,r,n,a)},nearest(i,t,e,n){const s=$a(t,i),r=e.axis||"xy",a=e.includeInvisible||!1;return rb(i,s,r,e.intersect,n,a)},x(i,t,e,n){const s=$a(t,i);return L1(i,s,"x",e.intersect,n)},y(i,t,e,n){const s=$a(t,i);return L1(i,s,"y",e.intersect,n)}}};const vk=["left","top","right","bottom"];function yd(i,t){return i.filter(e=>e.pos===t)}function I1(i,t){return i.filter(e=>vk.indexOf(e.pos)===-1&&e.box.axis===t)}function vd(i,t){return i.sort((e,n)=>{const s=t?n:e,r=t?e:n;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function bF(i){const t=[];let e,n,s,r,a,c;for(e=0,n=(i||[]).length;e<n;++e)s=i[e],{position:r,options:{stack:a,stackWeight:c=1}}=s,t.push({index:e,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&r+a,stackWeight:c});return t}function wF(i){const t={};for(const e of i){const{stack:n,pos:s,stackWeight:r}=e;if(!n||!vk.includes(s))continue;const a=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}function xF(i,t){const e=wF(i),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t;let r,a,c;for(r=0,a=i.length;r<a;++r){c=i[r];const{fullSize:u}=c.box,h=e[c.stack],p=h&&c.stackWeight/h.weight;c.horizontal?(c.width=p?p*n:u&&t.availableWidth,c.height=s):(c.width=n,c.height=p?p*s:u&&t.availableHeight)}return e}function _F(i){const t=bF(i),e=vd(t.filter(h=>h.box.fullSize),!0),n=vd(yd(t,"left"),!0),s=vd(yd(t,"right")),r=vd(yd(t,"top"),!0),a=vd(yd(t,"bottom")),c=I1(t,"x"),u=I1(t,"y");return{fullSize:e,leftAndTop:n.concat(r),rightAndBottom:s.concat(u).concat(a).concat(c),chartArea:yd(t,"chartArea"),vertical:n.concat(s).concat(u),horizontal:r.concat(a).concat(c)}}function D1(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function bk(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function SF(i,t,e,n){const{pos:s,box:r}=e,a=i.maxPadding;if(!Kt(s)){e.size&&(i[s]-=e.size);const g=n[e.stack]||{size:0,count:1};g.size=Math.max(g.size,e.horizontal?r.height:r.width),e.size=g.size/g.count,i[s]+=e.size}r.getPadding&&bk(a,r.getPadding());const c=Math.max(0,t.outerWidth-D1(a,i,"left","right")),u=Math.max(0,t.outerHeight-D1(a,i,"top","bottom")),h=c!==i.w,p=u!==i.h;return i.w=c,i.h=u,e.horizontal?{same:h,other:p}:{same:p,other:h}}function AF(i){const t=i.maxPadding;function e(n){const s=Math.max(t[n]-i[n],0);return i[n]+=s,s}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function EF(i,t){const e=t.maxPadding;function n(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{r[a]=Math.max(t[a],e[a])}),r}return n(i?["left","right"]:["top","bottom"])}function Td(i,t,e,n){const s=[];let r,a,c,u,h,p;for(r=0,a=i.length,h=0;r<a;++r){c=i[r],u=c.box,u.update(c.width||t.w,c.height||t.h,EF(c.horizontal,t));const{same:g,other:y}=SF(t,e,c,n);h|=g&&s.length,p=p||y,u.fullSize||s.push(c)}return h&&Td(s,t,e,n)||p}function am(i,t,e,n,s){i.top=e,i.left=t,i.right=t+n,i.bottom=e+s,i.width=n,i.height=s}function O1(i,t,e,n){const s=e.padding;let{x:r,y:a}=t;for(const c of i){const u=c.box,h=n[c.stack]||{count:1,placed:0,weight:1},p=c.stackWeight/h.weight||1;if(c.horizontal){const g=t.w*p,y=h.size||u.height;sy(h.start)&&(a=h.start),u.fullSize?am(u,s.left,a,e.outerWidth-s.right-s.left,y):am(u,t.left+h.placed,a,g,y),h.start=a,h.placed+=g,a=u.bottom}else{const g=t.h*p,y=h.size||u.width;sy(h.start)&&(r=h.start),u.fullSize?am(u,r,s.top,y,e.outerHeight-s.bottom-s.top):am(u,r,t.top+h.placed,y,g),h.start=r,h.placed+=g,r=u.right}}t.x=r,t.y=a}var ma={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){const e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;const s=Es(i.options.layout.padding),r=Math.max(t-s.width,0),a=Math.max(e-s.height,0),c=_F(i.boxes),u=c.vertical,h=c.horizontal;ie(i.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const p=u.reduce((x,A)=>A.box.options&&A.box.options.display===!1?x:x+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/p,hBoxMaxHeight:a/2}),y=Object.assign({},s);bk(y,Es(n));const b=Object.assign({maxPadding:y,w:r,h:a,x:s.left,y:s.top},s),w=xF(u.concat(h),g);Td(c.fullSize,b,g,w),Td(u,b,g,w),Td(h,b,g,w)&&Td(u,b,g,w),AF(b),O1(c.leftAndTop,b,g,w),b.x+=b.w,b.y+=b.h,O1(c.rightAndBottom,b,g,w),i.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},ie(c.chartArea,x=>{const A=x.box;Object.assign(A,i.chartArea),A.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class wk{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,s){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):n)}}isAttached(t){return!0}updateConfig(t){}}class CF extends wk{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const xm="$chartjs",kF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},F1=i=>i===null||i==="";function TF(i,t){const e=i.style,n=i.getAttribute("height"),s=i.getAttribute("width");if(i[xm]={initial:{height:n,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",F1(s)){const r=E1(i,"width");r!==void 0&&(i.width=r)}if(F1(n))if(i.style.height==="")i.height=i.width/(t||2);else{const r=E1(i,"height");r!==void 0&&(i.height=r)}return i}const xk=YO?{passive:!0}:!1;function PF(i,t,e){i&&i.addEventListener(t,e,xk)}function RF(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,xk)}function MF(i,t){const e=kF[i.type]||i.type,{x:n,y:s}=$a(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:s!==void 0?s:null}}function uy(i,t){for(const e of i)if(e===t||e.contains(t))return!0}function LF(i,t,e){const n=i.canvas,s=new MutationObserver(r=>{let a=!1;for(const c of r)a=a||uy(c.addedNodes,n),a=a&&!uy(c.removedNodes,n);a&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function IF(i,t,e){const n=i.canvas,s=new MutationObserver(r=>{let a=!1;for(const c of r)a=a||uy(c.removedNodes,n),a=a&&!uy(c.addedNodes,n);a&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const uf=new Map;let N1=0;function _k(){const i=window.devicePixelRatio;i!==N1&&(N1=i,uf.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function DF(i,t){uf.size||window.addEventListener("resize",_k),uf.set(i,t)}function OF(i){uf.delete(i),uf.size||window.removeEventListener("resize",_k)}function FF(i,t,e){const n=i.canvas,s=n&&Tx(n);if(!s)return;const r=ik((c,u)=>{const h=s.clientWidth;e(c,u),h<s.clientWidth&&e()},window),a=new ResizeObserver(c=>{const u=c[0],h=u.contentRect.width,p=u.contentRect.height;h===0&&p===0||r(h,p)});return a.observe(s),DF(i,r),a}function ob(i,t,e){e&&e.disconnect(),t==="resize"&&OF(i)}function NF(i,t,e){const n=i.canvas,s=ik(r=>{i.ctx!==null&&e(MF(r,i))},i);return PF(n,t,s),s}class jF extends wk{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(TF(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[xm])return!1;const n=e[xm].initial;["height","width"].forEach(r=>{const a=n[r];ui(a)?e.removeAttribute(r):e.setAttribute(r,a)});const s=n.style||{};return Object.keys(s).forEach(r=>{e.style[r]=s[r]}),e.width=e.width,delete e[xm],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),a={attach:LF,detach:IF,resize:FF}[e]||NF;s[e]=a(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),s=n[e];if(!s)return;({attach:ob,detach:ob,resize:ob}[e]||RF)(t,e,s),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,s){return qO(t,e,n,s)}isAttached(t){const e=t&&Tx(t);return!!(e&&e.isConnected)}}function zF(i){return!kx()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?CF:jF}class rc{constructor(){lt(this,"x");lt(this,"y");lt(this,"active",!1);lt(this,"options");lt(this,"$animations")}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return oy(this.x)&&oy(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const s={};return t.forEach(r=>{s[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),s}}lt(rc,"defaults",{}),lt(rc,"defaultRoutes");function HF(i,t){const e=i.options.ticks,n=BF(i),s=Math.min(e.maxTicksLimit||n,n),r=e.major.enabled?UF(t):[],a=r.length,c=r[0],u=r[a-1],h=[];if(a>s)return VF(t,h,r,a/s),h;const p=WF(r,t,s);if(a>0){let g,y;const b=a>1?Math.round((u-c)/(a-1)):null;for(lm(t,h,p,ui(b)?0:c-b,c),g=0,y=a-1;g<y;g++)lm(t,h,p,r[g],r[g+1]);return lm(t,h,p,u,ui(b)?t.length:u+b),h}return lm(t,h,p),h}function BF(i){const t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),s=i._maxLength/e;return Math.floor(Math.min(n,s))}function WF(i,t,e){const n=$F(i),s=t.length/e;if(!n)return Math.max(s,1);const r=rO(n);for(let a=0,c=r.length-1;a<c;a++){const u=r[a];if(u>s)return u}return Math.max(s,1)}function UF(i){const t=[];let e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function VF(i,t,e,n){let s=0,r=e[0],a;for(n=Math.ceil(n),a=0;a<i.length;a++)a===r&&(t.push(i[a]),s++,r=e[s*n])}function lm(i,t,e,n,s){const r=re(n,0),a=Math.min(re(s,i.length),i.length);let c=0,u,h,p;for(e=Math.ceil(e),s&&(u=s-n,e=u/Math.floor(u/e)),p=r;p<0;)c++,p=Math.round(r+c*e);for(h=Math.max(r,0);h<a;h++)h===p&&(t.push(i[h]),c++,p=Math.round(r+c*e))}function $F(i){const t=i.length;let e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}const GF=i=>i==="left"?"right":i==="right"?"left":i,j1=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,z1=(i,t)=>Math.min(t||i,i);function H1(i,t){const e=[],n=i.length/t,s=i.length;let r=0;for(;r<s;r+=n)e.push(i[Math.floor(r)]);return e}function XF(i,t,e){const n=i.ticks.length,s=Math.min(t,n-1),r=i._startPixel,a=i._endPixel,c=1e-6;let u=i.getPixelForTick(s),h;if(!(e&&(n===1?h=Math.max(u-r,a-u):t===0?h=(i.getPixelForTick(1)-u)/2:h=(u-i.getPixelForTick(s-1))/2,u+=s<t?h:-h,u<r-c||u>a+c)))return u}function qF(i,t){ie(i,e=>{const n=e.gc,s=n.length/2;let r;if(s>t){for(r=0;r<s;++r)delete e.data[n[r]];n.splice(0,s)}})}function bd(i){return i.drawTicks?i.tickLength:0}function B1(i,t){if(!i.display)return 0;const e=li(i.font,t),n=Es(i.padding);return(gn(i.text)?i.text.length:1)*e.lineHeight+n.height}function YF(i,t){return Sh(i,{scale:t,type:"scale"})}function KF(i,t,e){return Sh(i,{tick:e,index:t,type:"tick"})}function QF(i,t,e){let n=sk(i);return(e&&t!=="right"||!e&&t==="right")&&(n=GF(n)),n}function JF(i,t,e,n){const{top:s,left:r,bottom:a,right:c,chart:u}=i,{chartArea:h,scales:p}=u;let g=0,y,b,w;const x=a-s,A=c-r;if(i.isHorizontal()){if(b=yi(n,r,c),Kt(e)){const S=Object.keys(e)[0],P=e[S];w=p[S].getPixelForValue(P)+x-t}else e==="center"?w=(h.bottom+h.top)/2+x-t:w=j1(i,e,t);y=c-r}else{if(Kt(e)){const S=Object.keys(e)[0],P=e[S];b=p[S].getPixelForValue(P)-A+t}else e==="center"?b=(h.left+h.right)/2-A+t:b=j1(i,e,t);w=yi(n,a,s),g=e==="left"?-Xe:Xe}return{titleX:b,titleY:w,maxWidth:y,rotation:g}}class By extends rc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:s}=this;return t=Ls(t,Number.POSITIVE_INFINITY),e=Ls(e,Number.NEGATIVE_INFINITY),n=Ls(n,Number.POSITIVE_INFINITY),s=Ls(s,Number.NEGATIVE_INFINITY),{min:Ls(t,n),max:Ls(e,s),minDefined:so(t),maxDefined:so(e)}}getMinMax(t){let{min:e,max:n,minDefined:s,maxDefined:r}=this.getUserBounds(),a;if(s&&r)return{min:e,max:n};const c=this.getMatchingVisibleMetas();for(let u=0,h=c.length;u<h;++u)a=c[u].controller.getMinMax(this,t),s||(e=Math.min(e,a.min)),r||(n=Math.max(n,a.max));return e=r&&e>n?n:e,n=s&&e>n?e:n,{min:Ls(e,Ls(n,e)),max:Ls(n,Ls(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pe(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:s,grace:r,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=IO(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?H1(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=HF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pe(this.options.afterUpdate,[this])}beforeSetDimensions(){pe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),pe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,s,r;for(n=0,s=t.length;n<s;n++)r=t[n],r.label=pe(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){pe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=z1(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,r=e.maxRotation;let a=s,c,u,h;if(!this._isVisible()||!e.display||s>=r||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),g=p.widest.width,y=p.highest.height,b=Xi(this.chart.width-g,0,this.maxWidth);c=t.offset?this.maxWidth/n:b/(n-1),g+6>c&&(c=b/(n-(t.offset?.5:1)),u=this.maxHeight-bd(t.grid)-e.padding-B1(t.title,this.chart.options.font),h=Math.sqrt(g*g+y*y),a=oO(Math.min(Math.asin(Xi((p.highest.height+6)/c,-1,1)),Math.asin(Xi(u/h,-1,1))-Math.asin(Xi(y/h,-1,1)))),a=Math.max(s,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){pe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:s,grid:r}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const u=B1(s,e.options.font);if(c?(t.width=this.maxWidth,t.height=bd(r)+u):(t.height=this.maxHeight,t.width=bd(r)+u),n.display&&this.ticks.length){const{first:h,last:p,widest:g,highest:y}=this._getLabelSizes(),b=n.padding*2,w=Ja(this.labelRotation),x=Math.cos(w),A=Math.sin(w);if(c){const S=n.mirror?0:A*g.width+x*y.height;t.height=Math.min(this.maxHeight,t.height+S+b)}else{const S=n.mirror?0:x*g.width+A*y.height;t.width=Math.min(this.maxWidth,t.width+S+b)}this._calculatePadding(h,p,A,x)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,s){const{ticks:{align:r,padding:a},position:c}=this.options,u=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,b=0;u?h?(y=s*t.width,b=n*e.height):(y=n*t.height,b=s*e.width):r==="start"?b=e.width:r==="end"?y=t.width:r!=="inner"&&(y=t.width/2,b=e.width/2),this.paddingLeft=Math.max((y-p+a)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-g+a)*this.width/(this.width-g),0)}else{let p=e.height/2,g=t.height/2;r==="start"?(p=0,g=t.height):r==="end"&&(p=e.height,g=0),this.paddingTop=p+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)ui(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=H1(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:s,_longestTextCache:r}=this,a=[],c=[],u=Math.floor(e/z1(e,n));let h=0,p=0,g,y,b,w,x,A,S,P,R,M,I;for(g=0;g<e;g+=u){if(w=t[g].label,x=this._resolveTickFontOptions(g),s.font=A=x.string,S=r[A]=r[A]||{data:{},gc:[]},P=x.lineHeight,R=M=0,!ui(w)&&!gn(w))R=b1(s,S.data,S.gc,R,w),M=P;else if(gn(w))for(y=0,b=w.length;y<b;++y)I=w[y],!ui(I)&&!gn(I)&&(R=b1(s,S.data,S.gc,R,I),M+=P);a.push(R),c.push(M),h=Math.max(R,h),p=Math.max(M,p)}qF(r,e);const F=a.indexOf(h),j=c.indexOf(p),N=W=>({width:a[W]||0,height:c[W]||0});return{first:N(0),last:N(e-1),widest:N(F),highest:N(j),widths:a,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return lO(this._alignToPixels?Wa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=KF(this.getContext(),t,n))}return this.$context||(this.$context=YF(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ja(this.labelRotation),n=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),r=this._getLabelSizes(),a=t.autoSkipPadding||0,c=r?r.widest.width+a:0,u=r?r.highest.height+a:0;return this.isHorizontal()?u*n>c*s?c/n:u/s:u*s<c*n?u/n:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,s=this.options,{grid:r,position:a,border:c}=s,u=r.offset,h=this.isHorizontal(),g=this.ticks.length+(u?1:0),y=bd(r),b=[],w=c.setContext(this.getContext()),x=w.display?w.width:0,A=x/2,S=function(J){return Wa(n,J,x)};let P,R,M,I,F,j,N,W,$,G,K,rt;if(a==="top")P=S(this.bottom),j=this.bottom-y,W=P-A,G=S(t.top)+A,rt=t.bottom;else if(a==="bottom")P=S(this.top),G=t.top,rt=S(t.bottom)-A,j=P+A,W=this.top+y;else if(a==="left")P=S(this.right),F=this.right-y,N=P-A,$=S(t.left)+A,K=t.right;else if(a==="right")P=S(this.left),$=t.left,K=S(t.right)-A,F=P+A,N=this.left+y;else if(e==="x"){if(a==="center")P=S((t.top+t.bottom)/2+.5);else if(Kt(a)){const J=Object.keys(a)[0],Q=a[J];P=S(this.chart.scales[J].getPixelForValue(Q))}G=t.top,rt=t.bottom,j=P+A,W=j+y}else if(e==="y"){if(a==="center")P=S((t.left+t.right)/2);else if(Kt(a)){const J=Object.keys(a)[0],Q=a[J];P=S(this.chart.scales[J].getPixelForValue(Q))}F=P-A,N=F-y,$=t.left,K=t.right}const ot=re(s.ticks.maxTicksLimit,g),nt=Math.max(1,Math.ceil(g/ot));for(R=0;R<g;R+=nt){const J=this.getContext(R),Q=r.setContext(J),X=c.setContext(J),et=Q.lineWidth,it=Q.color,z=X.dash||[],Y=X.dashOffset,ut=Q.tickWidth,ft=Q.tickColor,At=Q.tickBorderDash||[],mt=Q.tickBorderDashOffset;M=XF(this,R,u),M!==void 0&&(I=Wa(n,M,et),h?F=N=$=K=I:j=W=G=rt=I,b.push({tx1:F,ty1:j,tx2:N,ty2:W,x1:$,y1:G,x2:K,y2:rt,width:et,color:it,borderDash:z,borderDashOffset:Y,tickWidth:ut,tickColor:ft,tickBorderDash:At,tickBorderDashOffset:mt}))}return this._ticksLength=g,this._borderValue=P,b}_computeLabelItems(t){const e=this.axis,n=this.options,{position:s,ticks:r}=n,a=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:h,padding:p,mirror:g}=r,y=bd(n.grid),b=y+p,w=g?-p:b,x=-Ja(this.labelRotation),A=[];let S,P,R,M,I,F,j,N,W,$,G,K,rt="middle";if(s==="top")F=this.bottom-w,j=this._getXAxisLabelAlignment();else if(s==="bottom")F=this.top+w,j=this._getXAxisLabelAlignment();else if(s==="left"){const nt=this._getYAxisLabelAlignment(y);j=nt.textAlign,I=nt.x}else if(s==="right"){const nt=this._getYAxisLabelAlignment(y);j=nt.textAlign,I=nt.x}else if(e==="x"){if(s==="center")F=(t.top+t.bottom)/2+b;else if(Kt(s)){const nt=Object.keys(s)[0],J=s[nt];F=this.chart.scales[nt].getPixelForValue(J)+b}j=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")I=(t.left+t.right)/2-b;else if(Kt(s)){const nt=Object.keys(s)[0],J=s[nt];I=this.chart.scales[nt].getPixelForValue(J)}j=this._getYAxisLabelAlignment(y).textAlign}e==="y"&&(u==="start"?rt="top":u==="end"&&(rt="bottom"));const ot=this._getLabelSizes();for(S=0,P=c.length;S<P;++S){R=c[S],M=R.label;const nt=r.setContext(this.getContext(S));N=this.getPixelForTick(S)+r.labelOffset,W=this._resolveTickFontOptions(S),$=W.lineHeight,G=gn(M)?M.length:1;const J=G/2,Q=nt.color,X=nt.textStrokeColor,et=nt.textStrokeWidth;let it=j;a?(I=N,j==="inner"&&(S===P-1?it=this.options.reverse?"left":"right":S===0?it=this.options.reverse?"right":"left":it="center"),s==="top"?h==="near"||x!==0?K=-G*$+$/2:h==="center"?K=-ot.highest.height/2-J*$+$:K=-ot.highest.height+$/2:h==="near"||x!==0?K=$/2:h==="center"?K=ot.highest.height/2-J*$:K=ot.highest.height-G*$,g&&(K*=-1),x!==0&&!nt.showLabelBackdrop&&(I+=$/2*Math.sin(x))):(F=N,K=(1-G)*$/2);let z;if(nt.showLabelBackdrop){const Y=Es(nt.backdropPadding),ut=ot.heights[S],ft=ot.widths[S];let At=K-Y.top,mt=0-Y.left;switch(rt){case"middle":At-=ut/2;break;case"bottom":At-=ut;break}switch(j){case"center":mt-=ft/2;break;case"right":mt-=ft;break;case"inner":S===P-1?mt-=ft:S>0&&(mt-=ft/2);break}z={left:mt,top:At,width:ft+Y.width,height:ut+Y.height,color:nt.backdropColor}}A.push({label:M,font:W,textOffset:K,options:{rotation:x,color:Q,strokeColor:X,strokeWidth:et,textAlign:it,textBaseline:rt,translation:[I,F],backdrop:z}})}return A}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ja(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:s,padding:r}}=this.options,a=this._getLabelSizes(),c=t+r,u=a.widest.width;let h,p;return e==="left"?s?(p=this.right+r,n==="near"?h="left":n==="center"?(h="center",p+=u/2):(h="right",p+=u)):(p=this.right-c,n==="near"?h="right":n==="center"?(h="center",p-=u/2):(h="left",p=this.left)):e==="right"?s?(p=this.left+r,n==="near"?h="right":n==="center"?(h="center",p-=u/2):(h="left",p-=u)):(p=this.left+c,n==="near"?h="left":n==="center"?(h="center",p+=u/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:s,width:r,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,s,r,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,a;const c=(u,h,p)=>{!p.width||!p.color||(n.save(),n.lineWidth=p.width,n.strokeStyle=p.color,n.setLineDash(p.borderDash||[]),n.lineDashOffset=p.borderDashOffset,n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(h.x,h.y),n.stroke(),n.restore())};if(e.display)for(r=0,a=s.length;r<a;++r){const u=s[r];e.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),e.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:s}}=this,r=n.setContext(this.getContext()),a=n.display?r.width:0;if(!a)return;const c=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,p,g,y;this.isHorizontal()?(h=Wa(t,this.left,a)-a/2,p=Wa(t,this.right,c)+c/2,g=y=u):(g=Wa(t,this.top,a)-a/2,y=Wa(t,this.bottom,c)+c/2,h=p=u),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(h,g),e.lineTo(p,y),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&xx(n,s);const r=this.getLabelItems(t);for(const a of r){const c=a.options,u=a.font,h=a.label,p=a.textOffset;ly(n,h,0,p,u,c)}s&&_x(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:s}}=this;if(!n.display)return;const r=li(n.font),a=Es(n.padding),c=n.align;let u=r.lineHeight/2;e==="bottom"||e==="center"||Kt(e)?(u+=a.bottom,gn(n.text)&&(u+=r.lineHeight*(n.text.length-1))):u+=a.top;const{titleX:h,titleY:p,maxWidth:g,rotation:y}=JF(this,u,e,c);ly(t,n.text,0,0,r,{color:n.color,maxWidth:g,rotation:y,textAlign:QF(c,e,s),textBaseline:"middle",translation:[h,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=re(t.grid&&t.grid.z,-1),s=re(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==By.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let r,a;for(r=0,a=e.length;r<a;++r){const c=e[r];c[n]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return li(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class cm{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;e2(e)&&(n=this.register(e));const s=this.items,r=t.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,ZF(t,a,n),this.override&&Le.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,s=this.scope;n in e&&delete e[n],s&&n in Le[s]&&(delete Le[s][n],this.override&&delete sc[n])}}function ZF(i,t,e){const n=lf(Object.create(null),[e?Le.get(e):{},Le.get(t),i.defaults]);Le.set(t,n),i.defaultRoutes&&t2(t,i.defaultRoutes),i.descriptors&&Le.describe(t,i.descriptors)}function t2(i,t){Object.keys(t).forEach(e=>{const n=e.split("."),s=n.pop(),r=[i].concat(n).join("."),a=t[e].split("."),c=a.pop(),u=a.join(".");Le.route(r,s,u,c)})}function e2(i){return"id"in i&&"defaults"in i}class n2{constructor(){this.controllers=new cm(Jd,"datasets",!0),this.elements=new cm(rc,"elements"),this.plugins=new cm(Object,"plugins"),this.scales=new cm(By,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(s=>{const r=n||this._getRegistryForType(s);n||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):ie(s,a=>{const c=n||this._getRegistryForType(a);this._exec(t,c,a)})})}_exec(t,e,n){const s=bx(t);pe(n["before"+s],[],n),e[t](n),pe(n["after"+s],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return s}}var Os=new n2;class i2{constructor(){this._init=[]}notify(t,e,n,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(r,t,e,n);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,n,s){s=s||{};for(const r of t){const a=r.plugin,c=a[n],u=[e,s,r.options];if(pe(c,u,a)===!1&&s.cancelable)return!1}return!0}invalidate(){ui(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,s=re(n.options&&n.options.plugins,{}),r=s2(n);return s===!1&&!e?[]:o2(t,r,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,s=(r,a)=>r.filter(c=>!a.some(u=>c.plugin.id===u.plugin.id));this._notify(s(e,n),t,"stop"),this._notify(s(n,e),t,"start")}}function s2(i){const t={},e=[],n=Object.keys(Os.plugins.items);for(let r=0;r<n.length;r++)e.push(Os.getPlugin(n[r]));const s=i.plugins||[];for(let r=0;r<s.length;r++){const a=s[r];e.indexOf(a)===-1&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}function r2(i,t){return!t&&i===!1?null:i===!0?{}:i}function o2(i,{plugins:t,localIds:e},n,s){const r=[],a=i.getContext();for(const c of t){const u=c.id,h=r2(n[u],s);h!==null&&r.push({plugin:c,options:a2(i.config,{plugin:c,local:e[u]},h,a)})}return r}function a2(i,{plugin:t,local:e},n,s){const r=i.pluginScopeKeys(t),a=i.getOptionScopes(n,r);return e&&t.defaults&&a.push(t.defaults),i.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Fb(i,t){const e=Le.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function l2(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function c2(i,t){return i===t?"_index_":"_value_"}function W1(i){if(i==="x"||i==="y"||i==="r")return i}function u2(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Nb(i,...t){if(W1(i))return i;for(const e of t){const n=e.axis||u2(e.position)||i.length>1&&W1(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function U1(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function h2(i,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return U1(i,"x",e[0])||U1(i,"y",e[0])}return{}}function d2(i,t){const e=sc[i.type]||{scales:{}},n=t.scales||{},s=Fb(i.type,t),r=Object.create(null);return Object.keys(n).forEach(a=>{const c=n[a];if(!Kt(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=Nb(a,c,h2(a,i),Le.scales[c.type]),h=c2(u,s),p=e.scales||{};r[a]=qd(Object.create(null),[{axis:u},c,p[u],p[h]])}),i.data.datasets.forEach(a=>{const c=a.type||i.type,u=a.indexAxis||Fb(c,t),p=(sc[c]||{}).scales||{};Object.keys(p).forEach(g=>{const y=l2(g,u),b=a[y+"AxisID"]||y;r[b]=r[b]||Object.create(null),qd(r[b],[{axis:y},n[b],p[g]])})}),Object.keys(r).forEach(a=>{const c=r[a];qd(c,[Le.scales[c.type],Le.scale])}),r}function Sk(i){const t=i.options||(i.options={});t.plugins=re(t.plugins,{}),t.scales=d2(i,t)}function Ak(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function f2(i){return i=i||{},i.data=Ak(i.data),Sk(i),i}const V1=new Map,Ek=new Set;function um(i,t){let e=V1.get(i);return e||(e=t(),V1.set(i,e),Ek.add(e)),e}const wd=(i,t,e)=>{const n=cf(t,e);n!==void 0&&i.add(n)};class p2{constructor(t){this._config=f2(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Ak(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Sk(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return um(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return um(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return um(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return um(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let s=n.get(t);return(!s||e)&&(s=new Map,n.set(t,s)),s}getOptionScopes(t,e,n){const{options:s,type:r}=this,a=this._cachedScopes(t,n),c=a.get(e);if(c)return c;const u=new Set;e.forEach(p=>{t&&(u.add(t),p.forEach(g=>wd(u,t,g))),p.forEach(g=>wd(u,s,g)),p.forEach(g=>wd(u,sc[r]||{},g)),p.forEach(g=>wd(u,Le,g)),p.forEach(g=>wd(u,Db,g))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),Ek.has(e)&&a.set(e,h),h}chartOptionScopes(){const{options:t,type:e}=this;return[t,sc[e]||{},Le.datasets[e]||{},{type:e},Le,Db]}resolveNamedOptions(t,e,n,s=[""]){const r={$shared:!0},{resolver:a,subPrefixes:c}=$1(this._resolverCache,t,s);let u=a;if(m2(a,e)){r.$shared=!1,n=va(n)?n():n;const h=this.createResolver(t,n,c);u=yh(a,n,h)}for(const h of e)r[h]=u[h];return r}createResolver(t,e,n=[""],s){const{resolver:r}=$1(this._resolverCache,t,n);return Kt(e)?yh(r,e,void 0,s):r}}function $1(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));const s=e.join();let r=n.get(s);return r||(r={resolver:Ax(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},n.set(s,r)),r}const g2=i=>Kt(i)&&Object.getOwnPropertyNames(i).some(t=>va(i[t]));function m2(i,t){const{isScriptable:e,isIndexable:n}=uk(i);for(const s of t){const r=e(s),a=n(s),c=(a||r)&&i[s];if(r&&(va(c)||g2(c))||a&&gn(c))return!0}return!1}var y2="4.4.7";const v2=["top","bottom","left","right","chartArea"];function G1(i,t){return i==="top"||i==="bottom"||v2.indexOf(i)===-1&&t==="x"}function X1(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function q1(i){const t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),pe(e&&e.onComplete,[i],t)}function b2(i){const t=i.chart,e=t.options.animation;pe(e&&e.onProgress,[i],t)}function Ck(i){return kx()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const _m={},Y1=i=>{const t=Ck(i);return Object.values(_m).filter(e=>e.canvas===t).pop()};function w2(i,t,e){const n=Object.keys(i);for(const s of n){const r=+s;if(r>=t){const a=i[s];delete i[s],(e>0||r>t)&&(i[r+e]=a)}}}function x2(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}function hm(i,t,e){return i.options.clip?i[e]:t[e]}function _2(i,t){const{xScale:e,yScale:n}=i;return e&&n?{left:hm(e,t,"left"),right:hm(e,t,"right"),top:hm(n,t,"top"),bottom:hm(n,t,"bottom")}:t}var Ro;let Wy=(Ro=class{static register(...t){Os.add(...t),K1()}static unregister(...t){Os.remove(...t),K1()}constructor(t,e){const n=this.config=new p2(e),s=Ck(t),r=Y1(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||zF(s)),this.platform.updateConfig(n);const c=this.platform.acquireContext(s,a.aspectRatio),u=c&&c.canvas,h=u&&u.height,p=u&&u.width;if(this.id=QD(),this.ctx=c,this.canvas=u,this.width=p,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new i2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=fO(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],_m[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Ar.listen(this,"complete",q1),Ar.listen(this,"progress",b2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:s,_aspectRatio:r}=this;return ui(t)?e&&r?r:s?n/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Os}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():A1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return w1(this.canvas,this.ctx),this}stop(){return Ar.stop(this),this}resize(t,e){Ar.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,s=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,e,r),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,A1(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),pe(n.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ie(e,(n,s)=>{n.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,s=Object.keys(n).reduce((a,c)=>(a[c]=!1,a),{});let r=[];e&&(r=r.concat(Object.keys(e).map(a=>{const c=e[a],u=Nb(a,c),h=u==="r",p=u==="x";return{options:c,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),ie(r,a=>{const c=a.options,u=c.id,h=Nb(u,c),p=re(c.type,a.dtype);(c.position===void 0||G1(c.position,h)!==G1(a.dposition))&&(c.position=a.dposition),s[u]=!0;let g=null;if(u in n&&n[u].type===p)g=n[u];else{const y=Os.getScale(p);g=new y({id:u,type:p,ctx:this.ctx,chart:this}),n[g.id]=g}g.init(c,t)}),ie(s,(a,c)=>{a||delete n[c]}),ie(n,a=>{ma.configure(this,a,a.options),ma.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((s,r)=>s.index-r.index),n>e){for(let s=e;s<n;++s)this._destroyDatasetMeta(s);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(X1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((n,s)=>{e.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=e.length;n<s;n++){const r=e[n];let a=this.getDatasetMeta(n);const c=r.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=c,a.indexAxis=r.indexAxis||Fb(c,this.options),a.order=r.order||0,a.index=n,a.label=""+r.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const u=Os.getController(c),{datasetElementType:h,dataElementType:p}=Le.datasets[c];Object.assign(u,{dataElementType:Os.getElement(p),datasetElementType:h&&Os.getElement(h)}),a.controller=new u(this,n),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){ie(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:g}=this.getDatasetMeta(h),y=!s&&r.indexOf(g)===-1;g.buildOrUpdateElements(y),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),s||ie(r,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(X1("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){ie(this.scales,t=>{ma.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!u1(e,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:r}of e){const a=n==="_removeElements"?-r:r;w2(t,s,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=r=>new Set(t.filter(a=>a[0]===r).map((a,c)=>c+","+a.splice(1).join(","))),s=n(0);for(let r=1;r<e;r++)if(!u1(s,n(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ma.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],ie(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,va(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),s={meta:n,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ar.has(this)?this.attached&&!Ar.running(this)&&Ar.start(this):(this.draw(),q1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let s,r;for(s=0,r=e.length;s<r;++s){const a=e[s];(!t||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,s=!n.disabled,r=_2(t,this.chartArea),a={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&xx(e,{left:n.left===!1?0:r.left-n.left,right:n.right===!1?this.width:r.right+n.right,top:n.top===!1?0:r.top-n.top,bottom:n.bottom===!1?this.height:r.bottom+n.bottom}),t.controller.draw(),s&&_x(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return ck(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,s){const r=vF.modes[e];return typeof r=="function"?r(this,t,n,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let s=n.filter(r=>r&&r._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=Sh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const s=n?"show":"hide",r=this.getDatasetMeta(t),a=r.controller._resolveAnimations(void 0,s);sy(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),a.update(r,{visible:n}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ar.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),w1(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete _m[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(r,a)=>{e.addEventListener(this,r,a),t[r]=a},s=(r,a,c)=>{r.offsetX=a,r.offsetY=c,this._eventHandler(r)};ie(this.options.events,r=>n(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(u,h)=>{e.addEventListener(this,u,h),t[u]=h},s=(u,h)=>{t[u]&&(e.removeEventListener(this,u,h),delete t[u])},r=(u,h)=>{this.canvas&&this.resize(u,h)};let a;const c=()=>{s("attach",c),this.attached=!0,this.resize(),n("resize",r),n("detach",a)};a=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),n("attach",c)},e.isAttached(this.canvas)?c():a()}unbindEvents(){ie(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ie(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const s=n?"set":"remove";let r,a,c,u;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),c=0,u=t.length;c<u;++c){a=t[c];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(({datasetIndex:r,index:a})=>{const c=this.getDatasetMeta(r);if(!c)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:c.data[a],index:a}});!ny(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,n){const s=this.options.hover,r=(u,h)=>u.filter(p=>!h.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),a=r(e,t),c=n?t:r(t,e);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:s=[],options:r}=this,a=e,c=this._getActiveElements(t,s,n,a),u=iO(t),h=x2(t,this._lastEvent,n,u);n&&(this._lastEvent=null,pe(r.onHover,[t,c,this],this),u&&pe(r.onClick,[t,c,this],this));const p=!ny(c,s);return(p||e)&&(this._active=c,this._updateHoverStyles(c,s,e)),this._lastEvent=h,p}_getActiveElements(t,e,n,s){if(t.type==="mouseout")return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}},lt(Ro,"defaults",Le),lt(Ro,"instances",_m),lt(Ro,"overrides",sc),lt(Ro,"registry",Os),lt(Ro,"version",y2),lt(Ro,"getChart",Y1),Ro);function K1(){return ie(Wy.instances,i=>i._plugins.invalidate())}function S2(i,t,e){const{startAngle:n,pixelMargin:s,x:r,y:a,outerRadius:c,innerRadius:u}=t;let h=s/c;i.beginPath(),i.arc(r,a,c,n-h,e+h),u>s?(h=s/u,i.arc(r,a,u,e+h,n-h,!0)):i.arc(r,a,s,e+Xe,n-Xe),i.closePath(),i.clip()}function A2(i){return Sx(i,["outerStart","outerEnd","innerStart","innerEnd"])}function E2(i,t,e,n){const s=A2(i.options.borderRadius),r=(e-t)/2,a=Math.min(r,n*t/2),c=u=>{const h=(e-Math.min(r,u))*n/2;return Xi(u,0,Math.min(r,h))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Xi(s.innerStart,0,a),innerEnd:Xi(s.innerEnd,0,a)}}function Uc(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function hy(i,t,e,n,s,r){const{x:a,y:c,startAngle:u,pixelMargin:h,innerRadius:p}=t,g=Math.max(t.outerRadius+n+e-h,0),y=p>0?p+n+e+h:0;let b=0;const w=s-u;if(n){const nt=p>0?p-n:0,J=g>0?g-n:0,Q=(nt+J)/2,X=Q!==0?w*Q/(Q+n):w;b=(w-X)/2}const x=Math.max(.001,w*g-e/on)/g,A=(w-x)/2,S=u+A+b,P=s-A-b,{outerStart:R,outerEnd:M,innerStart:I,innerEnd:F}=E2(t,y,g,P-S),j=g-R,N=g-M,W=S+R/j,$=P-M/N,G=y+I,K=y+F,rt=S+I/G,ot=P-F/K;if(i.beginPath(),r){const nt=(W+$)/2;if(i.arc(a,c,g,W,nt),i.arc(a,c,g,nt,$),M>0){const et=Uc(N,$,a,c);i.arc(et.x,et.y,M,$,P+Xe)}const J=Uc(K,P,a,c);if(i.lineTo(J.x,J.y),F>0){const et=Uc(K,ot,a,c);i.arc(et.x,et.y,F,P+Xe,ot+Math.PI)}const Q=(P-F/y+(S+I/y))/2;if(i.arc(a,c,y,P-F/y,Q,!0),i.arc(a,c,y,Q,S+I/y,!0),I>0){const et=Uc(G,rt,a,c);i.arc(et.x,et.y,I,rt+Math.PI,S-Xe)}const X=Uc(j,S,a,c);if(i.lineTo(X.x,X.y),R>0){const et=Uc(j,W,a,c);i.arc(et.x,et.y,R,S-Xe,W)}}else{i.moveTo(a,c);const nt=Math.cos(W)*g+a,J=Math.sin(W)*g+c;i.lineTo(nt,J);const Q=Math.cos($)*g+a,X=Math.sin($)*g+c;i.lineTo(Q,X)}i.closePath()}function C2(i,t,e,n,s){const{fullCircles:r,startAngle:a,circumference:c}=t;let u=t.endAngle;if(r){hy(i,t,e,n,u,s);for(let h=0;h<r;++h)i.fill();isNaN(c)||(u=a+(c%je||je))}return hy(i,t,e,n,u,s),i.fill(),u}function k2(i,t,e,n,s){const{fullCircles:r,startAngle:a,circumference:c,options:u}=t,{borderWidth:h,borderJoinStyle:p,borderDash:g,borderDashOffset:y}=u,b=u.borderAlign==="inner";if(!h)return;i.setLineDash(g||[]),i.lineDashOffset=y,b?(i.lineWidth=h*2,i.lineJoin=p||"round"):(i.lineWidth=h,i.lineJoin=p||"bevel");let w=t.endAngle;if(r){hy(i,t,e,n,w,s);for(let x=0;x<r;++x)i.stroke();isNaN(c)||(w=a+(c%je||je))}b&&S2(i,t,w),r||(hy(i,t,e,n,w,s),i.stroke())}class Pd extends rc{constructor(e){super();lt(this,"circumference");lt(this,"endAngle");lt(this,"fullCircles");lt(this,"innerRadius");lt(this,"outerRadius");lt(this,"pixelMargin");lt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,s){const r=this.getProps(["x","y"],s),{angle:a,distance:c}=tk(r,{x:e,y:n}),{startAngle:u,endAngle:h,innerRadius:p,outerRadius:g,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),b=(this.options.spacing+this.options.borderWidth)/2,w=re(y,h-u),x=ay(a,u,h)&&u!==h,A=w>=je||x,S=Cd(c,p+b,g+b);return A&&S}getCenterPoint(e){const{x:n,y:s,startAngle:r,endAngle:a,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:p}=this.options,g=(r+a)/2,y=(c+u+p+h)/2;return{x:n+Math.cos(g)*y,y:s+Math.sin(g)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:s}=this,r=(n.offset||0)/4,a=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>je?Math.floor(s/je):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*r,Math.sin(u)*r);const h=1-Math.sin(Math.min(on,s||0)),p=r*h;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,C2(e,this,p,a,c),k2(e,this,p,a,c),e.restore()}}lt(Pd,"id","arc"),lt(Pd,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),lt(Pd,"defaultRoutes",{backgroundColor:"backgroundColor"}),lt(Pd,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});const Q1=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},T2=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class J1 extends rc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=pe(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,s)=>t.sort(n,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,s=li(n.font),r=s.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=Q1(n,r);let h,p;e.font=s.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(a,r,c,u)+10):(p=this.maxHeight,h=this._fitCols(a,s,c,u)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,s){const{ctx:r,maxWidth:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],p=s+c;let g=t;r.textAlign="left",r.textBaseline="middle";let y=-1,b=-p;return this.legendItems.forEach((w,x)=>{const A=n+e/2+r.measureText(w.text).width;(x===0||h[h.length-1]+A+2*c>a)&&(g+=p,h[h.length-(x>0?0:1)]=0,b+=p,y++),u[x]={left:0,top:b,row:y,width:A,height:s},h[h.length-1]+=A+c}),g}_fitCols(t,e,n,s){const{ctx:r,maxHeight:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],p=a-t;let g=c,y=0,b=0,w=0,x=0;return this.legendItems.forEach((A,S)=>{const{itemWidth:P,itemHeight:R}=P2(n,e,r,A,s);S>0&&b+R+2*c>p&&(g+=y+c,h.push({width:y,height:b}),w+=y+c,x++,y=b=0),u[S]={left:w,top:b,col:x,width:P,height:R},y=Math.max(y,P),b+=R+c}),g+=y,h.push({width:y,height:b}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:s},rtl:r}}=this,a=eu(r,this.left,this.width);if(this.isHorizontal()){let c=0,u=yi(n,this.left+s,this.right-this.lineWidths[c]);for(const h of e)c!==h.row&&(c=h.row,u=yi(n,this.left+s,this.right-this.lineWidths[c])),h.top+=this.top+t+s,h.left=a.leftForLtr(a.x(u),h.width),u+=h.width+s}else{let c=0,u=yi(n,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const h of e)h.col!==c&&(c=h.col,u=yi(n,this.top+t+s,this.bottom-this.columnSizes[c].height)),h.top=u,h.left+=this.left+s,h.left=a.leftForLtr(a.x(h.left),h.width),u+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;xx(t,this),this._draw(),_x(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:s}=this,{align:r,labels:a}=t,c=Le.color,u=eu(t.rtl,this.left,this.width),h=li(a.font),{padding:p}=a,g=h.size,y=g/2;let b;this.drawTitle(),s.textAlign=u.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:w,boxHeight:x,itemHeight:A}=Q1(a,g),S=function(F,j,N){if(isNaN(w)||w<=0||isNaN(x)||x<0)return;s.save();const W=re(N.lineWidth,1);if(s.fillStyle=re(N.fillStyle,c),s.lineCap=re(N.lineCap,"butt"),s.lineDashOffset=re(N.lineDashOffset,0),s.lineJoin=re(N.lineJoin,"miter"),s.lineWidth=W,s.strokeStyle=re(N.strokeStyle,c),s.setLineDash(re(N.lineDash,[])),a.usePointStyle){const $={radius:x*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:W},G=u.xPlus(F,w/2),K=j+y;lk(s,$,G,K,a.pointStyleWidth&&w)}else{const $=j+Math.max((g-x)/2,0),G=u.leftForLtr(F,w),K=Qd(N.borderRadius);s.beginPath(),Object.values(K).some(rt=>rt!==0)?Ob(s,{x:G,y:$,w,h:x,radius:K}):s.rect(G,$,w,x),s.fill(),W!==0&&s.stroke()}s.restore()},P=function(F,j,N){ly(s,N.text,F,j+A/2,h,{strikethrough:N.hidden,textAlign:u.textAlign(N.textAlign)})},R=this.isHorizontal(),M=this._computeTitleHeight();R?b={x:yi(r,this.left+p,this.right-n[0]),y:this.top+p+M,line:0}:b={x:this.left+p,y:yi(r,this.top+M+p,this.bottom-e[0].height),line:0},pk(this.ctx,t.textDirection);const I=A+p;this.legendItems.forEach((F,j)=>{s.strokeStyle=F.fontColor,s.fillStyle=F.fontColor;const N=s.measureText(F.text).width,W=u.textAlign(F.textAlign||(F.textAlign=a.textAlign)),$=w+y+N;let G=b.x,K=b.y;u.setWidth(this.width),R?j>0&&G+$+p>this.right&&(K=b.y+=I,b.line++,G=b.x=yi(r,this.left+p,this.right-n[b.line])):j>0&&K+I>this.bottom&&(G=b.x=G+e[b.line].width+p,b.line++,K=b.y=yi(r,this.top+M+p,this.bottom-e[b.line].height));const rt=u.x(G);if(S(rt,K,F),G=pO(W,G+w+y,R?G+$:this.right,t.rtl),P(u.x(G),K,F),R)b.x+=$+p;else if(typeof F.text!="string"){const ot=h.lineHeight;b.y+=kk(F,ot)+p}else b.y+=I}),gk(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=li(e.font),s=Es(e.padding);if(!e.display)return;const r=eu(t.rtl,this.left,this.width),a=this.ctx,c=e.position,u=n.size/2,h=s.top+u;let p,g=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),p=this.top+h,g=yi(t.align,g,this.right-y);else{const w=this.columnSizes.reduce((x,A)=>Math.max(x,A.height),0);p=h+yi(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const b=yi(c,g,g+y);a.textAlign=r.textAlign(sk(c)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=n.string,ly(a,e.text,b,p,n)}_computeTitleHeight(){const t=this.options.title,e=li(t.font),n=Es(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,s,r;if(Cd(t,this.left,this.right)&&Cd(e,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(s=r[n],Cd(t,s.left,s.left+s.width)&&Cd(e,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(t){const e=this.options;if(!L2(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=T2(s,n);s&&!r&&pe(e.onLeave,[t,s,this],this),this._hoveredItem=n,n&&!r&&pe(e.onHover,[t,n,this],this)}else n&&pe(e.onClick,[t,n,this],this)}}function P2(i,t,e,n,s){const r=R2(n,i,t,e),a=M2(s,n,t.lineHeight);return{itemWidth:r,itemHeight:a}}function R2(i,t,e,n){let s=i.text;return s&&typeof s!="string"&&(s=s.reduce((r,a)=>r.length>a.length?r:a)),t+e.size/2+n.measureText(s).width}function M2(i,t,e){let n=i;return typeof t.text!="string"&&(n=kk(t,e)),n}function kk(i,t){const e=i.text?i.text.length:0;return t*e}function L2(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var I2={id:"legend",_element:J1,start(i,t,e){const n=i.legend=new J1({ctx:i.ctx,options:e,chart:i});ma.configure(i,n,e),ma.addBox(i,n)},stop(i){ma.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){const n=i.legend;ma.configure(i,n,e),n.options=e},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){const n=t.datasetIndex,s=e.chart;s.isDatasetVisible(n)?(s.hide(n),t.hidden=!0):(s.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:s,color:r,useBorderRadius:a,borderRadius:c}}=i.legend.options;return i._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(e?0:void 0),p=Es(h.borderWidth);return{text:t[u.index].label,fillStyle:h.backgroundColor,fontColor:r,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:a&&(c||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};const Rd={average(i){if(!i.length)return!1;let t,e,n=new Set,s=0,r=0;for(t=0,e=i.length;t<e;++t){const c=i[t].element;if(c&&c.hasValue()){const u=c.tooltipPosition();n.add(u.x),s+=u.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((c,u)=>c+u)/n.size,y:s/r}},nearest(i,t){if(!i.length)return!1;let e=t.x,n=t.y,s=Number.POSITIVE_INFINITY,r,a,c;for(r=0,a=i.length;r<a;++r){const u=i[r].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),p=aO(t,h);p<s&&(s=p,c=u)}}if(c){const u=c.tooltipPosition();e=u.x,n=u.y}return{x:e,y:n}}};function Ds(i,t){return t&&(gn(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Er(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function D2(i,t){const{element:e,datasetIndex:n,index:s}=t,r=i.getDatasetMeta(n).controller,{label:a,value:c}=r.getLabelAndValue(s);return{chart:i,label:a,parsed:r.getParsed(s),raw:i.data.datasets[n].data[s],formattedValue:c,dataset:r.getDataset(),dataIndex:s,datasetIndex:n,element:e}}function Z1(i,t){const e=i.chart.ctx,{body:n,footer:s,title:r}=i,{boxWidth:a,boxHeight:c}=t,u=li(t.bodyFont),h=li(t.titleFont),p=li(t.footerFont),g=r.length,y=s.length,b=n.length,w=Es(t.padding);let x=w.height,A=0,S=n.reduce((M,I)=>M+I.before.length+I.lines.length+I.after.length,0);if(S+=i.beforeBody.length+i.afterBody.length,g&&(x+=g*h.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),S){const M=t.displayColors?Math.max(c,u.lineHeight):u.lineHeight;x+=b*M+(S-b)*u.lineHeight+(S-1)*t.bodySpacing}y&&(x+=t.footerMarginTop+y*p.lineHeight+(y-1)*t.footerSpacing);let P=0;const R=function(M){A=Math.max(A,e.measureText(M).width+P)};return e.save(),e.font=h.string,ie(i.title,R),e.font=u.string,ie(i.beforeBody.concat(i.afterBody),R),P=t.displayColors?a+2+t.boxPadding:0,ie(n,M=>{ie(M.before,R),ie(M.lines,R),ie(M.after,R)}),P=0,e.font=p.string,ie(i.footer,R),e.restore(),A+=w.width,{width:A,height:x}}function O2(i,t){const{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}function F2(i,t,e,n){const{x:s,width:r}=n,a=e.caretSize+e.caretPadding;if(i==="left"&&s+r+a>t.width||i==="right"&&s-r-a<0)return!0}function N2(i,t,e,n){const{x:s,width:r}=e,{width:a,chartArea:{left:c,right:u}}=i;let h="center";return n==="center"?h=s<=(c+u)/2?"left":"right":s<=r/2?h="left":s>=a-r/2&&(h="right"),F2(h,i,t,e)&&(h="center"),h}function tE(i,t,e){const n=e.yAlign||t.yAlign||O2(i,e);return{xAlign:e.xAlign||t.xAlign||N2(i,t,e,n),yAlign:n}}function j2(i,t){let{x:e,width:n}=i;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function z2(i,t,e){let{y:n,height:s}=i;return t==="top"?n+=e:t==="bottom"?n-=s+e:n-=s/2,n}function eE(i,t,e,n){const{caretSize:s,caretPadding:r,cornerRadius:a}=i,{xAlign:c,yAlign:u}=e,h=s+r,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:b}=Qd(a);let w=j2(t,c);const x=z2(t,u,h);return u==="center"?c==="left"?w+=h:c==="right"&&(w-=h):c==="left"?w-=Math.max(p,y)+s:c==="right"&&(w+=Math.max(g,b)+s),{x:Xi(w,0,n.width-t.width),y:Xi(x,0,n.height-t.height)}}function dm(i,t,e){const n=Es(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-n.right:i.x+n.left}function nE(i){return Ds([],Er(i))}function H2(i,t,e){return Sh(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function iE(i,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}const Tk={beforeTitle:wr,title(i){if(i.length>0){const t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:wr,beforeBody:wr,beforeLabel:wr,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const e=i.formattedValue;return ui(e)||(t+=e),t},labelColor(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:wr,afterBody:wr,beforeFooter:wr,footer:wr,afterFooter:wr};function Jn(i,t,e,n){const s=i[t].call(e,n);return typeof s>"u"?Tk[t].call(e,n):s}class jb extends rc{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&e.options.animation&&n.animations,r=new mk(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=H2(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,s=Jn(n,"beforeTitle",this,t),r=Jn(n,"title",this,t),a=Jn(n,"afterTitle",this,t);let c=[];return c=Ds(c,Er(s)),c=Ds(c,Er(r)),c=Ds(c,Er(a)),c}getBeforeBody(t,e){return nE(Jn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,s=[];return ie(t,r=>{const a={before:[],lines:[],after:[]},c=iE(n,r);Ds(a.before,Er(Jn(c,"beforeLabel",this,r))),Ds(a.lines,Jn(c,"label",this,r)),Ds(a.after,Er(Jn(c,"afterLabel",this,r))),s.push(a)}),s}getAfterBody(t,e){return nE(Jn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,s=Jn(n,"beforeFooter",this,t),r=Jn(n,"footer",this,t),a=Jn(n,"afterFooter",this,t);let c=[];return c=Ds(c,Er(s)),c=Ds(c,Er(r)),c=Ds(c,Er(a)),c}_createItems(t){const e=this._active,n=this.chart.data,s=[],r=[],a=[];let c=[],u,h;for(u=0,h=e.length;u<h;++u)c.push(D2(this.chart,e[u]));return t.filter&&(c=c.filter((p,g,y)=>t.filter(p,g,y,n))),t.itemSort&&(c=c.sort((p,g)=>t.itemSort(p,g,n))),ie(c,p=>{const g=iE(t.callbacks,p);s.push(Jn(g,"labelColor",this,p)),r.push(Jn(g,"labelPointStyle",this,p)),a.push(Jn(g,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=c,c}update(t,e){const n=this.options.setContext(this.getContext()),s=this._active;let r,a=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const c=Rd[n.position].call(this,s,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const u=this._size=Z1(this,n),h=Object.assign({},c,u),p=tE(this.chart,n,h),g=eE(n,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,r={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,s){const r=this.getCaretPosition(t,n,s);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:s,yAlign:r}=this,{caretSize:a,cornerRadius:c}=n,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:g}=Qd(c),{x:y,y:b}=t,{width:w,height:x}=e;let A,S,P,R,M,I;return r==="center"?(M=b+x/2,s==="left"?(A=y,S=A-a,R=M+a,I=M-a):(A=y+w,S=A+a,R=M-a,I=M+a),P=A):(s==="left"?S=y+Math.max(u,p)+a:s==="right"?S=y+w-Math.max(h,g)-a:S=this.caretX,r==="top"?(R=b,M=R-a,A=S-a,P=S+a):(R=b+x,M=R+a,A=S+a,P=S-a),I=R),{x1:A,x2:S,x3:P,y1:R,y2:M,y3:I}}drawTitle(t,e,n){const s=this.title,r=s.length;let a,c,u;if(r){const h=eu(n.rtl,this.x,this.width);for(t.x=dm(this,n.titleAlign,n),e.textAlign=h.textAlign(n.titleAlign),e.textBaseline="middle",a=li(n.titleFont),c=n.titleSpacing,e.fillStyle=n.titleColor,e.font=a.string,u=0;u<r;++u)e.fillText(s[u],h.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+c,u+1===r&&(t.y+=n.titleMarginBottom-c)}}_drawColorBox(t,e,n,s,r){const a=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:u,boxWidth:h}=r,p=li(r.bodyFont),g=dm(this,"left",r),y=s.x(g),b=u<p.lineHeight?(p.lineHeight-u)/2:0,w=e.y+b;if(r.usePointStyle){const x={radius:Math.min(h,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},A=s.leftForLtr(y,h)+h/2,S=w+u/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,x1(t,x,A,S),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,x1(t,x,A,S)}else{t.lineWidth=Kt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const x=s.leftForLtr(y,h),A=s.leftForLtr(s.xPlus(y,1),h-2),S=Qd(a.borderRadius);Object.values(S).some(P=>P!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Ob(t,{x,y:w,w:h,h:u,radius:S}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Ob(t,{x:A,y:w+1,w:h-2,h:u-2,radius:S}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(x,w,h,u),t.strokeRect(x,w,h,u),t.fillStyle=a.backgroundColor,t.fillRect(A,w+1,h-2,u-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:s}=this,{bodySpacing:r,bodyAlign:a,displayColors:c,boxHeight:u,boxWidth:h,boxPadding:p}=n,g=li(n.bodyFont);let y=g.lineHeight,b=0;const w=eu(n.rtl,this.x,this.width),x=function(N){e.fillText(N,w.x(t.x+b),t.y+y/2),t.y+=y+r},A=w.textAlign(a);let S,P,R,M,I,F,j;for(e.textAlign=a,e.textBaseline="middle",e.font=g.string,t.x=dm(this,A,n),e.fillStyle=n.bodyColor,ie(this.beforeBody,x),b=c&&A!=="right"?a==="center"?h/2+p:h+2+p:0,M=0,F=s.length;M<F;++M){for(S=s[M],P=this.labelTextColors[M],e.fillStyle=P,ie(S.before,x),R=S.lines,c&&R.length&&(this._drawColorBox(e,t,M,w,n),y=Math.max(g.lineHeight,u)),I=0,j=R.length;I<j;++I)x(R[I]),y=g.lineHeight;ie(S.after,x)}b=0,y=g.lineHeight,ie(this.afterBody,x),t.y-=r}drawFooter(t,e,n){const s=this.footer,r=s.length;let a,c;if(r){const u=eu(n.rtl,this.x,this.width);for(t.x=dm(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=u.textAlign(n.footerAlign),e.textBaseline="middle",a=li(n.footerFont),e.fillStyle=n.footerColor,e.font=a.string,c=0;c<r;++c)e.fillText(s[c],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+n.footerSpacing}}drawBackground(t,e,n,s){const{xAlign:r,yAlign:a}=this,{x:c,y:u}=t,{width:h,height:p}=n,{topLeft:g,topRight:y,bottomLeft:b,bottomRight:w}=Qd(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(c+g,u),a==="top"&&this.drawCaret(t,e,n,s),e.lineTo(c+h-y,u),e.quadraticCurveTo(c+h,u,c+h,u+y),a==="center"&&r==="right"&&this.drawCaret(t,e,n,s),e.lineTo(c+h,u+p-w),e.quadraticCurveTo(c+h,u+p,c+h-w,u+p),a==="bottom"&&this.drawCaret(t,e,n,s),e.lineTo(c+b,u+p),e.quadraticCurveTo(c,u+p,c,u+p-b),a==="center"&&r==="left"&&this.drawCaret(t,e,n,s),e.lineTo(c,u+g),e.quadraticCurveTo(c,u,c+g,u),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,s=n&&n.x,r=n&&n.y;if(s||r){const a=Rd[t.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=Z1(this,t),u=Object.assign({},a,this._size),h=tE(e,t,u),p=eE(t,u,h,e);(s._to!==p.x||r._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Es(e.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&c&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,s,e),pk(t,e.textDirection),r.y+=a.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),gk(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,s=t.map(({datasetIndex:c,index:u})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[u],index:u}}),r=!ny(n,s),a=this._positionChanged(s,e);(r||a)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],a=this._getActiveElements(t,r,e,n),c=this._positionChanged(a,t),u=e||!ny(a,r)||c;return u&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),u}_getActiveElements(t,e,n,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&a.reverse(),a}_positionChanged(t,e){const{caretX:n,caretY:s,options:r}=this,a=Rd[r.position].call(this,t,e);return a!==!1&&(n!==a.x||s!==a.y)}}lt(jb,"positioners",Rd);var B2={id:"tooltip",_element:jb,positioners:Rd,afterInit(i,t,e){e&&(i.tooltip=new jb({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){const e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Tk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Uy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ai=Object.keys(Uy);function sE(i,t){return i-t}function rE(i,t){if(ui(t))return null;const e=i._adapter,{parser:n,round:s,isoWeekday:r}=i._parseOpts;let a=t;return typeof n=="function"&&(a=n(a)),so(a)||(a=typeof n=="string"?e.parse(a,n):e.parse(a)),a===null?null:(s&&(a=s==="week"&&(oy(r)||r===!0)?e.startOf(a,"isoWeek",r):e.startOf(a,s)),+a)}function oE(i,t,e,n){const s=ai.length;for(let r=ai.indexOf(i);r<s-1;++r){const a=Uy[ai[r]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(c*a.size))<=n)return ai[r]}return ai[s-1]}function W2(i,t,e,n,s){for(let r=ai.length-1;r>=ai.indexOf(e);r--){const a=ai[r];if(Uy[a].common&&i._adapter.diff(s,n,a)>=t-1)return a}return ai[e?ai.indexOf(e):0]}function U2(i){for(let t=ai.indexOf(i)+1,e=ai.length;t<e;++t)if(Uy[ai[t]].common)return ai[t]}function aE(i,t,e){if(!e)i[t]=!0;else if(e.length){const{lo:n,hi:s}=wx(e,t),r=e[n]>=t?e[n]:e[s];i[r]=!0}}function V2(i,t,e,n){const s=i._adapter,r=+s.startOf(t[0].value,n),a=t[t.length-1].value;let c,u;for(c=r;c<=a;c=+s.add(c,1,n))u=e[c],u>=0&&(t[u].major=!0);return t}function lE(i,t,e){const n=[],s={},r=t.length;let a,c;for(a=0;a<r;++a)c=t[a],s[c]=a,n.push({value:c,major:!1});return r===0||!e?n:V2(i,n,s,e)}class dy extends By{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),s=this._adapter=new fF._date(t.adapters.date);s.init(e),qd(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:rE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:s,max:r,minDefined:a,maxDefined:c}=this.getUserBounds();function u(h){!a&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!c&&!isNaN(h.max)&&(r=Math.max(r,h.max))}(!a||!c)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=so(s)&&!isNaN(s)?s:+e.startOf(Date.now(),n),r=so(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,a=this.max,c=uO(s,r,a);return this._unit=e.unit||(n.autoSkip?oE(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):W2(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:U2(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),lE(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,n=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?n=r:n=(r-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;e=Xi(e,0,a),n=Xi(n,0,a),this._offsets={start:e,end:n,factor:1/(e+1+n)}}_generate(){const t=this._adapter,e=this.min,n=this.max,s=this.options,r=s.time,a=r.unit||oE(r.minUnit,e,n,this._getLabelCapacity(e)),c=re(s.ticks.stepSize,1),u=a==="week"?r.isoWeekday:!1,h=oy(u)||u===!0,p={};let g=e,y,b;if(h&&(g=+t.startOf(g,"isoWeek",u)),g=+t.startOf(g,h?"day":a),t.diff(n,e,a)>1e5*c)throw new Error(e+" and "+n+" are too far apart with stepSize of "+c+" "+a);const w=s.ticks.source==="data"&&this.getDataTimestamps();for(y=g,b=0;y<n;y=+t.add(y,c,a),b++)aE(p,y,w);return(y===n||s.bounds==="ticks"||b===1)&&aE(p,y,w),Object.keys(p).sort(sE).map(x=>+x)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,r=this._unit,a=e||s[r];return this._adapter.format(t,a)}_tickFormatFunction(t,e,n,s){const r=this.options,a=r.ticks.callback;if(a)return pe(a,[t,e,n],this);const c=r.time.displayFormats,u=this._unit,h=this._majorUnit,p=u&&c[u],g=h&&c[h],y=n[e],b=h&&g&&y&&y.major;return this._adapter.format(t,s||(b?g:p))}generateTickLabels(t){let e,n,s;for(e=0,n=t.length;e<n;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,s=Ja(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:n*r+c*a,h:n*a+c*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,s=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,lE(this,[t],this._majorUnit),s),a=this._getLabelSize(r),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],e,n;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,n=s.length;e<n;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const s=this.getLabels();for(e=0,n=s.length;e<n;++e)t.push(rE(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return dO(t.sort(sE))}}lt(dy,"id","time"),lt(dy,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function fm(i,t,e){let n=0,s=i.length-1,r,a,c,u;e?(t>=i[n].pos&&t<=i[s].pos&&({lo:n,hi:s}=Ib(i,"pos",t)),{pos:r,time:c}=i[n],{pos:a,time:u}=i[s]):(t>=i[n].time&&t<=i[s].time&&({lo:n,hi:s}=Ib(i,"time",t)),{time:r,pos:c}=i[n],{time:a,pos:u}=i[s]);const h=a-r;return h?c+(u-c)*(t-r)/h:c}class cE extends dy{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=fm(e,this.min),this._tableRange=fm(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,s=[],r=[];let a,c,u,h,p;for(a=0,c=t.length;a<c;++a)h=t[a],h>=e&&h<=n&&s.push(h);if(s.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(a=0,c=s.length;a<c;++a)p=s[a+1],u=s[a-1],h=s[a],Math.round((p+u)/2)!==h&&r.push({time:h,pos:a/(c-1)});return r}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(fm(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return fm(this._table,n*this._tableRange+this._minPos,!0)}}lt(cE,"id","timeseries"),lt(cE,"defaults",dy.defaults);const Pk="label";function uE(i,t){typeof i=="function"?i(t):i&&(i.current=t)}function $2(i,t){const e=i.options;e&&t&&Object.assign(e,t)}function Rk(i,t){i.labels=t}function Mk(i,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pk;const n=[];i.datasets=t.map(s=>{const r=i.datasets.find(a=>a[e]===s[e]);return!r||!s.data||n.includes(r)?{...s}:(n.push(r),Object.assign(r,s),r)})}function G2(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pk;const e={labels:[],datasets:[]};return Rk(e,i.labels),Mk(e,i.datasets,t),e}function X2(i,t){const{height:e=150,width:n=300,redraw:s=!1,datasetIdKey:r,type:a,data:c,options:u,plugins:h=[],fallbackContent:p,updateMode:g,...y}=i,b=D.useRef(null),w=D.useRef(null),x=()=>{b.current&&(w.current=new Wy(b.current,{type:a,data:G2(c,r),options:u&&{...u},plugins:h}),uE(t,w.current))},A=()=>{uE(t,null),w.current&&(w.current.destroy(),w.current=null)};return D.useEffect(()=>{!s&&w.current&&u&&$2(w.current,u)},[s,u]),D.useEffect(()=>{!s&&w.current&&Rk(w.current.config.data,c.labels)},[s,c.labels]),D.useEffect(()=>{!s&&w.current&&c.datasets&&Mk(w.current.config.data,c.datasets,r)},[s,c.datasets]),D.useEffect(()=>{w.current&&(s?(A(),setTimeout(x)):w.current.update(g))},[s,u,c.labels,c.datasets,g]),D.useEffect(()=>{w.current&&(A(),setTimeout(x))},[a]),D.useEffect(()=>(x(),()=>A()),[]),oi.createElement("canvas",{ref:b,role:"img",height:e,width:n,...y},p)}const q2=D.forwardRef(X2);function Y2(i,t){return Wy.register(t),D.forwardRef((e,n)=>oi.createElement(q2,{...e,ref:n,type:i}))}const K2=Y2("doughnut",kd);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lk=(...i)=>i.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=D.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:r,iconNode:a,...c},u)=>D.createElement("svg",{ref:u,...J2,width:t,height:t,stroke:i,strokeWidth:n?Number(e)*24/Number(t):e,className:Lk("lucide",s),...c},[...a.map(([h,p])=>D.createElement(h,p)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=(i,t)=>{const e=D.forwardRef(({className:n,...s},r)=>D.createElement(Z2,{ref:r,iconNode:t,className:Lk(`lucide-${Q2(i)}`,n),...s}));return e.displayName=`${i}`,e};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=pc("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=pc("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=pc("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=pc("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=pc("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=pc("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=pc("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),sN=({date:i,title:t,description:e,icon:n,isLast:s})=>{const r=typeof n=="string";return O.jsxs("div",{className:"flex-1 relative min-w-[200px]",children:[O.jsxs("div",{className:"flex flex-col items-center gap-3",children:[O.jsx("div",{className:"flex items-center justify-center w-12 h-12 text-white bg-green-500 rounded-full",children:r?O.jsx("img",{src:n,alt:t,className:"object-cover w-8 h-8 rounded-full"}):n&&oi.createElement(n,{className:"w-6 h-6"})}),O.jsxs("div",{className:"text-center",children:[O.jsx("div",{className:"text-sm text-white",children:i}),O.jsx("div",{className:"mt-1 font-semibold text-white",children:t}),O.jsx("div",{className:"mt-1 text-sm text-white",children:e})]})]}),!s&&O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"absolute hidden -translate-x-1/2 lg:block top-6 left-full",children:O.jsx(Rx,{className:"w-6 h-6 text-gray-400"})}),O.jsx("div",{className:"absolute mt-2 -translate-x-1/2 md:hidden top-full left-1/2",children:O.jsx(tN,{className:"w-6 h-6 text-gray-400"})})]})]})},rN=()=>{const i=[{date:"1 July 2019 - 1 March 2022",title:"UiTM Cawangan Kedah, Kampus Merbok",description:"Furthering education in Diploma of Computer Science",icon:nN},{date:"13 March 2022 - 15 Jun 2024",title:"UiTM Cawangan Perak, Kampus Tapah",description:"Furthering education in Bachelor of Computer Science",icon:eN},{date:"11 March 2024 - 15 Jun 2024",title:"Internship Period",description:"Internship period as Flutter Mobile Developer at RF Laiyon Sdn Bhd",icon:hE},{date:"1 July 2024 - Current",title:"First Job",description:"Flutter Mobile Developer at RF Laiyon Interactive",icon:hE}];return O.jsx("div",{className:"w-full p-6",children:O.jsx("div",{className:"flex flex-col gap-8 lg:flex-row md:gap-4",children:i.map((t,e)=>O.jsx(sN,{...t,isLast:e===i.length-1},e))})})},ab=({value:i,label:t})=>O.jsxs("div",{className:"flex flex-col items-center p-4",children:[O.jsx("span",{className:"text-4xl font-bold text-indigo-900",children:i}),O.jsx("span",{className:"mt-2 text-center text-gray-600",children:t})]}),oN=()=>{const i={name:"Aiman Afiq",email:"aimanafiqbinesam@gmail.com",age:24,location:"Cyberjaya, Sepang",stats:{experience:1,clients:6,projects:10,awards:25}};return O.jsx("div",{className:"p-4 mx-auto max-w-7xl md:p-8",children:O.jsx("div",{className:"overflow-hidden bg-white rounded-lg shadow-lg",children:O.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[O.jsxs("div",{className:"p-6 md:p-8",children:[O.jsx("h1",{className:"mb-6 text-4xl font-bold text-indigo-900 md:text-5xl",children:"Biography"}),O.jsxs("div",{className:"mb-8 prose max-w-none",children:[O.jsx("p",{className:"mb-4 text-gray-600",children:"I am a mobile developer and web developer from Cyberjaya. I am proficient in Flutter, intermediate in React Js / React Native and Jetpack Compose and begginner in Laravel."}),O.jsx("p",{className:"text-gray-600",children:"Delivering work within time and budget which meets client's requirements is my motto."})]}),O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{className:"flex items-center",children:[O.jsx("span",{className:"w-24 font-bold text-indigo-900",children:"Name:"}),O.jsx("span",{className:"text-gray-600",children:i.name})]}),O.jsxs("div",{className:"flex items-center",children:[O.jsx("span",{className:"w-24 font-bold text-indigo-900",children:"Email:"}),O.jsx("span",{className:"text-gray-600",children:i.email})]}),O.jsxs("div",{className:"flex items-center",children:[O.jsx("span",{className:"w-24 font-bold text-indigo-900",children:"Age:"}),O.jsx("span",{className:"text-gray-600",children:i.age})]}),O.jsxs("div",{className:"flex items-center",children:[O.jsx("span",{className:"w-24 font-bold text-indigo-900",children:"From:"}),O.jsx("span",{className:"text-gray-600",children:i.location})]})]})]}),O.jsx("div",{className:"flex items-center p-6 bg-gray-50 md:p-8",children:O.jsxs("div",{className:"grid w-full grid-cols-2 gap-4",children:[O.jsx(ab,{value:i.stats.experience,label:"Years of Experience"}),O.jsx(ab,{value:`${i.stats.clients}+`,label:"Happy Clients"}),O.jsx(ab,{value:`${i.stats.projects}+`,label:"Projects Completed"})]})})]})})})};function aN(i){return Object.prototype.toString.call(i)==="[object Object]"}function dE(i){return aN(i)||Array.isArray(i)}function lN(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Mx(i,t){const e=Object.keys(i),n=Object.keys(t);if(e.length!==n.length)return!1;const s=JSON.stringify(Object.keys(i.breakpoints||{})),r=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==r?!1:e.every(a=>{const c=i[a],u=t[a];return typeof c=="function"?`${c}`==`${u}`:!dE(c)||!dE(u)?c===u:Mx(c,u)})}function fE(i){return i.concat().sort((t,e)=>t.name>e.name?1:-1).map(t=>t.options)}function cN(i,t){if(i.length!==t.length)return!1;const e=fE(i),n=fE(t);return e.every((s,r)=>{const a=n[r];return Mx(s,a)})}function Lx(i){return typeof i=="number"}function zb(i){return typeof i=="string"}function Vy(i){return typeof i=="boolean"}function pE(i){return Object.prototype.toString.call(i)==="[object Object]"}function Ae(i){return Math.abs(i)}function Ix(i){return Math.sign(i)}function Zd(i,t){return Ae(i-t)}function uN(i,t){if(i===0||t===0||Ae(i)<=Ae(t))return 0;const e=Zd(Ae(i),Ae(t));return Ae(e/i)}function hN(i){return Math.round(i*100)/100}function hf(i){return df(i).map(Number)}function As(i){return i[Np(i)]}function Np(i){return Math.max(0,i.length-1)}function Dx(i,t){return t===Np(i)}function gE(i,t=0){return Array.from(Array(i),(e,n)=>t+n)}function df(i){return Object.keys(i)}function Dk(i,t){return[i,t].reduce((e,n)=>(df(n).forEach(s=>{const r=e[s],a=n[s],c=pE(r)&&pE(a);e[s]=c?Dk(r,a):a}),e),{})}function Hb(i,t){return typeof t.MouseEvent<"u"&&i instanceof t.MouseEvent}function dN(i,t){const e={start:n,center:s,end:r};function n(){return 0}function s(u){return r(u)/2}function r(u){return t-u}function a(u,h){return zb(i)?e[i](u):i(t,u,h)}return{measure:a}}function ff(){let i=[];function t(s,r,a,c={passive:!0}){let u;if("addEventListener"in s)s.addEventListener(r,a,c),u=()=>s.removeEventListener(r,a,c);else{const h=s;h.addListener(a),u=()=>h.removeListener(a)}return i.push(u),n}function e(){i=i.filter(s=>s())}const n={add:t,clear:e};return n}function fN(i,t,e,n){const s=ff(),r=1e3/60;let a=null,c=0,u=0;function h(){s.add(i,"visibilitychange",()=>{i.hidden&&w()})}function p(){b(),s.clear()}function g(A){if(!u)return;a||(a=A,e(),e());const S=A-a;for(a=A,c+=S;c>=r;)e(),c-=r;const P=c/r;n(P),u&&(u=t.requestAnimationFrame(g))}function y(){u||(u=t.requestAnimationFrame(g))}function b(){t.cancelAnimationFrame(u),a=null,c=0,u=0}function w(){a=null,c=0}return{init:h,destroy:p,start:y,stop:b,update:e,render:n}}function pN(i,t){const e=t==="rtl",n=i==="y",s=n?"y":"x",r=n?"x":"y",a=!n&&e?-1:1,c=p(),u=g();function h(w){const{height:x,width:A}=w;return n?x:A}function p(){return n?"top":e?"right":"left"}function g(){return n?"bottom":e?"left":"right"}function y(w){return w*a}return{scroll:s,cross:r,startEdge:c,endEdge:u,measureSize:h,direction:y}}function oc(i=0,t=0){const e=Ae(i-t);function n(h){return h<i}function s(h){return h>t}function r(h){return n(h)||s(h)}function a(h){return r(h)?n(h)?i:t:h}function c(h){return e?h-e*Math.ceil((h-t)/e):h}return{length:e,max:t,min:i,constrain:a,reachedAny:r,reachedMax:s,reachedMin:n,removeOffset:c}}function Ok(i,t,e){const{constrain:n}=oc(0,i),s=i+1;let r=a(t);function a(y){return e?Ae((s+y)%s):n(y)}function c(){return r}function u(y){return r=a(y),g}function h(y){return p().set(c()+y)}function p(){return Ok(i,c(),e)}const g={get:c,set:u,add:h,clone:p};return g}function gN(i,t,e,n,s,r,a,c,u,h,p,g,y,b,w,x,A,S,P){const{cross:R,direction:M}=i,I=["INPUT","SELECT","TEXTAREA"],F={passive:!1},j=ff(),N=ff(),W=oc(50,225).constrain(b.measure(20)),$={mouse:300,touch:400},G={mouse:500,touch:600},K=w?43:25;let rt=!1,ot=0,nt=0,J=!1,Q=!1,X=!1,et=!1;function it(vt){if(!P)return;function _t(Ut){(Vy(P)||P(vt,Ut))&&mt(Ut)}const Lt=t;j.add(Lt,"dragstart",Ut=>Ut.preventDefault(),F).add(Lt,"touchmove",()=>{},F).add(Lt,"touchend",()=>{}).add(Lt,"touchstart",_t).add(Lt,"mousedown",_t).add(Lt,"touchcancel",Et).add(Lt,"contextmenu",Et).add(Lt,"click",Mt,!0)}function z(){j.clear(),N.clear()}function Y(){const vt=et?e:t;N.add(vt,"touchmove",dt,F).add(vt,"touchend",Et).add(vt,"mousemove",dt,F).add(vt,"mouseup",Et)}function ut(vt){const _t=vt.nodeName||"";return I.includes(_t)}function ft(){return(w?G:$)[et?"mouse":"touch"]}function At(vt,_t){const Lt=g.add(Ix(vt)*-1),Ut=p.byDistance(vt,!w).distance;return w||Ae(vt)<W?Ut:A&&_t?Ut*.5:p.byIndex(Lt.get(),0).distance}function mt(vt){const _t=Hb(vt,n);et=_t,X=w&&_t&&!vt.buttons&&rt,rt=Zd(s.get(),a.get())>=2,!(_t&&vt.button!==0)&&(ut(vt.target)||(J=!0,r.pointerDown(vt),h.useFriction(0).useDuration(0),s.set(a),Y(),ot=r.readPoint(vt),nt=r.readPoint(vt,R),y.emit("pointerDown")))}function dt(vt){if(!Hb(vt,n)&&vt.touches.length>=2)return Et(vt);const Lt=r.readPoint(vt),Ut=r.readPoint(vt,R),qt=Zd(Lt,ot),De=Zd(Ut,nt);if(!Q&&!et&&(!vt.cancelable||(Q=qt>De,!Q)))return Et(vt);const vn=r.pointerMove(vt);qt>x&&(X=!0),h.useFriction(.3).useDuration(.75),c.start(),s.add(M(vn)),vt.preventDefault()}function Et(vt){const Lt=p.byDistance(0,!1).index!==g.get(),Ut=r.pointerUp(vt)*ft(),qt=At(M(Ut),Lt),De=uN(Ut,qt),vn=K-10*De,$n=S+De/50;Q=!1,J=!1,N.clear(),h.useDuration(vn).useFriction($n),u.distance(qt,!w),et=!1,y.emit("pointerUp")}function Mt(vt){X&&(vt.stopPropagation(),vt.preventDefault(),X=!1)}function Pt(){return J}return{init:it,destroy:z,pointerDown:Pt}}function mN(i,t){let n,s;function r(g){return g.timeStamp}function a(g,y){const w=`client${(y||i.scroll)==="x"?"X":"Y"}`;return(Hb(g,t)?g:g.touches[0])[w]}function c(g){return n=g,s=g,a(g)}function u(g){const y=a(g)-a(s),b=r(g)-r(n)>170;return s=g,b&&(n=g),y}function h(g){if(!n||!s)return 0;const y=a(s)-a(n),b=r(g)-r(n),w=r(g)-r(s)>170,x=y/b;return b&&!w&&Ae(x)>.1?x:0}return{pointerDown:c,pointerMove:u,pointerUp:h,readPoint:a}}function yN(){function i(e){const{offsetTop:n,offsetLeft:s,offsetWidth:r,offsetHeight:a}=e;return{top:n,right:s+r,bottom:n+a,left:s,width:r,height:a}}return{measure:i}}function vN(i){function t(n){return i*(n/100)}return{measure:t}}function bN(i,t,e,n,s,r,a){const c=[i].concat(n);let u,h,p=[],g=!1;function y(A){return s.measureSize(a.measure(A))}function b(A){if(!r)return;h=y(i),p=n.map(y);function S(P){for(const R of P){if(g)return;const M=R.target===i,I=n.indexOf(R.target),F=M?h:p[I],j=y(M?i:n[I]);if(Ae(j-F)>=.5){A.reInit(),t.emit("resize");break}}}u=new ResizeObserver(P=>{(Vy(r)||r(A,P))&&S(P)}),e.requestAnimationFrame(()=>{c.forEach(P=>u.observe(P))})}function w(){g=!0,u&&u.disconnect()}return{init:b,destroy:w}}function wN(i,t,e,n,s,r){let a=0,c=0,u=s,h=r,p=i.get(),g=0;function y(){const F=n.get()-i.get(),j=!u;let N=0;return j?(a=0,e.set(n),i.set(n),N=F):(e.set(i),a+=F/u,a*=h,p+=a,i.add(a),N=p-g),c=Ix(N),g=p,I}function b(){const F=n.get()-t.get();return Ae(F)<.001}function w(){return u}function x(){return c}function A(){return a}function S(){return R(s)}function P(){return M(r)}function R(F){return u=F,I}function M(F){return h=F,I}const I={direction:x,duration:w,velocity:A,seek:y,settled:b,useBaseFriction:P,useBaseDuration:S,useFriction:M,useDuration:R};return I}function xN(i,t,e,n,s){const r=s.measure(10),a=s.measure(50),c=oc(.1,.99);let u=!1;function h(){return!(u||!i.reachedAny(e.get())||!i.reachedAny(t.get()))}function p(b){if(!h())return;const w=i.reachedMin(t.get())?"min":"max",x=Ae(i[w]-t.get()),A=e.get()-t.get(),S=c.constrain(x/a);e.subtract(A*S),!b&&Ae(A)<r&&(e.set(i.constrain(e.get())),n.useDuration(25).useBaseFriction())}function g(b){u=!b}return{shouldConstrain:h,constrain:p,toggleActive:g}}function _N(i,t,e,n,s){const r=oc(-t+i,0),a=g(),c=p(),u=y();function h(w,x){return Zd(w,x)<=1}function p(){const w=a[0],x=As(a),A=a.lastIndexOf(w),S=a.indexOf(x)+1;return oc(A,S)}function g(){return e.map((w,x)=>{const{min:A,max:S}=r,P=r.constrain(w),R=!x,M=Dx(e,x);return R?S:M||h(A,P)?A:h(S,P)?S:P}).map(w=>parseFloat(w.toFixed(3)))}function y(){if(t<=i+s)return[r.max];if(n==="keepSnaps")return a;const{min:w,max:x}=c;return a.slice(w,x)}return{snapsContained:u,scrollContainLimit:c}}function SN(i,t,e){const n=t[0],s=e?n-i:As(t);return{limit:oc(s,n)}}function AN(i,t,e,n){const r=t.min+.1,a=t.max+.1,{reachedMin:c,reachedMax:u}=oc(r,a);function h(y){return y===1?u(e.get()):y===-1?c(e.get()):!1}function p(y){if(!h(y))return;const b=i*(y*-1);n.forEach(w=>w.add(b))}return{loop:p}}function EN(i){const{max:t,length:e}=i;function n(r){const a=r-t;return e?a/-e:0}return{get:n}}function CN(i,t,e,n,s){const{startEdge:r,endEdge:a}=i,{groupSlides:c}=s,u=g().map(t.measure),h=y(),p=b();function g(){return c(n).map(x=>As(x)[a]-x[0][r]).map(Ae)}function y(){return n.map(x=>e[r]-x[r]).map(x=>-Ae(x))}function b(){return c(h).map(x=>x[0]).map((x,A)=>x+u[A])}return{snaps:h,snapsAligned:p}}function kN(i,t,e,n,s,r){const{groupSlides:a}=s,{min:c,max:u}=n,h=p();function p(){const y=a(r),b=!i||t==="keepSnaps";return e.length===1?[r]:b?y:y.slice(c,u).map((w,x,A)=>{const S=!x,P=Dx(A,x);if(S){const R=As(A[0])+1;return gE(R)}if(P){const R=Np(r)-As(A)[0]+1;return gE(R,As(A)[0])}return w})}return{slideRegistry:h}}function TN(i,t,e,n,s){const{reachedAny:r,removeOffset:a,constrain:c}=n;function u(w){return w.concat().sort((x,A)=>Ae(x)-Ae(A))[0]}function h(w){const x=i?a(w):c(w),A=t.map((P,R)=>({diff:p(P-x,0),index:R})).sort((P,R)=>Ae(P.diff)-Ae(R.diff)),{index:S}=A[0];return{index:S,distance:x}}function p(w,x){const A=[w,w+e,w-e];if(!i)return w;if(!x)return u(A);const S=A.filter(P=>Ix(P)===x);return S.length?u(S):As(A)-e}function g(w,x){const A=t[w]-s.get(),S=p(A,x);return{index:w,distance:S}}function y(w,x){const A=s.get()+w,{index:S,distance:P}=h(A),R=!i&&r(A);if(!x||R)return{index:S,distance:w};const M=t[S]-P,I=w+p(M,0);return{index:S,distance:I}}return{byDistance:y,byIndex:g,shortcut:p}}function PN(i,t,e,n,s,r,a){function c(g){const y=g.distance,b=g.index!==t.get();r.add(y),y&&(n.duration()?i.start():(i.update(),i.render(1),i.update())),b&&(e.set(t.get()),t.set(g.index),a.emit("select"))}function u(g,y){const b=s.byDistance(g,y);c(b)}function h(g,y){const b=t.clone().set(g),w=s.byIndex(b.get(),y);c(w)}return{distance:u,index:h}}function RN(i,t,e,n,s,r,a,c){const u={passive:!0,capture:!0};let h=0;function p(b){if(!c)return;function w(x){if(new Date().getTime()-h>10)return;a.emit("slideFocusStart"),i.scrollLeft=0;const P=e.findIndex(R=>R.includes(x));Lx(P)&&(s.useDuration(0),n.index(P,0),a.emit("slideFocus"))}r.add(document,"keydown",g,!1),t.forEach((x,A)=>{r.add(x,"focus",S=>{(Vy(c)||c(b,S))&&w(A)},u)})}function g(b){b.code==="Tab"&&(h=new Date().getTime())}return{init:p}}function Md(i){let t=i;function e(){return t}function n(u){t=a(u)}function s(u){t+=a(u)}function r(u){t-=a(u)}function a(u){return Lx(u)?u:u.get()}return{get:e,set:n,add:s,subtract:r}}function Fk(i,t){const e=i.scroll==="x"?a:c,n=t.style;let s=null,r=!1;function a(y){return`translate3d(${y}px,0px,0px)`}function c(y){return`translate3d(0px,${y}px,0px)`}function u(y){if(r)return;const b=hN(i.direction(y));b!==s&&(n.transform=e(b),s=b)}function h(y){r=!y}function p(){r||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:p,to:u,toggleActive:h}}function MN(i,t,e,n,s,r,a,c,u){const p=hf(s),g=hf(s).reverse(),y=S().concat(P());function b(j,N){return j.reduce((W,$)=>W-s[$],N)}function w(j,N){return j.reduce((W,$)=>b(W,N)>0?W.concat([$]):W,[])}function x(j){return r.map((N,W)=>({start:N-n[W]+.5+j,end:N+t-.5+j}))}function A(j,N,W){const $=x(N);return j.map(G=>{const K=W?0:-e,rt=W?e:0,ot=W?"end":"start",nt=$[G][ot];return{index:G,loopPoint:nt,slideLocation:Md(-1),translate:Fk(i,u[G]),target:()=>c.get()>nt?K:rt}})}function S(){const j=a[0],N=w(g,j);return A(N,e,!1)}function P(){const j=t-a[0]-1,N=w(p,j);return A(N,-e,!0)}function R(){return y.every(({index:j})=>{const N=p.filter(W=>W!==j);return b(N,t)<=.1})}function M(){y.forEach(j=>{const{target:N,translate:W,slideLocation:$}=j,G=N();G!==$.get()&&(W.to(G),$.set(G))})}function I(){y.forEach(j=>j.translate.clear())}return{canLoop:R,clear:I,loop:M,loopPoints:y}}function LN(i,t,e){let n,s=!1;function r(u){if(!e)return;function h(p){for(const g of p)if(g.type==="childList"){u.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(p=>{s||(Vy(e)||e(u,p))&&h(p)}),n.observe(i,{childList:!0})}function a(){n&&n.disconnect(),s=!0}return{init:r,destroy:a}}function IN(i,t,e,n){const s={};let r=null,a=null,c,u=!1;function h(){c=new IntersectionObserver(w=>{u||(w.forEach(x=>{const A=t.indexOf(x.target);s[A]=x}),r=null,a=null,e.emit("slidesInView"))},{root:i.parentElement,threshold:n}),t.forEach(w=>c.observe(w))}function p(){c&&c.disconnect(),u=!0}function g(w){return df(s).reduce((x,A)=>{const S=parseInt(A),{isIntersecting:P}=s[S];return(w&&P||!w&&!P)&&x.push(S),x},[])}function y(w=!0){if(w&&r)return r;if(!w&&a)return a;const x=g(w);return w&&(r=x),w||(a=x),x}return{init:h,destroy:p,get:y}}function DN(i,t,e,n,s,r){const{measureSize:a,startEdge:c,endEdge:u}=i,h=e[0]&&s,p=w(),g=x(),y=e.map(a),b=A();function w(){if(!h)return 0;const P=e[0];return Ae(t[c]-P[c])}function x(){if(!h)return 0;const P=r.getComputedStyle(As(n));return parseFloat(P.getPropertyValue(`margin-${u}`))}function A(){return e.map((P,R,M)=>{const I=!R,F=Dx(M,R);return I?y[R]+p:F?y[R]+g:M[R+1][c]-P[c]}).map(Ae)}return{slideSizes:y,slideSizesWithGaps:b,startGap:p,endGap:g}}function ON(i,t,e,n,s,r,a,c,u){const{startEdge:h,endEdge:p,direction:g}=i,y=Lx(e);function b(S,P){return hf(S).filter(R=>R%P===0).map(R=>S.slice(R,R+P))}function w(S){return S.length?hf(S).reduce((P,R,M)=>{const I=As(P)||0,F=I===0,j=R===Np(S),N=s[h]-r[I][h],W=s[h]-r[R][p],$=!n&&F?g(a):0,G=!n&&j?g(c):0,K=Ae(W-G-(N+$));return M&&K>t+u&&P.push(R),j&&P.push(S.length),P},[]).map((P,R,M)=>{const I=Math.max(M[R-1]||0);return S.slice(I,P)}):[]}function x(S){return y?b(S,e):w(S)}return{groupSlides:x}}function FN(i,t,e,n,s,r,a){const{align:c,axis:u,direction:h,startIndex:p,loop:g,duration:y,dragFree:b,dragThreshold:w,inViewThreshold:x,slidesToScroll:A,skipSnaps:S,containScroll:P,watchResize:R,watchSlides:M,watchDrag:I,watchFocus:F}=r,j=2,N=yN(),W=N.measure(t),$=e.map(N.measure),G=pN(u,h),K=G.measureSize(W),rt=vN(K),ot=dN(c,K),nt=!g&&!!P,J=g||!!P,{slideSizes:Q,slideSizesWithGaps:X,startGap:et,endGap:it}=DN(G,W,$,e,J,s),z=ON(G,K,A,g,W,$,et,it,j),{snaps:Y,snapsAligned:ut}=CN(G,ot,W,$,z),ft=-As(Y)+As(X),{snapsContained:At,scrollContainLimit:mt}=_N(K,ft,ut,P,j),dt=nt?At:ut,{limit:Et}=SN(ft,dt,g),Mt=Ok(Np(dt),p,g),Pt=Mt.clone(),Gt=hf(e),vt=({dragHandler:bn,scrollBody:lr,scrollBounds:Ah,options:{loop:Ca}})=>{Ca||Ah.constrain(bn.pointerDown()),lr.seek()},_t=({scrollBody:bn,translate:lr,location:Ah,offsetLocation:Ca,previousLocation:Wp,scrollLooper:rv,slideLooper:Eh,dragHandler:Ch,animation:kh,eventHandler:bc,scrollBounds:Th,options:{loop:cr}},ur)=>{const Ph=bn.settled(),Up=!Th.shouldConstrain(),Rh=cr?Ph:Ph&&Up;Rh&&!Ch.pointerDown()&&(kh.stop(),bc.emit("settle")),Rh||bc.emit("scroll");const Vp=Ah.get()*ur+Wp.get()*(1-ur);Ca.set(Vp),cr&&(rv.loop(bn.direction()),Eh.loop()),lr.to(Ca.get())},Lt=fN(n,s,()=>vt(Ji),bn=>_t(Ji,bn)),Ut=.68,qt=dt[Mt.get()],De=Md(qt),vn=Md(qt),$n=Md(qt),Dn=Md(qt),an=wN(De,$n,vn,Dn,y,Ut),ar=TN(g,dt,ft,Et,Dn),ao=PN(Lt,Mt,Pt,an,ar,Dn,a),Aa=EN(Et),Ea=ff(),vc=IN(t,e,a,x),{slideRegistry:hi}=kN(nt,P,dt,mt,z,Gt),Qi=RN(i,e,hi,ao,an,Ea,a,F),Ji={ownerDocument:n,ownerWindow:s,eventHandler:a,containerRect:W,slideRects:$,animation:Lt,axis:G,dragHandler:gN(G,i,n,s,Dn,mN(G,s),De,Lt,ao,an,ar,Mt,a,rt,b,w,S,Ut,I),eventStore:Ea,percentOfView:rt,index:Mt,indexPrevious:Pt,limit:Et,location:De,offsetLocation:$n,previousLocation:vn,options:r,resizeHandler:bN(t,a,s,e,G,R,N),scrollBody:an,scrollBounds:xN(Et,$n,Dn,an,rt),scrollLooper:AN(ft,Et,$n,[De,$n,vn,Dn]),scrollProgress:Aa,scrollSnapList:dt.map(Aa.get),scrollSnaps:dt,scrollTarget:ar,scrollTo:ao,slideLooper:MN(G,K,ft,Q,X,Y,dt,$n,e),slideFocus:Qi,slidesHandler:LN(t,a,M),slidesInView:vc,slideIndexes:Gt,slideRegistry:hi,slidesToScroll:z,target:Dn,translate:Fk(G,t)};return Ji}function NN(){let i={},t;function e(h){t=h}function n(h){return i[h]||[]}function s(h){return n(h).forEach(p=>p(t,h)),u}function r(h,p){return i[h]=n(h).concat([p]),u}function a(h,p){return i[h]=n(h).filter(g=>g!==p),u}function c(){i={}}const u={init:e,emit:s,off:a,on:r,clear:c};return u}const jN={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function zN(i){function t(r,a){return Dk(r,a||{})}function e(r){const a=r.breakpoints||{},c=df(a).filter(u=>i.matchMedia(u).matches).map(u=>a[u]).reduce((u,h)=>t(u,h),{});return t(r,c)}function n(r){return r.map(a=>df(a.breakpoints||{})).reduce((a,c)=>a.concat(c),[]).map(i.matchMedia)}return{mergeOptions:t,optionsAtMedia:e,optionsMediaQueries:n}}function HN(i){let t=[];function e(r,a){return t=a.filter(({options:c})=>i.optionsAtMedia(c).active!==!1),t.forEach(c=>c.init(r,i)),a.reduce((c,u)=>Object.assign(c,{[u.name]:u}),{})}function n(){t=t.filter(r=>r.destroy())}return{init:e,destroy:n}}function fy(i,t,e){const n=i.ownerDocument,s=n.defaultView,r=zN(s),a=HN(r),c=ff(),u=NN(),{mergeOptions:h,optionsAtMedia:p,optionsMediaQueries:g}=r,{on:y,off:b,emit:w}=u,x=G;let A=!1,S,P=h(jN,fy.globalOptions),R=h(P),M=[],I,F,j;function N(){const{container:Gt,slides:vt}=R;F=(zb(Gt)?i.querySelector(Gt):Gt)||i.children[0];const Lt=zb(vt)?F.querySelectorAll(vt):vt;j=[].slice.call(Lt||F.children)}function W(Gt){const vt=FN(i,F,j,n,s,Gt,u);if(Gt.loop&&!vt.slideLooper.canLoop()){const _t=Object.assign({},Gt,{loop:!1});return W(_t)}return vt}function $(Gt,vt){A||(P=h(P,Gt),R=p(P),M=vt||M,N(),S=W(R),g([P,...M.map(({options:_t})=>_t)]).forEach(_t=>c.add(_t,"change",G)),R.active&&(S.translate.to(S.location.get()),S.animation.init(),S.slidesInView.init(),S.slideFocus.init(Pt),S.eventHandler.init(Pt),S.resizeHandler.init(Pt),S.slidesHandler.init(Pt),S.options.loop&&S.slideLooper.loop(),F.offsetParent&&j.length&&S.dragHandler.init(Pt),I=a.init(Pt,M)))}function G(Gt,vt){const _t=z();K(),$(h({startIndex:_t},Gt),vt),u.emit("reInit")}function K(){S.dragHandler.destroy(),S.eventStore.clear(),S.translate.clear(),S.slideLooper.clear(),S.resizeHandler.destroy(),S.slidesHandler.destroy(),S.slidesInView.destroy(),S.animation.destroy(),a.destroy(),c.clear()}function rt(){A||(A=!0,c.clear(),K(),u.emit("destroy"),u.clear())}function ot(Gt,vt,_t){!R.active||A||(S.scrollBody.useBaseFriction().useDuration(vt===!0?0:R.duration),S.scrollTo.index(Gt,_t||0))}function nt(Gt){const vt=S.index.add(1).get();ot(vt,Gt,-1)}function J(Gt){const vt=S.index.add(-1).get();ot(vt,Gt,1)}function Q(){return S.index.add(1).get()!==z()}function X(){return S.index.add(-1).get()!==z()}function et(){return S.scrollSnapList}function it(){return S.scrollProgress.get(S.location.get())}function z(){return S.index.get()}function Y(){return S.indexPrevious.get()}function ut(){return S.slidesInView.get()}function ft(){return S.slidesInView.get(!1)}function At(){return I}function mt(){return S}function dt(){return i}function Et(){return F}function Mt(){return j}const Pt={canScrollNext:Q,canScrollPrev:X,containerNode:Et,internalEngine:mt,destroy:rt,off:b,on:y,emit:w,plugins:At,previousScrollSnap:Y,reInit:x,rootNode:dt,scrollNext:nt,scrollPrev:J,scrollProgress:it,scrollSnapList:et,scrollTo:ot,selectedScrollSnap:z,slideNodes:Mt,slidesInView:ut,slidesNotInView:ft};return $(t,e),setTimeout(()=>u.emit("init"),0),Pt}fy.globalOptions=void 0;function Ox(i={},t=[]){const e=D.useRef(i),n=D.useRef(t),[s,r]=D.useState(),[a,c]=D.useState(),u=D.useCallback(()=>{s&&s.reInit(e.current,n.current)},[s]);return D.useEffect(()=>{Mx(e.current,i)||(e.current=i,u())},[i,u]),D.useEffect(()=>{cN(n.current,t)||(n.current=t,u())},[t,u]),D.useEffect(()=>{if(lN()&&a){fy.globalOptions=Ox.globalOptions;const h=fy(a,e.current,n.current);return r(h),()=>h.destroy()}else r(void 0)},[a,r]),[c,s]}Ox.globalOptions=void 0;const mE=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,yE=xh,BN=(i,t)=>e=>{var n;if((t==null?void 0:t.variants)==null)return yE(i,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:s,defaultVariants:r}=t,a=Object.keys(s).map(h=>{const p=e==null?void 0:e[h],g=r==null?void 0:r[h];if(p===null)return null;const y=mE(p)||mE(g);return s[h][y]}),c=e&&Object.entries(e).reduce((h,p)=>{let[g,y]=p;return y===void 0||(h[g]=y),h},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,p)=>{let{class:g,className:y,...b}=p;return Object.entries(b).every(w=>{let[x,A]=w;return Array.isArray(A)?A.includes({...r,...c}[x]):{...r,...c}[x]===A})?[...h,g,y]:h},[]);return yE(i,a,u,e==null?void 0:e.class,e==null?void 0:e.className)},WN=BN("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ac=D.forwardRef(({className:i,variant:t,size:e,asChild:n=!1,...s},r)=>{const a=n?sf:"button";return O.jsx(a,{className:yn(WN({variant:t,size:e,className:i})),ref:r,...s})});ac.displayName="Button";const Nk=D.createContext(null);function $y(){const i=D.useContext(Nk);if(!i)throw new Error("useCarousel must be used within a <Carousel />");return i}const jk=D.forwardRef(({orientation:i="horizontal",opts:t,setApi:e,plugins:n,className:s,children:r,...a},c)=>{const[u,h]=Ox({...t,axis:i==="horizontal"?"x":"y"},n),[p,g]=D.useState(!1),[y,b]=D.useState(!1),w=D.useCallback(P=>{P&&(g(P.canScrollPrev()),b(P.canScrollNext()))},[]),x=D.useCallback(()=>{h==null||h.scrollPrev()},[h]),A=D.useCallback(()=>{h==null||h.scrollNext()},[h]),S=D.useCallback(P=>{P.key==="ArrowLeft"?(P.preventDefault(),x()):P.key==="ArrowRight"&&(P.preventDefault(),A())},[x,A]);return D.useEffect(()=>{!h||!e||e(h)},[h,e]),D.useEffect(()=>{if(h)return w(h),h.on("reInit",w),h.on("select",w),()=>{h==null||h.off("select",w)}},[h,w]),O.jsx(Nk.Provider,{value:{carouselRef:u,api:h,opts:t,orientation:i||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:A,canScrollPrev:p,canScrollNext:y},children:O.jsx("div",{ref:c,onKeyDownCapture:S,className:yn("relative",s),role:"region","aria-roledescription":"carousel",...a,children:r})})});jk.displayName="Carousel";const zk=D.forwardRef(({className:i,...t},e)=>{const{carouselRef:n,orientation:s}=$y();return O.jsx("div",{ref:n,className:"overflow-hidden",children:O.jsx("div",{ref:e,className:yn("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",i),...t})})});zk.displayName="CarouselContent";const Hk=D.forwardRef(({className:i,...t},e)=>{const{orientation:n}=$y();return O.jsx("div",{ref:e,role:"group","aria-roledescription":"slide",className:yn("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",i),...t})});Hk.displayName="CarouselItem";const Bk=D.forwardRef(({className:i,variant:t="outline",size:e="icon",...n},s)=>{const{orientation:r,scrollPrev:a,canScrollPrev:c}=$y();return O.jsxs(ac,{ref:s,variant:t,size:e,className:yn("absolute  h-8 w-8 rounded-full",r==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",i),disabled:!c,onClick:a,...n,children:[O.jsx(Ik,{className:"h-4 w-4"}),O.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Bk.displayName="CarouselPrevious";const Wk=D.forwardRef(({className:i,variant:t="outline",size:e="icon",...n},s)=>{const{orientation:r,scrollNext:a,canScrollNext:c}=$y();return O.jsxs(ac,{ref:s,variant:t,size:e,className:yn("absolute h-8 w-8 rounded-full",r==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",i),disabled:!c,onClick:a,...n,children:[O.jsx(Rx,{className:"h-4 w-4"}),O.jsx("span",{className:"sr-only",children:"Next slide"})]})});Wk.displayName="CarouselNext";function UN(i,[t,e]){return Math.min(e,Math.max(t,i))}function VN(i,t){return D.useReducer((e,n)=>t[e][n]??e,i)}var Fx="ScrollArea",[Uk,QB]=jy(Fx),[$N,Ki]=Uk(Fx),Vk=D.forwardRef((i,t)=>{const{__scopeScrollArea:e,type:n="hover",dir:s,scrollHideDelay:r=600,...a}=i,[c,u]=D.useState(null),[h,p]=D.useState(null),[g,y]=D.useState(null),[b,w]=D.useState(null),[x,A]=D.useState(null),[S,P]=D.useState(0),[R,M]=D.useState(0),[I,F]=D.useState(!1),[j,N]=D.useState(!1),W=rr(t,G=>u(G)),$=lx(s);return O.jsx($N,{scope:e,type:n,dir:$,scrollHideDelay:r,scrollArea:c,viewport:h,onViewportChange:p,content:g,onContentChange:y,scrollbarX:b,onScrollbarXChange:w,scrollbarXEnabled:I,onScrollbarXEnabledChange:F,scrollbarY:x,onScrollbarYChange:A,scrollbarYEnabled:j,onScrollbarYEnabledChange:N,onCornerWidthChange:P,onCornerHeightChange:M,children:O.jsx(Cs.div,{dir:$,...a,ref:W,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":R+"px",...i.style}})})});Vk.displayName=Fx;var $k="ScrollAreaViewport",Gk=D.forwardRef((i,t)=>{const{__scopeScrollArea:e,children:n,nonce:s,...r}=i,a=Ki($k,e),c=D.useRef(null),u=rr(t,c,a.onViewportChange);return O.jsxs(O.Fragment,{children:[O.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),O.jsx(Cs.div,{"data-radix-scroll-area-viewport":"",...r,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...i.style},children:O.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Gk.displayName=$k;var or="ScrollAreaScrollbar",Nx=D.forwardRef((i,t)=>{const{forceMount:e,...n}=i,s=Ki(or,i.__scopeScrollArea),{onScrollbarXEnabledChange:r,onScrollbarYEnabledChange:a}=s,c=i.orientation==="horizontal";return D.useEffect(()=>(c?r(!0):a(!0),()=>{c?r(!1):a(!1)}),[c,r,a]),s.type==="hover"?O.jsx(GN,{...n,ref:t,forceMount:e}):s.type==="scroll"?O.jsx(XN,{...n,ref:t,forceMount:e}):s.type==="auto"?O.jsx(Xk,{...n,ref:t,forceMount:e}):s.type==="always"?O.jsx(jx,{...n,ref:t}):null});Nx.displayName=or;var GN=D.forwardRef((i,t)=>{const{forceMount:e,...n}=i,s=Ki(or,i.__scopeScrollArea),[r,a]=D.useState(!1);return D.useEffect(()=>{const c=s.scrollArea;let u=0;if(c){const h=()=>{window.clearTimeout(u),a(!0)},p=()=>{u=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",p),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",p)}}},[s.scrollArea,s.scrollHideDelay]),O.jsx(wh,{present:e||r,children:O.jsx(Xk,{"data-state":r?"visible":"hidden",...n,ref:t})})}),XN=D.forwardRef((i,t)=>{const{forceMount:e,...n}=i,s=Ki(or,i.__scopeScrollArea),r=i.orientation==="horizontal",a=Xy(()=>u("SCROLL_END"),100),[c,u]=VN("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return D.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,s.scrollHideDelay,u]),D.useEffect(()=>{const h=s.viewport,p=r?"scrollLeft":"scrollTop";if(h){let g=h[p];const y=()=>{const b=h[p];g!==b&&(u("SCROLL"),a()),g=b};return h.addEventListener("scroll",y),()=>h.removeEventListener("scroll",y)}},[s.viewport,r,u,a]),O.jsx(wh,{present:e||c!=="hidden",children:O.jsx(jx,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:In(i.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:In(i.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),Xk=D.forwardRef((i,t)=>{const e=Ki(or,i.__scopeScrollArea),{forceMount:n,...s}=i,[r,a]=D.useState(!1),c=i.orientation==="horizontal",u=Xy(()=>{if(e.viewport){const h=e.viewport.offsetWidth<e.viewport.scrollWidth,p=e.viewport.offsetHeight<e.viewport.scrollHeight;a(c?h:p)}},10);return vh(e.viewport,u),vh(e.content,u),O.jsx(wh,{present:n||r,children:O.jsx(jx,{"data-state":r?"visible":"hidden",...s,ref:t})})}),jx=D.forwardRef((i,t)=>{const{orientation:e="vertical",...n}=i,s=Ki(or,i.__scopeScrollArea),r=D.useRef(null),a=D.useRef(0),[c,u]=D.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=Jk(c.viewport,c.content),p={...n,sizes:c,onSizesChange:u,hasThumb:h>0&&h<1,onThumbChange:y=>r.current=y,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:y=>a.current=y};function g(y,b){return ZN(y,a.current,c,b)}return e==="horizontal"?O.jsx(qN,{...p,ref:t,onThumbPositionChange:()=>{if(s.viewport&&r.current){const y=s.viewport.scrollLeft,b=vE(y,c,s.dir);r.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:y=>{s.viewport&&(s.viewport.scrollLeft=y)},onDragScroll:y=>{s.viewport&&(s.viewport.scrollLeft=g(y,s.dir))}}):e==="vertical"?O.jsx(YN,{...p,ref:t,onThumbPositionChange:()=>{if(s.viewport&&r.current){const y=s.viewport.scrollTop,b=vE(y,c);r.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:y=>{s.viewport&&(s.viewport.scrollTop=y)},onDragScroll:y=>{s.viewport&&(s.viewport.scrollTop=g(y))}}):null}),qN=D.forwardRef((i,t)=>{const{sizes:e,onSizesChange:n,...s}=i,r=Ki(or,i.__scopeScrollArea),[a,c]=D.useState(),u=D.useRef(null),h=rr(t,u,r.onScrollbarXChange);return D.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),O.jsx(Yk,{"data-orientation":"horizontal",...s,ref:h,sizes:e,style:{bottom:0,left:r.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:r.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Gy(e)+"px",...i.style},onThumbPointerDown:p=>i.onThumbPointerDown(p.x),onDragScroll:p=>i.onDragScroll(p.x),onWheelScroll:(p,g)=>{if(r.viewport){const y=r.viewport.scrollLeft+p.deltaX;i.onWheelScroll(y),tT(y,g)&&p.preventDefault()}},onResize:()=>{u.current&&r.viewport&&a&&n({content:r.viewport.scrollWidth,viewport:r.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:gy(a.paddingLeft),paddingEnd:gy(a.paddingRight)}})}})}),YN=D.forwardRef((i,t)=>{const{sizes:e,onSizesChange:n,...s}=i,r=Ki(or,i.__scopeScrollArea),[a,c]=D.useState(),u=D.useRef(null),h=rr(t,u,r.onScrollbarYChange);return D.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),O.jsx(Yk,{"data-orientation":"vertical",...s,ref:h,sizes:e,style:{top:0,right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Gy(e)+"px",...i.style},onThumbPointerDown:p=>i.onThumbPointerDown(p.y),onDragScroll:p=>i.onDragScroll(p.y),onWheelScroll:(p,g)=>{if(r.viewport){const y=r.viewport.scrollTop+p.deltaY;i.onWheelScroll(y),tT(y,g)&&p.preventDefault()}},onResize:()=>{u.current&&r.viewport&&a&&n({content:r.viewport.scrollHeight,viewport:r.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:gy(a.paddingTop),paddingEnd:gy(a.paddingBottom)}})}})}),[KN,qk]=Uk(or),Yk=D.forwardRef((i,t)=>{const{__scopeScrollArea:e,sizes:n,hasThumb:s,onThumbChange:r,onThumbPointerUp:a,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:h,onWheelScroll:p,onResize:g,...y}=i,b=Ki(or,e),[w,x]=D.useState(null),A=rr(t,W=>x(W)),S=D.useRef(null),P=D.useRef(""),R=b.viewport,M=n.content-n.viewport,I=sr(p),F=sr(u),j=Xy(g,10);function N(W){if(S.current){const $=W.clientX-S.current.left,G=W.clientY-S.current.top;h({x:$,y:G})}}return D.useEffect(()=>{const W=$=>{const G=$.target;(w==null?void 0:w.contains(G))&&I($,M)};return document.addEventListener("wheel",W,{passive:!1}),()=>document.removeEventListener("wheel",W,{passive:!1})},[R,w,M,I]),D.useEffect(F,[n,F]),vh(w,j),vh(b.content,j),O.jsx(KN,{scope:e,scrollbar:w,hasThumb:s,onThumbChange:sr(r),onThumbPointerUp:sr(a),onThumbPositionChange:F,onThumbPointerDown:sr(c),children:O.jsx(Cs.div,{...y,ref:A,style:{position:"absolute",...y.style},onPointerDown:In(i.onPointerDown,W=>{W.button===0&&(W.target.setPointerCapture(W.pointerId),S.current=w.getBoundingClientRect(),P.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),N(W))}),onPointerMove:In(i.onPointerMove,N),onPointerUp:In(i.onPointerUp,W=>{const $=W.target;$.hasPointerCapture(W.pointerId)&&$.releasePointerCapture(W.pointerId),document.body.style.webkitUserSelect=P.current,b.viewport&&(b.viewport.style.scrollBehavior=""),S.current=null})})})}),py="ScrollAreaThumb",Kk=D.forwardRef((i,t)=>{const{forceMount:e,...n}=i,s=qk(py,i.__scopeScrollArea);return O.jsx(wh,{present:e||s.hasThumb,children:O.jsx(QN,{ref:t,...n})})}),QN=D.forwardRef((i,t)=>{const{__scopeScrollArea:e,style:n,...s}=i,r=Ki(py,e),a=qk(py,e),{onThumbPositionChange:c}=a,u=rr(t,g=>a.onThumbChange(g)),h=D.useRef(void 0),p=Xy(()=>{h.current&&(h.current(),h.current=void 0)},100);return D.useEffect(()=>{const g=r.viewport;if(g){const y=()=>{if(p(),!h.current){const b=tj(g,c);h.current=b,c()}};return c(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[r.viewport,p,c]),O.jsx(Cs.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:In(i.onPointerDownCapture,g=>{const b=g.target.getBoundingClientRect(),w=g.clientX-b.left,x=g.clientY-b.top;a.onThumbPointerDown({x:w,y:x})}),onPointerUp:In(i.onPointerUp,a.onThumbPointerUp)})});Kk.displayName=py;var zx="ScrollAreaCorner",Qk=D.forwardRef((i,t)=>{const e=Ki(zx,i.__scopeScrollArea),n=!!(e.scrollbarX&&e.scrollbarY);return e.type!=="scroll"&&n?O.jsx(JN,{...i,ref:t}):null});Qk.displayName=zx;var JN=D.forwardRef((i,t)=>{const{__scopeScrollArea:e,...n}=i,s=Ki(zx,e),[r,a]=D.useState(0),[c,u]=D.useState(0),h=!!(r&&c);return vh(s.scrollbarX,()=>{var g;const p=((g=s.scrollbarX)==null?void 0:g.offsetHeight)||0;s.onCornerHeightChange(p),u(p)}),vh(s.scrollbarY,()=>{var g;const p=((g=s.scrollbarY)==null?void 0:g.offsetWidth)||0;s.onCornerWidthChange(p),a(p)}),h?O.jsx(Cs.div,{...n,ref:t,style:{width:r,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...i.style}}):null});function gy(i){return i?parseInt(i,10):0}function Jk(i,t){const e=i/t;return isNaN(e)?0:e}function Gy(i){const t=Jk(i.viewport,i.content),e=i.scrollbar.paddingStart+i.scrollbar.paddingEnd,n=(i.scrollbar.size-e)*t;return Math.max(n,18)}function ZN(i,t,e,n="ltr"){const s=Gy(e),r=s/2,a=t||r,c=s-a,u=e.scrollbar.paddingStart+a,h=e.scrollbar.size-e.scrollbar.paddingEnd-c,p=e.content-e.viewport,g=n==="ltr"?[0,p]:[p*-1,0];return Zk([u,h],g)(i)}function vE(i,t,e="ltr"){const n=Gy(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=t.scrollbar.size-s,a=t.content-t.viewport,c=r-n,u=e==="ltr"?[0,a]:[a*-1,0],h=UN(i,u);return Zk([0,a],[0,c])(h)}function Zk(i,t){return e=>{if(i[0]===i[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(i[1]-i[0]);return t[0]+n*(e-i[0])}}function tT(i,t){return i>0&&i<t}var tj=(i,t=()=>{})=>{let e={left:i.scrollLeft,top:i.scrollTop},n=0;return function s(){const r={left:i.scrollLeft,top:i.scrollTop},a=e.left!==r.left,c=e.top!==r.top;(a||c)&&t(),e=r,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Xy(i,t){const e=sr(i),n=D.useRef(0);return D.useEffect(()=>()=>window.clearTimeout(n.current),[]),D.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(e,t)},[e,t])}function vh(i,t){const e=sr(t);ty(()=>{let n=0;if(i){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(e)});return s.observe(i),()=>{window.cancelAnimationFrame(n),s.unobserve(i)}}},[i,e])}var eT=Vk,ej=Gk,nj=Qk;const nT=D.forwardRef(({className:i,children:t,...e},n)=>O.jsxs(eT,{ref:n,className:yn("relative overflow-hidden",i),...e,children:[O.jsx(ej,{className:"h-full w-full rounded-[inherit]",children:t}),O.jsx(iT,{}),O.jsx(nj,{})]}));nT.displayName=eT.displayName;const iT=D.forwardRef(({className:i,orientation:t="vertical",...e},n)=>O.jsx(Nx,{ref:n,orientation:t,className:yn("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",i),...e,children:O.jsx(Kk,{className:"relative flex-1 rounded-full bg-border"})}));iT.displayName=Nx.displayName;var Sm=(i=>(i.Mobile="Mobile",i.Web="Web",i.Work="Work",i))(Sm||{});const lb=[{project:"Mobile",name:"RF Infinite Assetsment",picture:["./Images/Mobile/Contact/1.png","./Images/Mobile/Contact/2.png","./Images/Mobile/Contact/3.png","./Images/Mobile/Contact/4.png","./Images/Mobile/Contact/5.png","./Images/Mobile/Contact/6.png","./Images/Mobile/Contact/7.png","./Images/Mobile/Contact/8.png","./Images/Mobile/Contact/9.png","./Images/Mobile/Contact/10.png"]},{project:"Mobile",name:"FYP Natural Hazard Mobile",picture:["./Images/Mobile/natural_hazard_hub/1.png","./Images/Mobile/natural_hazard_hub/2.png","./Images/Mobile/natural_hazard_hub/3.png","./Images/Mobile/natural_hazard_hub/4.png","./Images/Mobile/natural_hazard_hub/5.png","./Images/Mobile/natural_hazard_hub/6.png","./Images/Mobile/natural_hazard_hub/7.png","./Images/Mobile/natural_hazard_hub/8.png","./Images/Mobile/natural_hazard_hub/9.png","./Images/Mobile/natural_hazard_hub/10.png","./Images/Mobile/natural_hazard_hub/11.png","./Images/Mobile/natural_hazard_hub/12.png","./Images/Mobile/natural_hazard_hub/13.png","./Images/Mobile/natural_hazard_hub/14.png","./Images/Mobile/natural_hazard_hub/15.png","./Images/Mobile/natural_hazard_hub/16.png"]},{project:"Web",name:"FYP Natural Hazard Web",picture:["./Images/Web/natural_hazard_hub/1.jpg","./Images/Web/natural_hazard_hub/2.jpg","./Images/Web/natural_hazard_hub/3.jpg","./Images/Web/natural_hazard_hub/4.jpg","./Images/Web/natural_hazard_hub/5.jpg","./Images/Web/natural_hazard_hub/6.jpg"]}],ij=()=>{const[i,t]=D.useState(lb.length>0?lb[0]:null),e=lb.reduce((n,s)=>(n[s.project]||(n[s.project]=[]),n[s.project].push(s),n),{});return O.jsxs("div",{className:"flex flex-col md:flex-row max-w-7xl mx-auto rounded-lg bg-white bg-opacity-5 min-h-[600px]",children:[O.jsx("div",{className:"w-full md:w-[30%] lg:w-[25%]  bg-white bg-opacity-5 shadow-md rounded-lg ",children:O.jsx(nT,{className:"w-full h-full",children:O.jsx("div",{className:"p-4",children:Object.entries(e).map(([n,s])=>O.jsxs("div",{className:"mb-4",children:[O.jsxs("h3",{className:"pb-1 mb-2 text-lg font-semibold border-b text-cyan-50",children:[n," Projects"]}),s.map(r=>O.jsxs("div",{onClick:()=>t(r),className:`
                      cursor-pointer p-3 mb-2 rounded-lg transition-all duration-200
                      ${(i==null?void 0:i.name)===r.name?"bg-dark  text-white":"hover:bg-dark hover:text-white text-white"}
                    `,children:[O.jsx("h4",{className:"font-medium",children:r.name}),O.jsx("p",{className:"text-sm text-gray-500 truncate",children:r.description})]},r.name))]},n))})})}),O.jsx("div",{className:`
          w-full md:w-[70%] lg:w-[75%] p-4 flex flex-col 
          ${(i==null?void 0:i.project)===Sm.Mobile?"items-center justify-center":"items-start"}
        `,children:i&&O.jsxs("div",{className:`
              bg-white shadow-lg rounded-lg overflow-hidden
              ${i.project===Sm.Mobile?"w-[300px] max-w-[90%]":"w-full"}
            `,children:[O.jsxs(jk,{children:[O.jsx(zk,{children:i.picture.map((n,s)=>O.jsx(Hk,{children:O.jsx("div",{className:"relative w-full ",children:O.jsx("img",{src:n,alt:`${i.name} project image ${s+1}`,className:`
                          object-cover w-full h-full
                          ${i.project===Sm.Mobile?"object-contain":"object-cover"}
                        `})})},s))}),O.jsx(Bk,{className:"left-2"}),O.jsx(Wk,{className:"right-2"})]}),O.jsxs("div",{className:"p-4",children:[O.jsx("h2",{className:"mb-2 text-xl font-bold",children:i.name}),O.jsx("p",{className:"text-gray-700",children:i.description})]})]})})]})};Wy.register(Pd,B2,I2);const sj={labels:["Flutter","React Native","React Js","Laravel","Jetpack Compose"],datasets:[{label:"# of Votes",data:[40,25,20,10,5],backgroundColor:["rgba(27, 217, 242, 0.2)","rgba(122, 240, 255, 0.2)","rgba(0, 137, 231, 0.2)","rgba(219,0, 0, 0.2)","rgba(57, 184, 79, 0.2)"],borderColor:["rgba(27, 217, 242, 1)","rgba(122, 240, 255, 1)","rgba(0, 137, 231, 1)","rgba(219,0, 0, 1)","rgba(57, 184, 79, 1)"],borderWidth:1}]},rj={plugins:{legend:{labels:{color:"white",font:{}}},tooltip:{callbacks:{label:function(i){const t=i.dataset,e=t.data.reduce((r,a)=>r+a,0),s=(t.data[i.dataIndex]/e*100).toFixed(2);return`${i.label}: ${s}%`}}}}},oj=()=>{const{profile:i,setProfile:t}=qI(),{data:e,isLoading:n,isError:s,error:r}=TD({queryKey:["profile"],queryFn:XI,retry:2}),a=c=>{window.open(c,"_blank")};return oi.useEffect(()=>{e&&t(e)},[e,t]),n?O.jsx("div",{children:"Loading..."}):s?O.jsxs("div",{className:"text-red-500",children:[O.jsx("h2",{children:"Error loading profile"}),O.jsx("p",{children:r.message})]}):O.jsxs("div",{className:"p-4 md:p-10",children:[O.jsxs("div",{className:"relative flex w-full min-h-[500px] gap-8 max-lg:flex-col-reverse overflow-x-hidden justify-between items-center",children:[O.jsxs("div",{className:"flex flex-col w-full space-y-4",children:[O.jsxs("div",{className:"space-y-2",children:[O.jsx("h1",{className:"text-2xl font-bold truncate sm:text-3xl lg:text-6xl text-card",children:"Nice to meet you!"}),O.jsxs("h1",{className:"text-2xl font-bold truncate sm:text-3xl lg:text-6xl text-card",children:["I'm ",i==null?void 0:i.name,"."]}),O.jsx("div",{className:"w-20 sm:w-[80%] lg:w-[90%] bg-white h-1 my-4"}),O.jsxs("h1",{className:"text-2xl font-bold truncate sm:text-3xl lg:text-4xl text-card",children:["I'm a ",i==null?void 0:i.title,"."]})]}),O.jsx("div",{className:"w-full lg:w-[90%] rounded-lg shadow-lg overflow-hidden",children:O.jsxs("div",{className:"flex flex-col gap-6 p-6 lg:flex-row",children:[O.jsx("div",{className:"w-full lg:w-1/2 h-[300px] flex items-center justify-center",children:O.jsx(K2,{data:sj,options:rj})}),O.jsxs("div",{className:"w-full space-y-3 text-center lg:w-1/2 lg:text-left",children:[O.jsx("p",{className:"text-lg font-semibold bg-white ",children:i==null?void 0:i.title}),O.jsx("p",{className:"text-white text-md",children:i==null?void 0:i.location}),O.jsx("div",{className:"space-y-2",children:i==null?void 0:i.education.map((c,u)=>O.jsx("p",{className:"text-sm text-white md:text-base",children:c},u))}),O.jsxs("div",{className:"flex flex-col display",children:[O.jsx(ac,{onClick:()=>a("./pdf/degree.pdf"),className:"lg:max-w-min",variant:"outline",children:"View Diploma Transcript"}),O.jsx("div",{className:"mt-5"}),O.jsx(ac,{onClick:()=>a("./pdf/diploma.pdf"),className:"lg:max-w-min",variant:"outline",children:"View Degree Transcript"})]})]})]})})]}),O.jsx("img",{className:"w-[280px] h-[350px] md:w-[400px] md:h-[500px] object-cover rounded-lg shadow-lg",src:i==null?void 0:i.profileImage,alt:"Profile"})]}),O.jsx(rN,{}),O.jsx("h1",{className:"p-6 mt-8 mb-6 text-4xl font-bold text-white md:text-5xl",children:"My Personal Project, Client and Work"}),O.jsx("div",{className:"container px-4 py-8 mx-auto",children:O.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[O.jsx("div",{className:"w-full",children:O.jsx(oN,{})}),O.jsx("div",{className:"w-full",children:O.jsx(ij,{})})]})})]})},sT=D.forwardRef(({className:i,...t},e)=>O.jsx("div",{ref:e,className:yn("rounded-xl border bg-card text-card-foreground shadow",i),...t}));sT.displayName="Card";const rT=D.forwardRef(({className:i,...t},e)=>O.jsx("div",{ref:e,className:yn("flex flex-col space-y-1.5 p-6",i),...t}));rT.displayName="CardHeader";const oT=D.forwardRef(({className:i,...t},e)=>O.jsx("div",{ref:e,className:yn("font-semibold leading-none tracking-tight",i),...t}));oT.displayName="CardTitle";const aj=D.forwardRef(({className:i,...t},e)=>O.jsx("div",{ref:e,className:yn("text-sm text-muted-foreground",i),...t}));aj.displayName="CardDescription";const aT=D.forwardRef(({className:i,...t},e)=>O.jsx("div",{ref:e,className:yn("p-6 pt-0",i),...t}));aT.displayName="CardContent";const lj=D.forwardRef(({className:i,...t},e)=>O.jsx("div",{ref:e,className:yn("flex items-center p-6 pt-0",i),...t}));lj.displayName="CardFooter";const cj="modulepreload",uj=function(i){return"/"+i},bE={},pm=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(e.map(u=>{if(u=uj(u),u in bE)return;bE[u]=!0;const h=u.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":cj,h||(g.as="script"),g.crossOrigin="",g.href=u,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((y,b)=>{g.addEventListener("load",y),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&r(c.reason);return t().catch(r)})};var tf={};tf.d=(i,t)=>{for(var e in t)tf.o(t,e)&&!tf.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:t[e]})};tf.o=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var Dt=globalThis.pdfjsLib={};tf.d(Dt,{AbortException:()=>mc,AnnotationEditorLayer:()=>Jw,AnnotationEditorParamsType:()=>It,AnnotationEditorType:()=>Nt,AnnotationEditorUIManager:()=>cc,AnnotationLayer:()=>lH,AnnotationMode:()=>Do,ColorPicker:()=>by,DOMSVGFactory:()=>Qx,DrawLayer:()=>nx,FeatureTest:()=>Wn,GlobalWorkerOptions:()=>to,ImageKind:()=>Am,InvalidPDFException:()=>cT,MissingPDFException:()=>gc,OPS:()=>as,OutputScale:()=>$b,PDFDataRangeTransport:()=>rP,PDFDateString:()=>Vx,PDFWorker:()=>iu,PasswordResponses:()=>pj,PermissionFlag:()=>fj,PixelsPerInch:()=>ba,RenderingCancelledException:()=>Wx,TextLayer:()=>bw,UnexpectedResponseException:()=>Qy,Util:()=>St,VerbosityLevel:()=>qy,XfaLayer:()=>aP,build:()=>Wz,createValidAbsoluteUrl:()=>vj,fetchData:()=>Zy,getDocument:()=>Iz,getFilenameFromUrl:()=>kj,getPdfFilenameFromUrl:()=>Tj,getXfaPageViewport:()=>Pj,isDataScheme:()=>tv,isPdfFile:()=>Ux,noContextMenu:()=>Yi,normalizeUnicode:()=>Aj,setLayerDimensions:()=>lc,shadow:()=>$t,version:()=>Bz});const Ln=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),lT=[1,0,0,1,0,0],Bb=[.001,0,0,.001,0,0],hj=1e7,cb=1.35,ki={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Do={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},dj="pdfjs_internal_editor_",Nt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},It={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},fj={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},An={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Am={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},We={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},xd={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},qy={ERRORS:0,WARNINGS:1,INFOS:5},as={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},pj={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Yy=qy.WARNINGS;function gj(i){Number.isInteger(i)&&(Yy=i)}function mj(){return Yy}function Ky(i){Yy>=qy.INFOS&&console.log(`Info: ${i}`)}function zt(i){Yy>=qy.WARNINGS&&console.log(`Warning: ${i}`)}function ge(i){throw new Error(i)}function Ge(i,t){i||ge(t)}function yj(i){switch(i==null?void 0:i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function vj(i,t=null,e=null){if(!i)return null;try{if(e&&typeof i=="string"){if(e.addDefaultProtocol&&i.startsWith("www.")){const s=i.match(/\./g);(s==null?void 0:s.length)>=2&&(i=`http://${i}`)}if(e.tryConvertEncoding)try{i=Sj(i)}catch{}}const n=t?new URL(i,t):new URL(i);if(yj(n))return n}catch{}return null}function $t(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Sa=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class Wb extends Sa{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Ub extends Sa{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class cT extends Sa{constructor(t){super(t,"InvalidPDFException")}}class gc extends Sa{constructor(t){super(t,"MissingPDFException")}}class Qy extends Sa{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class bj extends Sa{constructor(t){super(t,"FormatError")}}class mc extends Sa{constructor(t){super(t,"AbortException")}}function uT(i){(typeof i!="object"||(i==null?void 0:i.length)===void 0)&&ge("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let s=0;s<t;s+=e){const r=Math.min(s+e,t),a=i.subarray(s,r);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function Jy(i){typeof i!="string"&&ge("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function wj(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function Hx(i){const t=Object.create(null);for(const[e,n]of i)t[e]=n;return t}function xj(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function _j(){try{return new Function(""),!0}catch{return!1}}class Wn{static get isLittleEndian(){return $t(this,"isLittleEndian",xj())}static get isEvalSupported(){return $t(this,"isEvalSupported",_j())}static get isOffscreenCanvasSupported(){return $t(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?$t(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):$t(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return $t(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const ub=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var no,Em,Vb;class St{static makeHexColor(t,e,n){return`#${ub[t]}${ub[e]}${ub[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],s=t[0]*e[1]+t[1]*e[3]+e[5];return[n,s]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],s=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,r=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[s,r]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),s=this.applyTransform(t.slice(2,4),e),r=this.applyTransform([t[0],t[3]],e),a=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],s[0],r[0],a[0]),Math.min(n[1],s[1],r[1],a[1]),Math.max(n[0],s[0],r[0],a[0]),Math.max(n[1],s[1],r[1],a[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],s=t[0]*e[1]+t[1]*e[3],r=t[2]*e[0]+t[3]*e[2],a=t[2]*e[1]+t[3]*e[3],c=(n+a)/2,u=Math.sqrt((n+a)**2-4*(n*a-r*s))/2,h=c+u||1,p=c-u||1;return[Math.sqrt(h),Math.sqrt(p)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>s)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>a?null:[n,r,s,a]}static bezierBoundingBox(t,e,n,s,r,a,c,u,h){return h?(h[0]=Math.min(h[0],t,c),h[1]=Math.min(h[1],e,u),h[2]=Math.max(h[2],t,c),h[3]=Math.max(h[3],e,u)):h=[Math.min(t,c),Math.min(e,u),Math.max(t,c),Math.max(e,u)],C(this,no,Vb).call(this,t,n,r,c,e,s,a,u,3*(-t+3*(n-r)+c),6*(t-2*n+r),3*(n-t),h),C(this,no,Vb).call(this,t,n,r,c,e,s,a,u,3*(-e+3*(s-a)+u),6*(e-2*s+a),3*(s-e),h),h}}no=new WeakSet,Em=function(t,e,n,s,r,a,c,u,h,p){if(h<=0||h>=1)return;const g=1-h,y=h*h,b=y*h,w=g*(g*(g*t+3*h*e)+3*y*n)+b*s,x=g*(g*(g*r+3*h*a)+3*y*c)+b*u;p[0]=Math.min(p[0],w),p[1]=Math.min(p[1],x),p[2]=Math.max(p[2],w),p[3]=Math.max(p[3],x)},Vb=function(t,e,n,s,r,a,c,u,h,p,g,y){if(Math.abs(h)<1e-12){Math.abs(p)>=1e-12&&C(this,no,Em).call(this,t,e,n,s,r,a,c,u,-g/p,y);return}const b=p**2-4*g*h;if(b<0)return;const w=Math.sqrt(b),x=2*h;C(this,no,Em).call(this,t,e,n,s,r,a,c,u,(-p+w)/x,y),C(this,no,Em).call(this,t,e,n,s,r,a,c,u,(-p-w)/x,y)},T(St,no);function Sj(i){return decodeURIComponent(escape(i))}let hb=null,wE=null;function Aj(i){return hb||(hb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,wE=new Map([["ﬅ","ſt"]])),i.replaceAll(hb,(t,e,n)=>e?e.normalize("NFKC"):wE.get(n))}function Ej(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const i=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(i);else for(let t=0;t<32;t++)i[t]=Math.floor(Math.random()*255);return uT(i)}const Bx="pdfjs_internal_id_",xr={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function Cj(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(uT(i))}const Cr="http://www.w3.org/2000/svg",Ka=class Ka{};lt(Ka,"CSS",96),lt(Ka,"PDF",72),lt(Ka,"PDF_TO_CSS_UNITS",Ka.CSS/Ka.PDF);let ba=Ka;async function Zy(i,t="text"){if(Ld(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const s=new XMLHttpRequest;s.open("GET",i,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class jp{constructor({viewBox:t,scale:e,rotation:n,offsetX:s=0,offsetY:r=0,dontFlip:a=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=s,this.offsetY=r;const c=(t[2]+t[0])/2,u=(t[3]+t[1])/2;let h,p,g,y;switch(n%=360,n<0&&(n+=360),n){case 180:h=-1,p=0,g=0,y=1;break;case 90:h=0,p=1,g=1,y=0;break;case 270:h=0,p=-1,g=-1,y=0;break;case 0:h=1,p=0,g=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(g=-g,y=-y);let b,w,x,A;h===0?(b=Math.abs(u-t[1])*e+s,w=Math.abs(c-t[0])*e+r,x=(t[3]-t[1])*e,A=(t[2]-t[0])*e):(b=Math.abs(c-t[0])*e+s,w=Math.abs(u-t[1])*e+r,x=(t[2]-t[0])*e,A=(t[3]-t[1])*e),this.transform=[h*e,p*e,g*e,y*e,b-h*e*c-g*e*u,w-p*e*c-y*e*u],this.width=x,this.height=A}get rawDims(){const{viewBox:t}=this;return $t(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new jp({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:r})}convertToViewportPoint(t,e){return St.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=St.applyTransform([t[0],t[1]],this.transform),n=St.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return St.applyInverseTransform([t,e],this.transform)}}class Wx extends Sa{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function tv(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function Ux(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function kj(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function Tj(i,t="document.pdf"){if(typeof i!="string")return t;if(tv(i))return zt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=e.exec(i);let r=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch{}return r||t}class xE{constructor(){lt(this,"started",Object.create(null));lt(this,"times",[])}time(t){t in this.started&&zt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||zt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:s,end:r}of this.times)t.push(`${n.padEnd(e)} ${r-s}ms
`);return t.join("")}}function Ld(i,t){try{const{protocol:e}=t?new URL(i,t):new URL(i);return e==="http:"||e==="https:"}catch{return!1}}function Yi(i){i.preventDefault()}function _E(i){console.log("Deprecated API usage: "+i)}var bf;class Vx{static toDateObject(t){if(!t||typeof t!="string")return null;d(this,bf)||E(this,bf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=d(this,bf).exec(t);if(!e)return null;const n=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let u=parseInt(e[6],10);u=u>=0&&u<=59?u:0;const h=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(e[9],10)||0;return g=g>=0&&g<=59?g:0,h==="-"?(a+=p,c+=g):h==="+"&&(a-=p,c-=g),new Date(Date.UTC(n,s,r,a,c,u))}}bf=new WeakMap,T(Vx,bf);function Pj(i,{scale:t=1,rotation:e=0}){const{width:n,height:s}=i.attributes.style,r=[0,0,parseInt(n),parseInt(s)];return new jp({viewBox:r,scale:t,rotation:e})}function $x(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(zt(`Not a valid color format: "${i}"`),[0,0,0])}function Rj(i){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,$x(n))}t.remove()}function Se(i){const{a:t,b:e,c:n,d:s,e:r,f:a}=i.getTransform();return[t,e,n,s,r,a]}function _r(i){const{a:t,b:e,c:n,d:s,e:r,f:a}=i.getTransform().invertSelf();return[t,e,n,s,r,a]}function lc(i,t,e=!1,n=!0){if(t instanceof jp){const{pageWidth:s,pageHeight:r}=t.rawDims,{style:a}=i,c=Wn.isCSSRoundSupported,u=`var(--scale-factor) * ${s}px`,h=`var(--scale-factor) * ${r}px`,p=c?`round(down, ${u}, var(--scale-round-x, 1px))`:`calc(${u})`,g=c?`round(down, ${h}, var(--scale-round-y, 1px))`:`calc(${h})`;!e||t.rotation%180===0?(a.width=p,a.height=g):(a.width=g,a.height=p)}n&&i.setAttribute("data-main-rotation",t.rotation)}class $b{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Wo,ol,cs,al,wf,xf,xy,hT,Un,dT,fT,Cm,pT,Xb;const kr=class kr{constructor(t){T(this,Un);T(this,Wo,null);T(this,ol,null);T(this,cs);T(this,al,null);T(this,wf,null);E(this,cs,t),d(kr,xf)||E(kr,xf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=E(this,Wo,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=d(this,cs)._uiManager._signal;t.addEventListener("contextmenu",Yi,{signal:e}),t.addEventListener("pointerdown",C(kr,xy,hT),{signal:e});const n=E(this,al,document.createElement("div"));n.className="buttons",t.append(n);const s=d(this,cs).toolbarPosition;if(s){const{style:r}=t,a=d(this,cs)._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*a}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return C(this,Un,pT).call(this),t}get div(){return d(this,Wo)}hide(){var t;d(this,Wo).classList.add("hidden"),(t=d(this,ol))==null||t.hideDropdown()}show(){var t;d(this,Wo).classList.remove("hidden"),(t=d(this,wf))==null||t.shown()}async addAltText(t){const e=await t.render();C(this,Un,Cm).call(this,e),d(this,al).prepend(e,d(this,Un,Xb)),E(this,wf,t)}addColorPicker(t){E(this,ol,t);const e=t.renderButton();C(this,Un,Cm).call(this,e),d(this,al).prepend(e,d(this,Un,Xb))}remove(){var t;d(this,Wo).remove(),(t=d(this,ol))==null||t.destroy(),E(this,ol,null)}};Wo=new WeakMap,ol=new WeakMap,cs=new WeakMap,al=new WeakMap,wf=new WeakMap,xf=new WeakMap,xy=new WeakSet,hT=function(t){t.stopPropagation()},Un=new WeakSet,dT=function(t){d(this,cs)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},fT=function(t){d(this,cs)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Cm=function(t){const e=d(this,cs)._uiManager._signal;t.addEventListener("focusin",C(this,Un,dT).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",C(this,Un,fT).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Yi,{signal:e})},pT=function(){const{editorType:t,_uiManager:e}=d(this,cs),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",d(kr,xf)[t]),C(this,Un,Cm).call(this,n),n.addEventListener("click",s=>{e.delete()},{signal:e._signal}),d(this,al).append(n)},Xb=function(){const t=document.createElement("div");return t.className="divider",t},T(kr,xy),T(kr,xf,null);let Gb=kr;var _f,ll,cl,xa,gT,mT,yT;class Mj{constructor(t){T(this,xa);T(this,_f,null);T(this,ll,null);T(this,cl);E(this,cl,t)}show(t,e,n){const[s,r]=C(this,xa,mT).call(this,e,n),{style:a}=d(this,ll)||E(this,ll,C(this,xa,gT).call(this));t.append(d(this,ll)),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,ll).remove()}}_f=new WeakMap,ll=new WeakMap,cl=new WeakMap,xa=new WeakSet,gT=function(){const t=E(this,ll,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Yi,{signal:d(this,cl)._signal});const e=E(this,_f,document.createElement("div"));return e.className="buttons",t.append(e),C(this,xa,yT).call(this),t},mT=function(t,e){let n=0,s=0;for(const r of t){const a=r.y+r.height;if(a<n)continue;const c=r.x+(e?r.width:0);if(a>n){s=c,n=a;continue}e?c>s&&(s=c):c<s&&(s=c)}return[e?1-s:s,n]},yT=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=d(this,cl)._signal;t.addEventListener("contextmenu",Yi,{signal:n}),t.addEventListener("click",()=>{d(this,cl).highlightSelection("floating_button")},{signal:n}),d(this,_f).append(t)};function my(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}function Lj(i){return Math.round(Math.min(255,Math.max(1,255*i))).toString(16).padStart(2,"0")}var _y;class Ij{constructor(){T(this,_y,0)}get id(){return`${dj}${Je(this,_y)._++}`}}_y=new WeakMap;var bu,Sf,kn,wu,km;const t_=class t_{constructor(){T(this,wu);T(this,bu,Ej());T(this,Sf,0);T(this,kn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const r=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return $t(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:e,name:n,size:s,type:r}=t;return C(this,wu,km).call(this,`${e}_${n}_${s}_${r}`,t)}async getFromUrl(t){return C(this,wu,km).call(this,t,t)}async getFromBlob(t,e){const n=await e;return C(this,wu,km).call(this,t,n)}async getFromId(t){d(this,kn)||E(this,kn,new Map);const e=d(this,kn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){d(this,kn)||E(this,kn,new Map);let n=d(this,kn).get(t);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${d(this,bu)}_${Je(this,Sf)._++}`,refCounter:1,isSvg:!1},d(this,kn).set(t,n),d(this,kn).set(n.id,n),n}getSvgUrl(t){const e=d(this,kn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var s;d(this,kn)||E(this,kn,new Map);const e=d(this,kn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}(s=n.close)==null||s.call(n),e.bitmap=null}isValidId(t){return t.startsWith(`image_${d(this,bu)}_`)}};bu=new WeakMap,Sf=new WeakMap,kn=new WeakMap,wu=new WeakSet,km=async function(t,e){d(this,kn)||E(this,kn,new Map);let n=d(this,kn).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${d(this,bu)}_${Je(this,Sf)._++}`,refCounter:0,isSvg:!1});let s;if(typeof e=="string"?(n.url=e,s=await Zy(e,"blob")):e instanceof File?s=n.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const r=t_._isSVGFittingCanvas,a=new FileReader,c=new Image,u=new Promise((h,p)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,h()},a.onload=async()=>{const g=n.svgUrl=a.result;c.src=await r?`${g}#svgView(preserveAspectRatio(none))`:g},c.onerror=a.onerror=p});a.readAsDataURL(s),await u}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){console.error(s),n=null}return d(this,kn).set(t,n),n&&d(this,kn).set(n.id,n),n};let qb=t_;var tn,Uo,Af,en;class Dj{constructor(t=128){T(this,tn,[]);T(this,Uo,!1);T(this,Af);T(this,en,-1);E(this,Af,t)}add({cmd:t,undo:e,post:n,mustExec:s,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:c=!1}){if(s&&t(),d(this,Uo))return;const u={cmd:t,undo:e,post:n,type:r};if(d(this,en)===-1){d(this,tn).length>0&&(d(this,tn).length=0),E(this,en,0),d(this,tn).push(u);return}if(a&&d(this,tn)[d(this,en)].type===r){c&&(u.undo=d(this,tn)[d(this,en)].undo),d(this,tn)[d(this,en)]=u;return}const h=d(this,en)+1;h===d(this,Af)?d(this,tn).splice(0,1):(E(this,en,h),h<d(this,tn).length&&d(this,tn).splice(h)),d(this,tn).push(u)}undo(){if(d(this,en)===-1)return;E(this,Uo,!0);const{undo:t,post:e}=d(this,tn)[d(this,en)];t(),e==null||e(),E(this,Uo,!1),E(this,en,d(this,en)-1)}redo(){if(d(this,en)<d(this,tn).length-1){E(this,en,d(this,en)+1),E(this,Uo,!0);const{cmd:t,post:e}=d(this,tn)[d(this,en)];t(),e==null||e(),E(this,Uo,!1)}}hasSomethingToUndo(){return d(this,en)!==-1}hasSomethingToRedo(){return d(this,en)<d(this,tn).length-1}destroy(){E(this,tn,null)}}tn=new WeakMap,Uo=new WeakMap,Af=new WeakMap,en=new WeakMap;var Sy,vT;class zp{constructor(t){T(this,Sy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Wn.platform;for(const[n,s,r={}]of t)for(const a of n){const c=a.startsWith("mac+");e&&c?(this.callbacks.set(a.slice(4),{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1))):!e&&!c&&(this.callbacks.set(a,{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(C(this,Sy,vT).call(this,e));if(!n)return;const{callback:s,options:{bubbles:r=!1,args:a=[],checker:c=null}}=n;c&&!c(t,e)||(s.bind(t,...a,e)(),r||(e.stopPropagation(),e.preventDefault()))}}Sy=new WeakSet,vT=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Ay=class Ay{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return Rj(t),$t(this,"_colors",t)}convert(t){const e=$x(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,s]of this._colors)if(s.every((r,a)=>r===e[a]))return Ay._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?St.makeHexColor(...e):t}};lt(Ay,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Yb=Ay;var xu,bi,Ue,hn,_u,Rr,Su,us,Vo,Au,ul,Hs,hs,hl,Ef,Cf,Eu,kf,Bs,$o,Cu,Go,Ws,Ey,Xo,Tf,qo,dl,Pf,Rf,nn,ee,Mr,fl,Mf,Lf,Yo,Us,Lr,If,zi,ht,Tm,Kb,bT,wT,Pm,xT,_T,ST,Qb,AT,Jb,Zb,ET,Nn,Lo,CT,kT,tw,TT,Id,ew;const Jc=class Jc{constructor(t,e,n,s,r,a,c,u,h,p,g){T(this,ht);T(this,xu,new AbortController);T(this,bi,null);T(this,Ue,new Map);T(this,hn,new Map);T(this,_u,null);T(this,Rr,null);T(this,Su,null);T(this,us,new Dj);T(this,Vo,null);T(this,Au,0);T(this,ul,new Set);T(this,Hs,null);T(this,hs,null);T(this,hl,new Set);T(this,Ef,!1);T(this,Cf,!1);T(this,Eu,!1);T(this,kf,null);T(this,Bs,null);T(this,$o,null);T(this,Cu,null);T(this,Go,!1);T(this,Ws,null);T(this,Ey,new Ij);T(this,Xo,!1);T(this,Tf,!1);T(this,qo,null);T(this,dl,null);T(this,Pf,null);T(this,Rf,null);T(this,nn,Nt.NONE);T(this,ee,new Set);T(this,Mr,null);T(this,fl,null);T(this,Mf,null);T(this,Lf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});T(this,Yo,[0,0]);T(this,Us,null);T(this,Lr,null);T(this,If,null);T(this,zi,null);const y=this._signal=d(this,xu).signal;E(this,Lr,t),E(this,If,e),E(this,_u,n),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:y}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),s._on("setpreference",this.onSetPreference.bind(this),{signal:y}),s._on("switchannotationeditorparams",b=>this.updateParams(b.type,b.value),{signal:y}),C(this,ht,xT).call(this),C(this,ht,ET).call(this),C(this,ht,Qb).call(this),E(this,Rr,r.annotationStorage),E(this,kf,r.filterFactory),E(this,fl,a),E(this,Cu,c||null),E(this,Ef,u),E(this,Cf,h),E(this,Eu,p),E(this,Rf,g||null),this.viewParameters={realScale:ba.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Jc.prototype,e=a=>d(a,Lr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:c})=>{if(c instanceof HTMLInputElement){const{type:u}=c;return u!=="text"&&u!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return $t(this,"_keyboardManager",new zp([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:c})=>!(c instanceof HTMLButtonElement)&&d(a,Lr).contains(c)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:c})=>!(c instanceof HTMLButtonElement)&&d(a,Lr).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e,n,s;(t=d(this,zi))==null||t.resolve(),E(this,zi,null),(e=d(this,xu))==null||e.abort(),E(this,xu,null),this._signal=null;for(const r of d(this,hn).values())r.destroy();d(this,hn).clear(),d(this,Ue).clear(),d(this,hl).clear(),E(this,bi,null),d(this,ee).clear(),d(this,us).destroy(),(n=d(this,_u))==null||n.destroy(),(s=d(this,Ws))==null||s.hide(),E(this,Ws,null),d(this,Bs)&&(clearTimeout(d(this,Bs)),E(this,Bs,null)),d(this,Us)&&(clearTimeout(d(this,Us)),E(this,Us,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return d(this,Rf)}get useNewAltTextFlow(){return d(this,Cf)}get useNewAltTextWhenAddingImage(){return d(this,Eu)}get hcmFilter(){return $t(this,"hcmFilter",d(this,fl)?d(this,kf).addHCMFilter(d(this,fl).foreground,d(this,fl).background):"none")}get direction(){return $t(this,"direction",getComputedStyle(d(this,Lr)).direction)}get highlightColors(){return $t(this,"highlightColors",d(this,Cu)?new Map(d(this,Cu).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return $t(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){E(this,Pf,t)}editAltText(t,e=!1){var n;(n=d(this,_u))==null||n.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":E(this,Eu,e);break}}onPageChanging({pageNumber:t}){E(this,Au,t-1)}focusMainContainer(){d(this,Lr).focus()}findParent(t,e){for(const n of d(this,hn).values()){const{x:s,y:r,width:a,height:c}=n.div.getBoundingClientRect();if(t>=s&&t<=s+a&&e>=r&&e<=r+c)return n}return null}disableUserSelect(t=!1){d(this,If).classList.toggle("noUserSelect",t)}addShouldRescale(t){d(this,hl).add(t)}removeShouldRescale(t){d(this,hl).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*ba.PDF_TO_CSS_UNITS;for(const e of d(this,hl))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:a}=e,c=e.toString(),h=C(this,ht,Tm).call(this,e).closest(".textLayer"),p=this.getSelectionBoxes(h);if(!p)return;e.empty();const g=C(this,ht,Kb).call(this,h),y=d(this,nn)===Nt.NONE,b=()=>{g==null||g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:a,text:c}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(Nt.HIGHLIGHT,b);return}b()}addToAnnotationStorage(t){!t.isEmpty()&&d(this,Rr)&&!d(this,Rr).has(t.id)&&d(this,Rr).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,d(this,Go)&&(E(this,Go,!1),C(this,ht,Pm).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of d(this,ee))if(e.div.contains(t)){E(this,dl,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!d(this,dl))return;const[t,e]=d(this,dl);E(this,dl,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){C(this,ht,Qb).call(this),C(this,ht,Jb).call(this)}removeEditListeners(){C(this,ht,AT).call(this),C(this,ht,Zb).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of d(this,hs))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of d(this,hs))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=d(this,bi))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of d(this,ee)){const r=s.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const a of d(this,hs))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){zt(`paste: "${r.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const u of n){const h=await s.deserialize(u);if(!h)return;r.push(h)}const a=()=>{for(const u of r)C(this,ht,tw).call(this,u);C(this,ht,ew).call(this,r)},c=()=>{for(const u of r)u.remove()};this.addCommands({cmd:a,undo:c,mustExec:!0})}catch(r){zt(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,nn)!==Nt.NONE&&!this.isEditorHandlingKeyboard&&Jc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,Go)&&(E(this,Go,!1),C(this,ht,Pm).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(C(this,ht,_T).call(this),C(this,ht,Jb).call(this),C(this,ht,Nn).call(this,{isEditing:d(this,nn)!==Nt.NONE,isEmpty:C(this,ht,Id).call(this),hasSomethingToUndo:d(this,us).hasSomethingToUndo(),hasSomethingToRedo:d(this,us).hasSomethingToRedo(),hasSelectedEditor:!1})):(C(this,ht,ST).call(this),C(this,ht,Zb).call(this),C(this,ht,Nn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!d(this,hs)){E(this,hs,t);for(const e of d(this,hs))C(this,ht,Lo).call(this,e.defaultPropertiesToUpdate)}}getId(){return d(this,Ey).id}get currentLayer(){return d(this,hn).get(d(this,Au))}getLayer(t){return d(this,hn).get(t)}get currentPageIndex(){return d(this,Au)}addLayer(t){d(this,hn).set(t.pageIndex,t),d(this,Xo)?t.enable():t.disable()}removeLayer(t){d(this,hn).delete(t.pageIndex)}async updateMode(t,e=null,n=!1){if(d(this,nn)!==t&&!(d(this,zi)&&(await d(this,zi).promise,!d(this,zi)))){if(E(this,zi,Promise.withResolvers()),E(this,nn,t),t===Nt.NONE){this.setEditingState(!1),C(this,ht,kT).call(this),d(this,zi).resolve();return}this.setEditingState(!0),await C(this,ht,CT).call(this),this.unselectAll();for(const s of d(this,hn).values())s.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),d(this,zi).resolve();return}for(const s of d(this,Ue).values())s.annotationElementId===e?(this.setSelected(s),s.enterInEditMode()):s.unselect();d(this,zi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==d(this,nn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(d(this,hs)){switch(t){case It.CREATE:this.currentLayer.addNewEditor();return;case It.HIGHLIGHT_DEFAULT_COLOR:(n=d(this,Pf))==null||n.updateColor(e);break;case It.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,Mf)||E(this,Mf,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const s of d(this,ee))s.updateParams(t,e);for(const s of d(this,hs))s.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var r;for(const a of d(this,Ue).values())a.editorType===t&&a.show(e);(((r=d(this,Mf))==null?void 0:r.get(It.HIGHLIGHT_SHOW_ALL))??!0)!==e&&C(this,ht,Lo).call(this,[[It.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(d(this,Tf)!==t){E(this,Tf,t);for(const e of d(this,hn).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of d(this,Ue).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return d(this,Ue).get(t)}addEditor(t){d(this,Ue).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(d(this,Bs)&&clearTimeout(d(this,Bs)),E(this,Bs,setTimeout(()=>{this.focusMainContainer(),E(this,Bs,null)},0))),d(this,Ue).delete(t.id),this.unselect(t),(!t.annotationElementId||!d(this,ul).has(t.annotationElementId))&&((e=d(this,Rr))==null||e.remove(t.id))}addDeletedAnnotationElement(t){d(this,ul).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return d(this,ul).has(t)}removeDeletedAnnotationElement(t){d(this,ul).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){d(this,bi)!==t&&(E(this,bi,t),t&&C(this,ht,Lo).call(this,t.propertiesToUpdate))}updateUI(t){d(this,ht,TT)===t&&C(this,ht,Lo).call(this,t.propertiesToUpdate)}toggleSelected(t){if(d(this,ee).has(t)){d(this,ee).delete(t),t.unselect(),C(this,ht,Nn).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,ee).add(t),t.select(),C(this,ht,Lo).call(this,t.propertiesToUpdate),C(this,ht,Nn).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of d(this,ee))e!==t&&e.unselect();d(this,ee).clear(),d(this,ee).add(t),t.select(),C(this,ht,Lo).call(this,t.propertiesToUpdate),C(this,ht,Nn).call(this,{hasSelectedEditor:!0})}isSelected(t){return d(this,ee).has(t)}get firstSelectedEditor(){return d(this,ee).values().next().value}unselect(t){t.unselect(),d(this,ee).delete(t),C(this,ht,Nn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,ee).size!==0}get isEnterHandled(){return d(this,ee).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){d(this,us).undo(),C(this,ht,Nn).call(this,{hasSomethingToUndo:d(this,us).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:C(this,ht,Id).call(this)})}redo(){d(this,us).redo(),C(this,ht,Nn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,us).hasSomethingToRedo(),isEmpty:C(this,ht,Id).call(this)})}addCommands(t){d(this,us).add(t),C(this,ht,Nn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:C(this,ht,Id).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...d(this,ee)],e=()=>{for(const s of t)s.remove()},n=()=>{for(const s of t)C(this,ht,tw).call(this,s)};this.addCommands({cmd:e,undo:n,mustExec:!0})}commitOrRemove(){var t;(t=d(this,bi))==null||t.commitOrRemove()}hasSomethingToControl(){return d(this,bi)||this.hasSelection}selectAll(){for(const t of d(this,ee))t.commit();C(this,ht,ew).call(this,d(this,Ue).values())}unselectAll(){if(!(d(this,bi)&&(d(this,bi).commitOrRemove(),d(this,nn)!==Nt.NONE))&&this.hasSelection){for(const t of d(this,ee))t.unselect();d(this,ee).clear(),C(this,ht,Nn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;d(this,Yo)[0]+=t,d(this,Yo)[1]+=e;const[s,r]=d(this,Yo),a=[...d(this,ee)],c=1e3;d(this,Us)&&clearTimeout(d(this,Us)),E(this,Us,setTimeout(()=>{E(this,Us,null),d(this,Yo)[0]=d(this,Yo)[1]=0,this.addCommands({cmd:()=>{for(const u of a)d(this,Ue).has(u.id)&&u.translateInPage(s,r)},undo:()=>{for(const u of a)d(this,Ue).has(u.id)&&u.translateInPage(-s,-r)},mustExec:!1})},c));for(const u of a)u.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,Hs,new Map);for(const t of d(this,ee))d(this,Hs).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,Hs))return!1;this.disableUserSelect(!1);const t=d(this,Hs);E(this,Hs,null);let e=!1;for(const[{x:s,y:r,pageIndex:a},c]of t)c.newX=s,c.newY=r,c.newPageIndex=a,e||(e=s!==c.savedX||r!==c.savedY||a!==c.savedPageIndex);if(!e)return!1;const n=(s,r,a,c)=>{if(d(this,Ue).has(s.id)){const u=d(this,hn).get(c);u?s._setParentAndPosition(u,r,a):(s.pageIndex=c,s.x=r,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:a,newPageIndex:c}]of t)n(s,r,a,c)},undo:()=>{for(const[s,{savedX:r,savedY:a,savedPageIndex:c}]of t)n(s,r,a,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(d(this,Hs))for(const n of d(this,Hs).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||d(this,ee).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return d(this,bi)===t}getActive(){return d(this,bi)}getMode(){return d(this,nn)}get imageManager(){return $t(this,"imageManager",new qb)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let h=0,p=e.rangeCount;h<p;h++)if(!t.contains(e.getRangeAt(h).commonAncestorContainer))return null;const{x:n,y:s,width:r,height:a}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(h,p,g,y)=>({x:(p-s)/a,y:1-(h+g-n)/r,width:y/a,height:g/r});break;case"180":c=(h,p,g,y)=>({x:1-(h+g-n)/r,y:1-(p+y-s)/a,width:g/r,height:y/a});break;case"270":c=(h,p,g,y)=>({x:1-(p+y-s)/a,y:(h-n)/r,width:y/a,height:g/r});break;default:c=(h,p,g,y)=>({x:(h-n)/r,y:(p-s)/a,width:g/r,height:y/a});break}const u=[];for(let h=0,p=e.rangeCount;h<p;h++){const g=e.getRangeAt(h);if(!g.collapsed)for(const{x:y,y:b,width:w,height:x}of g.getClientRects())w===0||x===0||u.push(c(y,b,w,x))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:t,id:e}){(d(this,Su)||E(this,Su,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=d(this,Su))==null||e.delete(t)}renderAnnotationElement(t){var s;const e=(s=d(this,Su))==null?void 0:s.get(t.data.id);if(!e)return;const n=d(this,Rr).getRawValue(e);n&&(d(this,nn)===Nt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}};xu=new WeakMap,bi=new WeakMap,Ue=new WeakMap,hn=new WeakMap,_u=new WeakMap,Rr=new WeakMap,Su=new WeakMap,us=new WeakMap,Vo=new WeakMap,Au=new WeakMap,ul=new WeakMap,Hs=new WeakMap,hs=new WeakMap,hl=new WeakMap,Ef=new WeakMap,Cf=new WeakMap,Eu=new WeakMap,kf=new WeakMap,Bs=new WeakMap,$o=new WeakMap,Cu=new WeakMap,Go=new WeakMap,Ws=new WeakMap,Ey=new WeakMap,Xo=new WeakMap,Tf=new WeakMap,qo=new WeakMap,dl=new WeakMap,Pf=new WeakMap,Rf=new WeakMap,nn=new WeakMap,ee=new WeakMap,Mr=new WeakMap,fl=new WeakMap,Mf=new WeakMap,Lf=new WeakMap,Yo=new WeakMap,Us=new WeakMap,Lr=new WeakMap,If=new WeakMap,zi=new WeakMap,ht=new WeakSet,Tm=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Kb=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of d(this,hn).values())if(n.hasTextLayer(t))return n;return null},bT=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=C(this,ht,Tm).call(this,t).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(d(this,Ws)||E(this,Ws,new Mj(this)),d(this,Ws).show(n,s,this.direction==="ltr"))},wT=function(){var r,a,c;const t=document.getSelection();if(!t||t.isCollapsed){d(this,Mr)&&((r=d(this,Ws))==null||r.hide(),E(this,Mr,null),C(this,ht,Nn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===d(this,Mr))return;const s=C(this,ht,Tm).call(this,t).closest(".textLayer");if(!s){d(this,Mr)&&((a=d(this,Ws))==null||a.hide(),E(this,Mr,null),C(this,ht,Nn).call(this,{hasSelectedText:!1}));return}if((c=d(this,Ws))==null||c.hide(),E(this,Mr,e),C(this,ht,Nn).call(this,{hasSelectedText:!0}),!(d(this,nn)!==Nt.HIGHLIGHT&&d(this,nn)!==Nt.NONE)&&(d(this,nn)===Nt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,Go,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=d(this,nn)===Nt.HIGHLIGHT?C(this,ht,Kb).call(this,s):null;u==null||u.toggleDrawing();const h=new AbortController,p=this.combinedSignal(h),g=y=>{y.type==="pointerup"&&y.button!==0||(h.abort(),u==null||u.toggleDrawing(!0),y.type==="pointerup"&&C(this,ht,Pm).call(this,"main_toolbar"))};window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("blur",g,{signal:p})}},Pm=function(t=""){d(this,nn)===Nt.HIGHLIGHT?this.highlightSelection(t):d(this,Ef)&&C(this,ht,bT).call(this)},xT=function(){document.addEventListener("selectionchange",C(this,ht,wT).bind(this),{signal:this._signal})},_T=function(){if(d(this,$o))return;E(this,$o,new AbortController);const t=this.combinedSignal(d(this,$o));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},ST=function(){var t;(t=d(this,$o))==null||t.abort(),E(this,$o,null)},Qb=function(){if(d(this,qo))return;E(this,qo,new AbortController);const t=this.combinedSignal(d(this,qo));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},AT=function(){var t;(t=d(this,qo))==null||t.abort(),E(this,qo,null)},Jb=function(){if(d(this,Vo))return;E(this,Vo,new AbortController);const t=this.combinedSignal(d(this,Vo));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Zb=function(){var t;(t=d(this,Vo))==null||t.abort(),E(this,Vo,null)},ET=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Nn=function(t){Object.entries(t).some(([n,s])=>d(this,Lf)[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,Lf),t)}),d(this,nn)===Nt.HIGHLIGHT&&t.hasSelectedEditor===!1&&C(this,ht,Lo).call(this,[[It.HIGHLIGHT_FREE,!0]]))},Lo=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},CT=async function(){if(!d(this,Xo)){E(this,Xo,!0);const t=[];for(const e of d(this,hn).values())t.push(e.enable());await Promise.all(t);for(const e of d(this,Ue).values())e.enable()}},kT=function(){if(this.unselectAll(),d(this,Xo)){E(this,Xo,!1);for(const t of d(this,hn).values())t.disable();for(const t of d(this,Ue).values())t.disable()}},tw=function(t){const e=d(this,hn).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},TT=function(){let t=null;for(t of d(this,ee));return t},Id=function(){if(d(this,Ue).size===0)return!0;if(d(this,Ue).size===1)for(const t of d(this,Ue).values())return t.isEmpty();return!1},ew=function(t){for(const e of d(this,ee))e.unselect();d(this,ee).clear();for(const e of t)e.isEmpty()||(d(this,ee).add(e),e.select());C(this,ht,Nn).call(this,{hasSelectedEditor:this.hasSelection})},lt(Jc,"TRANSLATE_SMALL",1),lt(Jc,"TRANSLATE_BIG",10);let cc=Jc;var sn,Vs,ds,ku,$s,wi,Tu,Gs,ni,Ir,pl,Xs,Ko,Ss,Dd,Rm;const jn=class jn{constructor(t){T(this,Ss);T(this,sn,null);T(this,Vs,!1);T(this,ds,null);T(this,ku,null);T(this,$s,null);T(this,wi,null);T(this,Tu,!1);T(this,Gs,null);T(this,ni,null);T(this,Ir,null);T(this,pl,null);T(this,Xs,!1);E(this,ni,t),E(this,Xs,t._uiManager.useNewAltTextFlow),d(jn,Ko)||E(jn,Ko,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){jn._l10n??(jn._l10n=t)}async render(){const t=E(this,ds,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=E(this,ku,document.createElement("span"));t.append(e),d(this,Xs)?(t.classList.add("new"),t.setAttribute("data-l10n-id",d(jn,Ko).missing),e.setAttribute("data-l10n-id",d(jn,Ko)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=d(this,ni)._uiManager._signal;t.addEventListener("contextmenu",Yi,{signal:n}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const s=r=>{r.preventDefault(),d(this,ni)._uiManager.editAltText(d(this,ni)),d(this,Xs)&&d(this,ni)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,Ss,Dd)}})};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(E(this,Tu,!0),s(r))},{signal:n}),await C(this,Ss,Rm).call(this),t}finish(){d(this,ds)&&(d(this,ds).focus({focusVisible:d(this,Tu)}),E(this,Tu,!1))}isEmpty(){return d(this,Xs)?d(this,sn)===null:!d(this,sn)&&!d(this,Vs)}hasData(){return d(this,Xs)?d(this,sn)!==null||!!d(this,Ir):this.isEmpty()}get guessedText(){return d(this,Ir)}async setGuessedText(t){d(this,sn)===null&&(E(this,Ir,t),E(this,pl,await jn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),C(this,Ss,Rm).call(this))}toggleAltTextBadge(t=!1){var e;if(!d(this,Xs)||d(this,sn)){(e=d(this,Gs))==null||e.remove(),E(this,Gs,null);return}if(!d(this,Gs)){const n=E(this,Gs,document.createElement("div"));n.className="noAltTextBadge",d(this,ni).div.append(n)}d(this,Gs).classList.toggle("hidden",!t)}serialize(t){let e=d(this,sn);return!t&&d(this,Ir)===e&&(e=d(this,pl)),{altText:e,decorative:d(this,Vs),guessedText:d(this,Ir),textWithDisclaimer:d(this,pl)}}get data(){return{altText:d(this,sn),decorative:d(this,Vs)}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:s,cancel:r=!1}){n&&(E(this,Ir,n),E(this,pl,s)),!(d(this,sn)===t&&d(this,Vs)===e)&&(r||(E(this,sn,t),E(this,Vs,e)),C(this,Ss,Rm).call(this))}toggle(t=!1){d(this,ds)&&(!t&&d(this,wi)&&(clearTimeout(d(this,wi)),E(this,wi,null)),d(this,ds).disabled=!t)}shown(){d(this,ni)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,Ss,Dd)}})}destroy(){var t,e;(t=d(this,ds))==null||t.remove(),E(this,ds,null),E(this,ku,null),E(this,$s,null),(e=d(this,Gs))==null||e.remove(),E(this,Gs,null)}};sn=new WeakMap,Vs=new WeakMap,ds=new WeakMap,ku=new WeakMap,$s=new WeakMap,wi=new WeakMap,Tu=new WeakMap,Gs=new WeakMap,ni=new WeakMap,Ir=new WeakMap,pl=new WeakMap,Xs=new WeakMap,Ko=new WeakMap,Ss=new WeakSet,Dd=function(){return d(this,sn)&&"added"||d(this,sn)===null&&this.guessedText&&"review"||"missing"},Rm=async function(){var s,r,a;const t=d(this,ds);if(!t)return;if(d(this,Xs)){if(t.classList.toggle("done",!!d(this,sn)),t.setAttribute("data-l10n-id",d(jn,Ko)[d(this,Ss,Dd)]),(s=d(this,ku))==null||s.setAttribute("data-l10n-id",d(jn,Ko)[`${d(this,Ss,Dd)}-label`]),!d(this,sn)){(r=d(this,$s))==null||r.remove();return}}else{if(!d(this,sn)&&!d(this,Vs)){t.classList.remove("done"),(a=d(this,$s))==null||a.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=d(this,$s);if(!e){E(this,$s,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${d(this,ni).id}`;const c=100,u=d(this,ni)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(d(this,wi)),E(this,wi,null)},{once:!0}),t.addEventListener("mouseenter",()=>{E(this,wi,setTimeout(()=>{E(this,wi,null),d(this,$s).classList.add("show"),d(this,ni)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:u}),t.addEventListener("mouseleave",()=>{var h;d(this,wi)&&(clearTimeout(d(this,wi)),E(this,wi,null)),(h=d(this,$s))==null||h.classList.remove("show")},{signal:u})}d(this,Vs)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=d(this,sn)),e.parentNode||t.append(e);const n=d(this,ni).getImageForAltText();n==null||n.setAttribute("aria-describedby",e.id)},T(jn,Ko,null),lt(jn,"_l10n",null);let yy=jn;var gl,fs,xe,Pu,ml,dn,yl,Qo,Df,vl,Jo,Of,bl,Dr,qs,Ru,Mu,Hi,Ff,Cy,jt,nw,Nf,iw,sw,PT,RT,rw,ow,aw,MT,lw,LT,IT,DT,cw,Od;const Jt=class Jt{constructor(t){T(this,jt);T(this,gl,null);T(this,fs,null);T(this,xe,null);T(this,Pu,!1);T(this,ml,!1);T(this,dn,null);T(this,yl,null);T(this,Qo,null);T(this,Df,"");T(this,vl,!1);T(this,Jo,null);T(this,Of,!1);T(this,bl,!1);T(this,Dr,!1);T(this,qs,null);T(this,Ru,0);T(this,Mu,0);T(this,Hi,null);lt(this,"_editToolbar",null);lt(this,"_initialOptions",Object.create(null));lt(this,"_initialData",null);lt(this,"_isVisible",!0);lt(this,"_uiManager",null);lt(this,"_focusEventsAllowed",!0);T(this,Ff,!1);T(this,Cy,Jt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:s,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[r,a];const[c,u]=this.parentDimensions;this.x=t.x/c,this.y=t.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Jt.prototype._resizeWithKeyboard,e=cc.TRANSLATE_SMALL,n=cc.TRANSLATE_BIG;return $t(this,"_resizerKeyboardManager",new zp([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Jt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return $t(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new Oj({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Jt._l10n??(Jt._l10n=t),Jt._l10nResizer||(Jt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Jt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Jt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ge("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,Ff)}set _isDraggable(t){var e;E(this,Ff,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,Cy)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):C(this,jt,Od).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(d(this,vl)?E(this,vl,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,s){const[r,a]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(t+n)/r,this.y=(e+s)/a,this.fixAndSetPosition()}translate(t,e){C(this,jt,nw).call(this,this.parentDimensions,t,e)}translateInPage(t,e){d(this,Jo)||E(this,Jo,[this.x,this.y]),C(this,jt,nw).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){d(this,Jo)||E(this,Jo,[this.x,this.y]);const[n,s]=this.parentDimensions;if(this.x+=t/n,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:a}=this;const[c,u]=this.getBaseTranslation();r+=c,a+=u,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!d(this,Jo)&&(d(this,Jo)[0]!==this.x||d(this,Jo)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Jt,s=n/t,r=n/e;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,n]=this.pageDimensions;let{x:s,y:r,width:a,height:c}=this;if(a*=e,c*=n,s*=e,r*=n,this._mustFixPosition)switch(t){case 0:s=Math.max(0,Math.min(e-a,s)),r=Math.max(0,Math.min(n-c,r));break;case 90:s=Math.max(0,Math.min(e-c,s)),r=Math.min(n,Math.max(a,r));break;case 180:s=Math.min(e,Math.max(a,s)),r=Math.min(n,Math.max(c,r));break;case 270:s=Math.min(e,Math.max(c,s)),r=Math.max(0,Math.min(n-a,r));break}this.x=s/=e,this.y=r/=n;const[u,h]=this.getBaseTranslation();s+=u,r+=h;const{style:p}=this.div;p.left=`${(100*s).toFixed(2)}%`,p.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return C(n=Jt,Nf,iw).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return C(n=Jt,Nf,iw).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,s]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,d(this,ml)||(this.div.style.height=`${(100*e/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,s=n.endsWith("%"),r=!d(this,ml)&&e.endsWith("%");if(s&&r)return;const[a,c]=this.parentDimensions;s||(t.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!d(this,ml)&&!r&&(t.height=`${(100*parseFloat(e)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=d(this,xe))==null||t.finish()}async addEditToolbar(){return this._editToolbar||d(this,bl)?this._editToolbar:(this._editToolbar=new Gb(this),this.div.append(this._editToolbar.render()),d(this,xe)&&await this._editToolbar.addAltText(d(this,xe)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=d(this,xe))==null||t.destroy())}addContainer(t){var n;const e=(n=this._editToolbar)==null?void 0:n.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){d(this,xe)||(yy.initialize(Jt._l10n),E(this,xe,new yy(this)),d(this,gl)&&(d(this,xe).data=d(this,gl),E(this,gl,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=d(this,xe))==null?void 0:t.data}set altTextData(t){d(this,xe)&&(d(this,xe).data=t)}get guessedAltText(){var t;return(t=d(this,xe))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=d(this,xe))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=d(this,xe))==null?void 0:e.serialize(t)}hasAltText(){return!!d(this,xe)&&!d(this,xe).isEmpty()}hasAltTextData(){var t;return((t=d(this,xe))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=d(this,Pu)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),C(this,jt,lw).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[n,s]=this.getInitialTranslation();return this.translate(n,s),my(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Wn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(E(this,vl,!0),this._isDraggable){C(this,jt,MT).call(this,t);return}C(this,jt,aw).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){d(this,qs)&&clearTimeout(d(this,qs)),E(this,qs,setTimeout(()=>{var t;E(this,qs,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e,n=this.rotation){const s=this.parentScale,[r,a]=this.pageDimensions,[c,u]=this.pageTranslation,h=t/s,p=e/s,g=this.x*r,y=this.y*a,b=this.width*r,w=this.height*a;switch(n){case 0:return[g+h+c,a-y-p-w+u,g+h+b+c,a-y-p+u];case 90:return[g+p+c,a-y+h+u,g+p+w+c,a-y+h+b+u];case 180:return[g-h-b+c,a-y+p+u,g-h+c,a-y+p+w+u];case 270:return[g-p-w+c,a-y-h-b+u,g-p+c,a-y-h+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,s,r,a]=t,c=r-n,u=a-s;switch(this.rotation){case 0:return[n,e-a,c,u];case 90:return[n,e-s,u,c];case 180:return[r,e-s,c,u];case 270:return[r,e-a,u,c];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){E(this,bl,!0)}disableEditMode(){E(this,bl,!1)}isInEditMode(){return d(this,bl)}shouldGetKeyboardEvents(){return d(this,Dr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){C(this,jt,lw).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){ge("An editor must be serializable")}static async deserialize(t,e,n){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});s.rotation=t.rotation,E(s,gl,t.accessibilityData);const[r,a]=s.pageDimensions,[c,u,h,p]=s.getRectInCurrentCoords(t.rect,a);return s.x=c/r,s.y=u/a,s.width=h/r,s.height=p/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=d(this,Qo))==null||t.abort(),E(this,Qo,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,qs)&&(clearTimeout(d(this,qs)),E(this,qs,null)),C(this,jt,Od).call(this),this.removeEditToolbar(),d(this,Hi)){for(const e of d(this,Hi).values())clearTimeout(e);E(this,Hi,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(C(this,jt,PT).call(this),d(this,dn).classList.remove("hidden"),my(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),E(this,yl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=d(this,dn).children;if(!d(this,fs)){E(this,fs,Array.from(e));const a=C(this,jt,LT).bind(this),c=C(this,jt,IT).bind(this),u=this._uiManager._signal;for(const h of d(this,fs)){const p=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",a,{signal:u}),h.addEventListener("blur",c,{signal:u}),h.addEventListener("focus",C(this,jt,DT).bind(this,p),{signal:u}),h.setAttribute("data-l10n-id",Jt._l10nResizer[p])}}const n=d(this,fs)[0];let s=0;for(const a of e){if(a===n)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(d(this,fs).length/4);if(r!==s){if(r<s)for(let c=0;c<s-r;c++)d(this,dn).append(d(this,dn).firstChild);else if(r>s)for(let c=0;c<r-s;c++)d(this,dn).firstChild.before(d(this,dn).lastChild);let a=0;for(const c of e){const h=d(this,fs)[a++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Jt._l10nResizer[h])}}C(this,jt,cw).call(this,0),E(this,Dr,!0),d(this,dn).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){d(this,Dr)&&C(this,jt,ow).call(this,d(this,Df),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){C(this,jt,Od).call(this),this.div.focus()}select(){var t,e,n;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,r;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(e=this._editToolbar)==null||e.show(),(n=d(this,xe))==null||n.toggleAltTextBadge(!1)}unselect(){var t,e,n,s,r;(t=d(this,dn))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(r=d(this,xe))==null||r.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return d(this,Of)}set isEditing(t){E(this,Of,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){E(this,ml,!0);const n=t/e,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){d(this,Hi)||E(this,Hi,new Map);const{action:n}=t;let s=d(this,Hi).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),d(this,Hi).delete(n),d(this,Hi).size===0&&E(this,Hi,null)},Jt._telemetryTimeout),d(this,Hi).set(n,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),E(this,Pu,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,Pu,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};gl=new WeakMap,fs=new WeakMap,xe=new WeakMap,Pu=new WeakMap,ml=new WeakMap,dn=new WeakMap,yl=new WeakMap,Qo=new WeakMap,Df=new WeakMap,vl=new WeakMap,Jo=new WeakMap,Of=new WeakMap,bl=new WeakMap,Dr=new WeakMap,qs=new WeakMap,Ru=new WeakMap,Mu=new WeakMap,Hi=new WeakMap,Ff=new WeakMap,Cy=new WeakMap,jt=new WeakSet,nw=function([t,e],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/t,this.y+=s/e,this.fixAndSetPosition()},Nf=new WeakSet,iw=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},sw=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},PT=function(){if(d(this,dn))return;E(this,dn,document.createElement("div")),d(this,dn).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const s=document.createElement("div");d(this,dn).append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",C(this,jt,RT).bind(this,n),{signal:e}),s.addEventListener("contextmenu",Yi,{signal:e}),s.tabIndex=-1}this.div.prepend(d(this,dn))},RT=function(t,e){var w;e.preventDefault();const{isMac:n}=Wn.platform;if(e.button!==0||e.ctrlKey&&n)return;(w=d(this,xe))==null||w.toggle(!1);const s=this._isDraggable;this._isDraggable=!1;const r=new AbortController,a=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",C(this,jt,ow).bind(this,t),{passive:!0,capture:!0,signal:a}),window.addEventListener("contextmenu",Yi,{signal:a});const c=this.x,u=this.y,h=this.width,p=this.height,g=this.parent.div.style.cursor,y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const b=()=>{var x;r.abort(),this.parent.togglePointerEvents(!0),(x=d(this,xe))==null||x.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=g,this.div.style.cursor=y,C(this,jt,rw).call(this,c,u,h,p)};window.addEventListener("pointerup",b,{signal:a}),window.addEventListener("blur",b,{signal:a})},rw=function(t,e,n,s){const r=this.x,a=this.y,c=this.width,u=this.height;r===t&&a===e&&c===n&&u===s||this.addCommands({cmd:()=>{this.width=c,this.height=u,this.x=r,this.y=a;const[h,p]=this.parentDimensions;this.setDims(h*c,p*u),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=s,this.x=t,this.y=e;const[h,p]=this.parentDimensions;this.setDims(h*n,p*s),this.fixAndSetPosition()},mustExec:!0})},ow=function(t,e){const[n,s]=this.parentDimensions,r=this.x,a=this.y,c=this.width,u=this.height,h=Jt.MIN_SIZE/n,p=Jt.MIN_SIZE/s,g=Q=>Math.round(Q*1e4)/1e4,y=C(this,jt,sw).call(this,this.rotation),b=(Q,X)=>[y[0]*Q+y[2]*X,y[1]*Q+y[3]*X],w=C(this,jt,sw).call(this,360-this.rotation),x=(Q,X)=>[w[0]*Q+w[2]*X,w[1]*Q+w[3]*X];let A,S,P=!1,R=!1;switch(t){case"topLeft":P=!0,A=(Q,X)=>[0,0],S=(Q,X)=>[Q,X];break;case"topMiddle":A=(Q,X)=>[Q/2,0],S=(Q,X)=>[Q/2,X];break;case"topRight":P=!0,A=(Q,X)=>[Q,0],S=(Q,X)=>[0,X];break;case"middleRight":R=!0,A=(Q,X)=>[Q,X/2],S=(Q,X)=>[0,X/2];break;case"bottomRight":P=!0,A=(Q,X)=>[Q,X],S=(Q,X)=>[0,0];break;case"bottomMiddle":A=(Q,X)=>[Q/2,X],S=(Q,X)=>[Q/2,0];break;case"bottomLeft":P=!0,A=(Q,X)=>[0,X],S=(Q,X)=>[Q,0];break;case"middleLeft":R=!0,A=(Q,X)=>[0,X/2],S=(Q,X)=>[Q,X/2];break}const M=A(c,u),I=S(c,u);let F=b(...I);const j=g(r+F[0]),N=g(a+F[1]);let W=1,$=1,[G,K]=this.screenToPageTranslation(e.movementX,e.movementY);if([G,K]=x(G/n,K/s),P){const Q=Math.hypot(c,u);W=$=Math.max(Math.min(Math.hypot(I[0]-M[0]-G,I[1]-M[1]-K)/Q,1/c,1/u),h/c,p/u)}else R?W=Math.max(h,Math.min(1,Math.abs(I[0]-M[0]-G)))/c:$=Math.max(p,Math.min(1,Math.abs(I[1]-M[1]-K)))/u;const rt=g(c*W),ot=g(u*$);F=b(...S(rt,ot));const nt=j-F[0],J=N-F[1];this.width=rt,this.height=ot,this.x=nt,this.y=J,this.setDims(n*rt,s*ot),this.fixAndSetPosition()},aw=function(t){const{isMac:e}=Wn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},MT=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const n=new AbortController,s=this._uiManager.combinedSignal(n);if(e){this.div.classList.add("moving"),E(this,Ru,t.clientX),E(this,Mu,t.clientY);const a=c=>{const{clientX:u,clientY:h}=c,[p,g]=this.screenToPageTranslation(u-d(this,Ru),h-d(this,Mu));E(this,Ru,u),E(this,Mu,h),this._uiManager.dragSelectedEditors(p,g)};window.addEventListener("pointermove",a,{passive:!0,capture:!0,signal:s})}const r=()=>{n.abort(),e&&this.div.classList.remove("moving"),E(this,vl,!1),this._uiManager.endDragSession()||C(this,jt,aw).call(this,t)};window.addEventListener("pointerup",r,{signal:s}),window.addEventListener("blur",r,{signal:s})},lw=function(){if(d(this,Qo)||!this.div)return;E(this,Qo,new AbortController);const t=this._uiManager.combinedSignal(d(this,Qo));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},LT=function(t){Jt._resizerKeyboardManager.exec(this,t)},IT=function(t){var e;d(this,Dr)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==d(this,dn)&&C(this,jt,Od).call(this)},DT=function(t){E(this,Df,d(this,Dr)?t:"")},cw=function(t){if(d(this,fs))for(const e of d(this,fs))e.tabIndex=t},Od=function(){if(E(this,Dr,!1),C(this,jt,cw).call(this,-1),d(this,yl)){const{savedX:t,savedY:e,savedWidth:n,savedHeight:s}=d(this,yl);C(this,jt,rw).call(this,t,e,n,s),E(this,yl,null)}},T(Jt,Nf),lt(Jt,"_l10n",null),lt(Jt,"_l10nResizer",null),lt(Jt,"_borderLineWidth",-1),lt(Jt,"_colorManager",new Yb),lt(Jt,"_zIndex",1),lt(Jt,"_telemetryTimeout",1e3);let se=Jt;class Oj extends se{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const SE=3285377520,Ni=4294901760,Is=65535;class OT{constructor(t){this.h1=t?t&4294967295:SE,this.h2=t?t&4294967295:SE}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let x=0,A=t.length;x<A;x++){const S=t.charCodeAt(x);S<=255?e[n++]=S:(e[n++]=S>>>8,e[n++]=S&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,r=n-s*4,a=new Uint32Array(e.buffer,0,s);let c=0,u=0,h=this.h1,p=this.h2;const g=3432918353,y=461845907,b=g&Is,w=y&Is;for(let x=0;x<s;x++)x&1?(c=a[x],c=c*g&Ni|c*b&Is,c=c<<15|c>>>17,c=c*y&Ni|c*w&Is,h^=c,h=h<<13|h>>>19,h=h*5+3864292196):(u=a[x],u=u*g&Ni|u*b&Is,u=u<<15|u>>>17,u=u*y&Ni|u*w&Is,p^=u,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,r){case 3:c^=e[s*4+2]<<16;case 2:c^=e[s*4+1]<<8;case 1:c^=e[s*4],c=c*g&Ni|c*b&Is,c=c<<15|c>>>17,c=c*y&Ni|c*w&Is,s&1?h^=c:p^=c}this.h1=h,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Ni|t*36045&Is,e=e*4283543511&Ni|((e<<16|t>>>16)*2950163797&Ni)>>>16,t^=e>>>1,t=t*444984403&Ni|t*60499&Is,e=e*3301882366&Ni|((e<<16|t>>>16)*3120437893&Ni)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const uw=Object.freeze({map:null,hash:"",transfer:void 0});var wl,xl,rn,ky,FT;class Gx{constructor(){T(this,ky);T(this,wl,!1);T(this,xl,null);T(this,rn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=d(this,rn).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return d(this,rn).get(t)}remove(t){if(d(this,rn).delete(t),d(this,rn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of d(this,rn).values())if(e instanceof se)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=d(this,rn).get(t);let s=!1;if(n!==void 0)for(const[r,a]of Object.entries(e))n[r]!==a&&(s=!0,n[r]=a);else s=!0,d(this,rn).set(t,e);s&&C(this,ky,FT).call(this),e instanceof se&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return d(this,rn).has(t)}getAll(){return d(this,rn).size>0?Hx(d(this,rn)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return d(this,rn).size}resetModified(){d(this,wl)&&(E(this,wl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new NT(this)}get serializable(){if(d(this,rn).size===0)return uw;const t=new Map,e=new OT,n=[],s=Object.create(null);let r=!1;for(const[a,c]of d(this,rn)){const u=c instanceof se?c.serialize(!1,s):c;u&&(t.set(a,u),e.update(`${a}:${JSON.stringify(u)}`),r||(r=!!u.bitmap))}if(r)for(const a of t.values())a.bitmap&&n.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:uw}get editorStats(){let t=null;const e=new Map;for(const n of d(this,rn).values()){if(!(n instanceof se))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:r}=s;e.has(r)||e.set(r,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const a=t[r]||(t[r]=new Map);for(const[c,u]of Object.entries(s)){if(c==="type")continue;let h=a.get(c);h||(h=new Map,a.set(c,h));const p=h.get(u)??0;h.set(u,p+1)}}for(const[n,s]of e)t[n]=s.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){E(this,xl,null)}get modifiedIds(){if(d(this,xl))return d(this,xl);const t=[];for(const e of d(this,rn).values())!(e instanceof se)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return E(this,xl,{ids:new Set(t),hash:t.join(",")})}}wl=new WeakMap,xl=new WeakMap,rn=new WeakMap,ky=new WeakSet,FT=function(){d(this,wl)||(E(this,wl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var jf;class NT extends Gx{constructor(e){super();T(this,jf);const{map:n,hash:s,transfer:r}=e.serializable,a=structuredClone(n,r?{transfer:r}:null);E(this,jf,{map:a,hash:s,transfer:r})}get print(){ge("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,jf)}get modifiedIds(){return $t(this,"modifiedIds",{ids:new Set,hash:""})}}jf=new WeakMap;var Lu;class Fj{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){T(this,Lu,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),d(this,Lu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||d(this,Lu).has(t.loadedName))){if(Ge(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:s,style:r}=t,a=new FontFace(n,s,r);this.addNativeFontFace(a);try{await a.load(),d(this,Lu).add(n),e==null||e(t)}catch{zt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}ge("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw zt(`Failed to load font '${n.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return $t(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Ln||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),$t(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Ge(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const r=n.shift();setTimeout(r.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:e,callback:t};return n.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return $t(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(M,I){return M.charCodeAt(I)<<24|M.charCodeAt(I+1)<<16|M.charCodeAt(I+2)<<8|M.charCodeAt(I+3)&255}function s(M,I,F,j){const N=M.substring(0,I),W=M.substring(I+F);return N+j+W}let r,a;const c=this._document.createElement("canvas");c.width=1,c.height=1;const u=c.getContext("2d");let h=0;function p(M,I){if(++h>30){zt("Load test font never loaded."),I();return}if(u.font="30px "+M,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){I();return}setTimeout(p.bind(null,M,I))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=s(y,976,g.length,g);const w=16,x=1482184792;let A=n(y,w);for(r=0,a=g.length-3;r<a;r+=4)A=A-x+n(g,r)|0;r<g.length&&(A=A-x+n(g+"XXX",r)|0),y=s(y,w,4,wj(A));const S=`url(data:font/opentype;base64,${btoa(y)});`,P=`@font-face {font-family:"${g}";src:${S}}`;this.insertRule(P);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const M of[t.loadedName,g]){const I=this._document.createElement("span");I.textContent="Hi",I.style.fontFamily=M,R.append(I)}this._document.body.append(R),p(g,()=>{R.remove(),e.complete()})}}Lu=new WeakMap;class Nj{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this.disableFontFace=e===!0,this._inspectFont=n}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${Cj(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(n=this._inspectFont)==null||n.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(r){zt(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[e]=function(r,a){};const s=[];for(let r=0,a=n.length;r<a;)switch(n[r++]){case xr.BEZIER_CURVE_TO:{const[c,u,h,p,g,y]=n.slice(r,r+6);s.push(b=>b.bezierCurveTo(c,u,h,p,g,y)),r+=6}break;case xr.MOVE_TO:{const[c,u]=n.slice(r,r+2);s.push(h=>h.moveTo(c,u)),r+=2}break;case xr.LINE_TO:{const[c,u]=n.slice(r,r+2);s.push(h=>h.lineTo(c,u)),r+=2}break;case xr.QUADRATIC_CURVE_TO:{const[c,u,h,p]=n.slice(r,r+4);s.push(g=>g.quadraticCurveTo(c,u,h,p)),r+=4}break;case xr.RESTORE:s.push(c=>c.restore());break;case xr.SAVE:s.push(c=>c.save());break;case xr.SCALE:Ge(s.length===2,"Scale command is only valid at the third position.");break;case xr.TRANSFORM:{const[c,u,h,p,g,y]=n.slice(r,r+6);s.push(b=>b.transform(c,u,h,p,g,y)),r+=6}break;case xr.TRANSLATE:{const[c,u]=n.slice(r,r+2);s.push(h=>h.translate(c,u)),r+=2}break}return this.compiledGlyphs[e]=function(a,c){s[0](a),s[1](a),a.scale(c,-c);for(let u=2,h=s.length;u<h;u++)s[u](a)}}}var zf;class jT{constructor({enableHWA:t=!1}){T(this,zf,!1);E(this,zf,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!d(this,zf)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ge("Abstract method `_createCanvas` called.")}}zf=new WeakMap;class jj extends jT{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class zT{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ge("Abstract method `_fetch` called.")}}class HT extends zT{async _fetch(t){const e=await Zy(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Jy(e)}}class BT{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,s,r){return"none"}destroy(t=!1){}}var _l,Sl,Ys,Or,Tn,Ty,Al,gt,En,Vc,$c,Mm,Gc,WT,hw,Xc,Fd,Nd,dw,jd;class zj extends BT{constructor({docId:e,ownerDocument:n=globalThis.document}){super();T(this,gt);T(this,_l);T(this,Sl);T(this,Ys);T(this,Or);T(this,Tn);T(this,Ty);T(this,Al,0);E(this,Or,e),E(this,Tn,n)}addFilter(e){if(!e)return"none";let n=d(this,gt,En).get(e);if(n)return n;const[s,r,a]=C(this,gt,Mm).call(this,e),c=e.length===1?s:`${s}${r}${a}`;if(n=d(this,gt,En).get(c),n)return d(this,gt,En).set(e,n),n;const u=`g_${d(this,Or)}_transfer_map_${Je(this,Al)._++}`,h=C(this,gt,Gc).call(this,u);d(this,gt,En).set(e,h),d(this,gt,En).set(c,h);const p=C(this,gt,Xc).call(this,u);return C(this,gt,Nd).call(this,s,r,a,p),h}addHCMFilter(e,n){var w;const s=`${e}-${n}`,r="base";let a=d(this,gt,Vc).get(r);if((a==null?void 0:a.key)===s||(a?((w=a.filter)==null||w.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},d(this,gt,Vc).set(r,a)),!e||!n))return a.url;const c=C(this,gt,jd).call(this,e);e=St.makeHexColor(...c);const u=C(this,gt,jd).call(this,n);if(n=St.makeHexColor(...u),d(this,gt,$c).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return a.url;const h=new Array(256);for(let x=0;x<=255;x++){const A=x/255;h[x]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const p=h.join(","),g=`g_${d(this,Or)}_hcm_filter`,y=a.filter=C(this,gt,Xc).call(this,g);C(this,gt,Nd).call(this,p,p,p,y),C(this,gt,hw).call(this,y);const b=(x,A)=>{const S=c[x]/255,P=u[x]/255,R=new Array(A+1);for(let M=0;M<=A;M++)R[M]=S+M/A*(P-S);return R.join(",")};return C(this,gt,Nd).call(this,b(0,5),b(1,5),b(2,5),y),a.url=C(this,gt,Gc).call(this,g),a.url}addAlphaFilter(e){let n=d(this,gt,En).get(e);if(n)return n;const[s]=C(this,gt,Mm).call(this,[e]),r=`alpha_${s}`;if(n=d(this,gt,En).get(r),n)return d(this,gt,En).set(e,n),n;const a=`g_${d(this,Or)}_alpha_map_${Je(this,Al)._++}`,c=C(this,gt,Gc).call(this,a);d(this,gt,En).set(e,c),d(this,gt,En).set(r,c);const u=C(this,gt,Xc).call(this,a);return C(this,gt,dw).call(this,s,u),c}addLuminosityFilter(e){let n=d(this,gt,En).get(e||"luminosity");if(n)return n;let s,r;if(e?([s]=C(this,gt,Mm).call(this,[e]),r=`luminosity_${s}`):r="luminosity",n=d(this,gt,En).get(r),n)return d(this,gt,En).set(e,n),n;const a=`g_${d(this,Or)}_luminosity_map_${Je(this,Al)._++}`,c=C(this,gt,Gc).call(this,a);d(this,gt,En).set(e,c),d(this,gt,En).set(r,c);const u=C(this,gt,Xc).call(this,a);return C(this,gt,WT).call(this,u),e&&C(this,gt,dw).call(this,s,u),c}addHighlightHCMFilter(e,n,s,r,a){var P;const c=`${n}-${s}-${r}-${a}`;let u=d(this,gt,Vc).get(e);if((u==null?void 0:u.key)===c||(u?((P=u.filter)==null||P.remove(),u.key=c,u.url="none",u.filter=null):(u={key:c,url:"none",filter:null},d(this,gt,Vc).set(e,u)),!n||!s))return u.url;const[h,p]=[n,s].map(C(this,gt,jd).bind(this));let g=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[b,w]=[r,a].map(C(this,gt,jd).bind(this));y<g&&([g,y,b,w]=[y,g,w,b]),d(this,gt,$c).style.color="";const x=(R,M,I)=>{const F=new Array(256),j=(y-g)/I,N=R/255,W=(M-R)/(255*I);let $=0;for(let G=0;G<=I;G++){const K=Math.round(g+G*j),rt=N+G*W;for(let ot=$;ot<=K;ot++)F[ot]=rt;$=K+1}for(let G=$;G<256;G++)F[G]=F[$-1];return F.join(",")},A=`g_${d(this,Or)}_hcm_${e}_filter`,S=u.filter=C(this,gt,Xc).call(this,A);return C(this,gt,hw).call(this,S),C(this,gt,Nd).call(this,x(b[0],w[0],5),x(b[1],w[1],5),x(b[2],w[2],5),S),u.url=C(this,gt,Gc).call(this,A),u.url}destroy(e=!1){e&&d(this,gt,Vc).size!==0||(d(this,Ys)&&(d(this,Ys).parentNode.parentNode.remove(),E(this,Ys,null)),d(this,Sl)&&(d(this,Sl).clear(),E(this,Sl,null)),E(this,Al,0))}}_l=new WeakMap,Sl=new WeakMap,Ys=new WeakMap,Or=new WeakMap,Tn=new WeakMap,Ty=new WeakMap,Al=new WeakMap,gt=new WeakSet,En=function(){return d(this,Sl)||E(this,Sl,new Map)},Vc=function(){return d(this,Ty)||E(this,Ty,new Map)},$c=function(){if(!d(this,Ys)){const e=d(this,Tn).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=d(this,Tn).createElementNS(Cr,"svg");s.setAttribute("width",0),s.setAttribute("height",0),E(this,Ys,d(this,Tn).createElementNS(Cr,"defs")),e.append(s),s.append(d(this,Ys)),d(this,Tn).body.append(e)}return d(this,Ys)},Mm=function(e){if(e.length===1){const h=e[0],p=new Array(256);for(let y=0;y<256;y++)p[y]=h[y]/255;const g=p.join(",");return[g,g,g]}const[n,s,r]=e,a=new Array(256),c=new Array(256),u=new Array(256);for(let h=0;h<256;h++)a[h]=n[h]/255,c[h]=s[h]/255,u[h]=r[h]/255;return[a.join(","),c.join(","),u.join(",")]},Gc=function(e){if(d(this,_l)===void 0){E(this,_l,"");const n=d(this,Tn).URL;n!==d(this,Tn).baseURI&&(tv(n)?zt('#createUrl: ignore "data:"-URL for performance reasons.'):E(this,_l,n.split("#",1)[0]))}return`url(${d(this,_l)}#${e})`},WT=function(e){const n=d(this,Tn).createElementNS(Cr,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},hw=function(e){const n=d(this,Tn).createElementNS(Cr,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},Xc=function(e){const n=d(this,Tn).createElementNS(Cr,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),d(this,gt,$c).append(n),n},Fd=function(e,n,s){const r=d(this,Tn).createElementNS(Cr,n);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),e.append(r)},Nd=function(e,n,s,r){const a=d(this,Tn).createElementNS(Cr,"feComponentTransfer");r.append(a),C(this,gt,Fd).call(this,a,"feFuncR",e),C(this,gt,Fd).call(this,a,"feFuncG",n),C(this,gt,Fd).call(this,a,"feFuncB",s)},dw=function(e,n){const s=d(this,Tn).createElementNS(Cr,"feComponentTransfer");n.append(s),C(this,gt,Fd).call(this,s,"feFuncA",e)},jd=function(e){return d(this,gt,$c).style.color=e,$x(getComputedStyle(d(this,gt,$c)).getPropertyValue("color"))};class UT{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ge("Abstract method `_fetch` called.")}}class VT extends UT{async _fetch(t){const e=await Zy(t,"arraybuffer");return new Uint8Array(e)}}if(Ln){var fw=Promise.withResolvers(),ef=null;(async()=>{const t=await pm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await pm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await pm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await pm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let r,a;return new Map(Object.entries({fs:t,http:e,https:n,url:s,canvas:r,path2d:a}))})().then(t=>{ef=t,fw.resolve()},t=>{zt(`loadPackages: ${t}`),ef=new Map,fw.resolve()})}class wa{static get promise(){return fw.promise}static get(t){return ef==null?void 0:ef.get(t)}}async function $T(i){const e=await wa.get("fs").promises.readFile(i);return new Uint8Array(e)}class Hj extends BT{}class Bj extends jT{_createCanvas(t,e){return wa.get("canvas").createCanvas(t,e)}}class Wj extends zT{async _fetch(t){return $T(t)}}class Uj extends UT{async _fetch(t){return $T(t)}}const Bn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function pw(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,n),i.clip(s)}class Xx{getPattern(){ge("Abstract method `getPattern` called.")}}class Vj extends Xx{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,s){let r;if(s===Bn.STROKE||s===Bn.FILL){const a=e.current.getClippedPathBoundingBox(s,Se(t))||[0,0,0,0],c=Math.ceil(a[2]-a[0])||1,u=Math.ceil(a[3]-a[1])||1,h=e.cachedCanvases.getCanvas("pattern",c,u),p=h.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-a[0],-a[1]),n=St.transform(n,[1,0,0,1,a[0],a[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),pw(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),r=t.createPattern(h.canvas,"no-repeat");const g=new DOMMatrix(n);r.setTransform(g)}else pw(t,this._bbox),r=this._createGradient(t);return r}}function db(i,t,e,n,s,r,a,c){const u=t.coords,h=t.colors,p=i.data,g=i.width*4;let y;u[e+1]>u[n+1]&&(y=e,e=n,n=y,y=r,r=a,a=y),u[n+1]>u[s+1]&&(y=n,n=s,s=y,y=a,a=c,c=y),u[e+1]>u[n+1]&&(y=e,e=n,n=y,y=r,r=a,a=y);const b=(u[e]+t.offsetX)*t.scaleX,w=(u[e+1]+t.offsetY)*t.scaleY,x=(u[n]+t.offsetX)*t.scaleX,A=(u[n+1]+t.offsetY)*t.scaleY,S=(u[s]+t.offsetX)*t.scaleX,P=(u[s+1]+t.offsetY)*t.scaleY;if(w>=P)return;const R=h[r],M=h[r+1],I=h[r+2],F=h[a],j=h[a+1],N=h[a+2],W=h[c],$=h[c+1],G=h[c+2],K=Math.round(w),rt=Math.round(P);let ot,nt,J,Q,X,et,it,z;for(let Y=K;Y<=rt;Y++){if(Y<A){const dt=Y<w?0:(w-Y)/(w-A);ot=b-(b-x)*dt,nt=R-(R-F)*dt,J=M-(M-j)*dt,Q=I-(I-N)*dt}else{let dt;Y>P?dt=1:A===P?dt=0:dt=(A-Y)/(A-P),ot=x-(x-S)*dt,nt=F-(F-W)*dt,J=j-(j-$)*dt,Q=N-(N-G)*dt}let ut;Y<w?ut=0:Y>P?ut=1:ut=(w-Y)/(w-P),X=b-(b-S)*ut,et=R-(R-W)*ut,it=M-(M-$)*ut,z=I-(I-G)*ut;const ft=Math.round(Math.min(ot,X)),At=Math.round(Math.max(ot,X));let mt=g*Y+ft*4;for(let dt=ft;dt<=At;dt++)ut=(ot-dt)/(ot-X),ut<0?ut=0:ut>1&&(ut=1),p[mt++]=nt-(nt-et)*ut|0,p[mt++]=J-(J-it)*ut|0,p[mt++]=Q-(Q-z)*ut|0,p[mt++]=255}}function $j(i,t,e){const n=t.coords,s=t.colors;let r,a;switch(t.type){case"lattice":const c=t.verticesPerRow,u=Math.floor(n.length/c)-1,h=c-1;for(r=0;r<u;r++){let p=r*c;for(let g=0;g<h;g++,p++)db(i,e,n[p],n[p+1],n[p+c],s[p],s[p+1],s[p+c]),db(i,e,n[p+c+1],n[p+1],n[p+c],s[p+c+1],s[p+1],s[p+c])}break;case"triangles":for(r=0,a=n.length;r<a;r+=3)db(i,e,n[r],n[r+1],n[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class Gj extends Xx{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-u,g=Math.min(Math.ceil(Math.abs(h*t[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),b=h/g,w=p/y,x={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-u,scaleX:1/b,scaleY:1/w},A=g+2*2,S=y+2*2,P=n.getCanvas("mesh",A,S),R=P.context,M=R.createImageData(g,y);if(e){const F=M.data;for(let j=0,N=F.length;j<N;j+=4)F[j]=e[0],F[j+1]=e[1],F[j+2]=e[2],F[j+3]=255}for(const F of this._figures)$j(M,F,x);return R.putImageData(M,2,2),{canvas:P.canvas,offsetX:c-2*b,offsetY:u-2*w,scaleX:b,scaleY:w}}getPattern(t,e,n,s){pw(t,this._bbox);let r;if(s===Bn.SHADING)r=St.singularValueDecompose2dScale(Se(t));else if(r=St.singularValueDecompose2dScale(e.baseTransform),this.matrix){const c=St.singularValueDecompose2dScale(this.matrix);r=[r[0]*c[0],r[1]*c[1]]}const a=this._createMeshCanvas(r,s===Bn.SHADING?null:this._background,e.cachedCanvases);return s!==Bn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}class Xj extends Xx{getPattern(){return"hotpink"}}function qj(i){switch(i[0]){case"RadialAxial":return new Vj(i);case"Mesh":return new Gj(i);case"Dummy":return new Xj}throw new Error(`Unknown IR type: ${i[0]}`)}const AE={COLORED:1,UNCOLORED:2},Py=class Py{constructor(t,e,n,s,r){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=r}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:s,tilingType:r,color:a,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:h}=this;u=Math.abs(u),h=Math.abs(h),Ky("TilingType: "+r);const p=e[0],g=e[1],y=e[2],b=e[3],w=y-p,x=b-g,A=St.singularValueDecompose2dScale(this.matrix),S=St.singularValueDecompose2dScale(this.baseTransform),P=A[0]*S[0],R=A[1]*S[1];let M=w,I=x,F=!1,j=!1;const N=Math.ceil(u*P),W=Math.ceil(h*R),$=Math.ceil(w*P),G=Math.ceil(x*R);N>=$?M=u:F=!0,W>=G?I=h:j=!0;const K=this.getSizeAndScale(M,this.ctx.canvas.width,P),rt=this.getSizeAndScale(I,this.ctx.canvas.height,R),ot=t.cachedCanvases.getCanvas("pattern",K.size,rt.size),nt=ot.context,J=c.createCanvasGraphics(nt);if(J.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(J,s,a),nt.translate(-K.scale*p,-rt.scale*g),J.transform(K.scale,0,0,rt.scale,0,0),nt.save(),this.clipBbox(J,p,g,y,b),J.baseTransform=Se(J.ctx),J.executeOperatorList(n),J.endDrawing(),nt.restore(),F||j){const Q=ot.canvas;F&&(M=u),j&&(I=h);const X=this.getSizeAndScale(M,this.ctx.canvas.width,P),et=this.getSizeAndScale(I,this.ctx.canvas.height,R),it=X.size,z=et.size,Y=t.cachedCanvases.getCanvas("pattern-workaround",it,z),ut=Y.context,ft=F?Math.floor(w/u):0,At=j?Math.floor(x/h):0;for(let mt=0;mt<=ft;mt++)for(let dt=0;dt<=At;dt++)ut.drawImage(Q,it*mt,z*dt,it,z,0,0,it,z);return{canvas:Y.canvas,scaleX:X.scale,scaleY:et.scale,offsetX:p,offsetY:g}}return{canvas:ot.canvas,scaleX:K.scale,scaleY:rt.scale,offsetX:p,offsetY:g}}getSizeAndScale(t,e,n){const s=Math.max(Py.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*n);return r>=s?r=s:n=r/t,{scale:n,size:r}}clipBbox(t,e,n,s,r){const a=s-e,c=r-n;t.ctx.rect(e,n,a,c),t.current.updateRectMinMax(Se(t.ctx),[e,n,s,r]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const s=t.ctx,r=t.current;switch(e){case AE.COLORED:const a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case AE.UNCOLORED:const c=St.makeHexColor(n[0],n[1],n[2]);s.fillStyle=c,s.strokeStyle=c,r.fillColor=c,r.strokeColor=c;break;default:throw new bj(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,s){let r=n;s!==Bn.SHADING&&(r=St.transform(r,e.baseTransform),this.matrix&&(r=St.transform(r,this.matrix)));const a=this.createPatternCanvas(e);let c=new DOMMatrix(r);c=c.translate(a.offsetX,a.offsetY),c=c.scale(1/a.scaleX,1/a.scaleY);const u=t.createPattern(a.canvas,"repeat");return u.setTransform(c),u}};lt(Py,"MAX_PATTERN_SIZE",3e3);let gw=Py;function Yj({src:i,srcPos:t=0,dest:e,width:n,height:s,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const c=Wn.isLittleEndian?4278190080:255,[u,h]=a?[r,c]:[c,r],p=n>>3,g=n&7,y=i.length;e=new Uint32Array(e.buffer);let b=0;for(let w=0;w<s;w++){for(const A=t+p;t<A;t++){const S=t<y?i[t]:255;e[b++]=S&128?h:u,e[b++]=S&64?h:u,e[b++]=S&32?h:u,e[b++]=S&16?h:u,e[b++]=S&8?h:u,e[b++]=S&4?h:u,e[b++]=S&2?h:u,e[b++]=S&1?h:u}if(g===0)continue;const x=t<y?i[t++]:255;for(let A=0;A<g;A++)e[b++]=x&1<<7-A?h:u}return{srcPos:t,destPos:b}}const EE=16,CE=100,Kj=15,kE=10,TE=1e3,ri=16;function Qj(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(n,s){t.translate(n,s),this.__originalTranslate(n,s)},i.scale=function(n,s){t.scale(n,s),this.__originalScale(n,s)},i.transform=function(n,s,r,a,c,u){t.transform(n,s,r,a,c,u),this.__originalTransform(n,s,r,a,c,u)},i.setTransform=function(n,s,r,a,c,u){t.setTransform(n,s,r,a,c,u),this.__originalSetTransform(n,s,r,a,c,u)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(n){t.rotate(n),this.__originalRotate(n)},i.clip=function(n){t.clip(n),this.__originalClip(n)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,s,r,a,c){t.bezierCurveTo(e,n,s,r,a,c),this.__originalBezierCurveTo(e,n,s,r,a,c)},i.rect=function(e,n,s,r){t.rect(e,n,s,r),this.__originalRect(e,n,s,r)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class Jj{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,n)):(s=this.canvasFactory.create(e,n),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function gm(i,t,e,n,s,r,a,c,u,h){const[p,g,y,b,w,x]=Se(i);if(g===0&&y===0){const P=a*p+w,R=Math.round(P),M=c*b+x,I=Math.round(M),F=(a+u)*p+w,j=Math.abs(Math.round(F)-R)||1,N=(c+h)*b+x,W=Math.abs(Math.round(N)-I)||1;return i.setTransform(Math.sign(p),0,0,Math.sign(b),R,I),i.drawImage(t,e,n,s,r,0,0,j,W),i.setTransform(p,g,y,b,w,x),[j,W]}if(p===0&&b===0){const P=c*y+w,R=Math.round(P),M=a*g+x,I=Math.round(M),F=(c+h)*y+w,j=Math.abs(Math.round(F)-R)||1,N=(a+u)*g+x,W=Math.abs(Math.round(N)-I)||1;return i.setTransform(0,Math.sign(g),Math.sign(y),0,R,I),i.drawImage(t,e,n,s,r,0,0,W,j),i.setTransform(p,g,y,b,w,x),[W,j]}i.drawImage(t,e,n,s,r,a,c,u,h);const A=Math.hypot(p,g),S=Math.hypot(y,b);return[A*u,S*h]}function Zj(i){const{width:t,height:e}=i;if(t>TE||e>TE)return null;const n=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=t+1;let a=new Uint8Array(r*(e+1)),c,u,h;const p=t+7&-8;let g=new Uint8Array(p*e),y=0;for(const S of i.data){let P=128;for(;P>0;)g[y++]=S&P?0:255,P>>=1}let b=0;for(y=0,g[y]!==0&&(a[0]=1,++b),u=1;u<t;u++)g[y]!==g[y+1]&&(a[u]=g[y]?2:1,++b),y++;for(g[y]!==0&&(a[u]=2,++b),c=1;c<e;c++){y=c*p,h=c*r,g[y-p]!==g[y]&&(a[h]=g[y]?1:8,++b);let S=(g[y]?4:0)+(g[y-p]?8:0);for(u=1;u<t;u++)S=(S>>2)+(g[y+1]?4:0)+(g[y-p+1]?8:0),s[S]&&(a[h+u]=s[S],++b),y++;if(g[y-p]!==g[y]&&(a[h+u]=g[y]?2:4,++b),b>n)return null}for(y=p*(e-1),h=c*r,g[y]!==0&&(a[h]=8,++b),u=1;u<t;u++)g[y]!==g[y+1]&&(a[h+u]=g[y]?4:8,++b),y++;if(g[y]!==0&&(a[h+u]=4,++b),b>n)return null;const w=new Int32Array([0,r,-1,0,-r,0,0,0,1]),x=new Path2D;for(c=0;b&&c<=e;c++){let S=c*r;const P=S+t;for(;S<P&&!a[S];)S++;if(S===P)continue;x.moveTo(S%r,c);const R=S;let M=a[S];do{const I=w[M];do S+=I;while(!a[S]);const F=a[S];F!==5&&F!==10?(M=F,a[S]=0):(M=F&51*M>>4,a[S]&=M>>2|M<<2),x.lineTo(S%r,S/r|0),a[S]||--b}while(R!==S);--c}return g=null,a=null,function(S){S.save(),S.scale(1/t,-1/e),S.translate(0,-e),S.fill(x),S.beginPath(),S.restore()}}class PE{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=lT,this.textMatrixScale=1,this.fontMatrix=Bb,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=An.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=St.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=St.applyTransform(e,t),s=St.applyTransform(e.slice(2),t),r=St.applyTransform([e[0],e[3]],t),a=St.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],s[0],r[0],a[0]),this.minY=Math.min(this.minY,n[1],s[1],r[1],a[1]),this.maxX=Math.max(this.maxX,n[0],s[0],r[0],a[0]),this.maxY=Math.max(this.maxY,n[1],s[1],r[1],a[1])}updateScalingPathMinMax(t,e){St.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,s,r,a,c,u,h,p){const g=St.bezierBoundingBox(e,n,s,r,a,c,u,h,p);p||this.updateRectMinMax(t,g)}getPathBoundingBox(t=Bn.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===Bn.STROKE){e||ge("Stroke bounding box must include transform.");const s=St.singularValueDecompose2dScale(e),r=s[0]*this.lineWidth/2,a=s[1]*this.lineWidth/2;n[0]-=r,n[1]-=a,n[2]+=r,n[3]+=a}return n}updateClipFromPath(){const t=St.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Bn.FILL,e=null){return St.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function RE(i,t){if(typeof ImageData<"u"&&t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,s=e%ri,r=(e-s)/ri,a=s===0?r:r+1,c=i.createImageData(n,ri);let u=0,h;const p=t.data,g=c.data;let y,b,w,x;if(t.kind===Am.GRAYSCALE_1BPP){const A=p.byteLength,S=new Uint32Array(g.buffer,0,g.byteLength>>2),P=S.length,R=n+7>>3,M=4294967295,I=Wn.isLittleEndian?4278190080:255;for(y=0;y<a;y++){for(w=y<r?ri:s,h=0,b=0;b<w;b++){const F=A-u;let j=0;const N=F>R?n:F*8-7,W=N&-8;let $=0,G=0;for(;j<W;j+=8)G=p[u++],S[h++]=G&128?M:I,S[h++]=G&64?M:I,S[h++]=G&32?M:I,S[h++]=G&16?M:I,S[h++]=G&8?M:I,S[h++]=G&4?M:I,S[h++]=G&2?M:I,S[h++]=G&1?M:I;for(;j<N;j++)$===0&&(G=p[u++],$=128),S[h++]=G&$?M:I,$>>=1}for(;h<P;)S[h++]=0;i.putImageData(c,0,y*ri)}}else if(t.kind===Am.RGBA_32BPP){for(b=0,x=n*ri*4,y=0;y<r;y++)g.set(p.subarray(u,u+x)),u+=x,i.putImageData(c,0,b),b+=ri;y<a&&(x=n*s*4,g.set(p.subarray(u,u+x)),i.putImageData(c,0,b))}else if(t.kind===Am.RGB_24BPP)for(w=ri,x=n*w,y=0;y<a;y++){for(y>=r&&(w=s,x=n*w),h=0,b=x;b--;)g[h++]=p[u++],g[h++]=p[u++],g[h++]=p[u++],g[h++]=255;i.putImageData(c,0,y*ri)}else throw new Error(`bad image kind: ${t.kind}`)}function ME(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,s=e%ri,r=(e-s)/ri,a=s===0?r:r+1,c=i.createImageData(n,ri);let u=0;const h=t.data,p=c.data;for(let g=0;g<a;g++){const y=g<r?ri:s;({srcPos:u}=Yj({src:h,srcPos:u,dest:p,width:n,height:y,nonBlackColor:0})),i.putImageData(c,0,g*ri)}}function _d(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function mm(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!Ln){const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}}function LE(i,t){if(t)return!0;const e=St.singularValueDecompose2dScale(i);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*ba.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}const tz=["butt","round","square"],ez=["miter","round","bevel"],nz={},IE={};var _a,mw,yw;const e_=class e_{constructor(t,e,n,s,r,{optionalContentConfig:a,markedContentStack:c=null},u,h){T(this,_a);this.ctx=t,this.current=new PE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=a,this.cachedCanvases=new Jj(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:s=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=c,n){const u=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...Se(this.compositeCtx))}this.ctx.save(),mm(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Se(this.ctx)}executeOperatorList(t,e,n,s){const r=t.argsArray,a=t.fnArray;let c=e||0;const u=r.length;if(u===c)return c;const h=u-c>kE&&typeof n=="function",p=h?Date.now()+Kj:0;let g=0;const y=this.commonObjs,b=this.objs;let w;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,n),c;if(w=a[c],w!==as.dependency)this[w].apply(this,r[c]);else for(const x of r[c]){const A=x.startsWith("g_")?y:b;if(!A.has(x))return A.get(x,n),c}if(c++,c===u)return c;if(h&&++g>kE){if(Date.now()>p)return n(),c;g=0}}}endDrawing(){C(this,_a,mw).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),C(this,_a,yw).call(this)}_scaleImage(t,e){const n=t.width??t.displayWidth,s=t.height??t.displayHeight;let r=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),c=n,u=s,h="prescale1",p,g;for(;r>2&&c>1||a>2&&u>1;){let y=c,b=u;r>2&&c>1&&(y=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),r/=c/y),a>2&&u>1&&(b=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,a/=u/b),p=this.cachedCanvases.getCanvas(h,y,b),g=p.context,g.clearRect(0,0,y,b),g.drawImage(t,0,0,c,u,0,0,y,b),t=p.canvas,c=y,u=b,h=h==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:u}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:s}=t,r=this.current.fillColor,a=this.current.patternFill,c=Se(e);let u,h,p,g;if((t.bitmap||t.data)&&t.count>1){const N=t.bitmap||t.data.buffer;h=JSON.stringify(a?c:[c.slice(0,4),r]),u=this._cachedBitmapsMap.get(N),u||(u=new Map,this._cachedBitmapsMap.set(N,u));const W=u.get(h);if(W&&!a){const $=Math.round(Math.min(c[0],c[2])+c[4]),G=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:W,offsetX:$,offsetY:G}}p=W}p||(g=this.cachedCanvases.getCanvas("maskCanvas",n,s),ME(g.context,t));let y=St.transform(c,[1/n,0,0,-1/s,0,0]);y=St.transform(y,[1,0,0,1,0,-s]);const[b,w,x,A]=St.getAxialAlignedBoundingBox([0,0,n,s],y),S=Math.round(x-b)||1,P=Math.round(A-w)||1,R=this.cachedCanvases.getCanvas("fillCanvas",S,P),M=R.context,I=b,F=w;M.translate(-I,-F),M.transform(...y),p||(p=this._scaleImage(g.canvas,_r(M)),p=p.img,u&&a&&u.set(h,p)),M.imageSmoothingEnabled=LE(Se(M),t.interpolate),gm(M,p,0,0,p.width,p.height,0,0,n,s),M.globalCompositeOperation="source-in";const j=St.transform(_r(M),[1,0,0,1,-I,-F]);return M.fillStyle=a?r.getPattern(e,this,j,Bn.FILL):r,M.fillRect(0,0,n,s),u&&!a&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,R.canvas)),{canvas:R.canvas,offsetX:Math.round(I),offsetY:Math.round(F)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=tz[t]}setLineJoin(t){this.ctx.lineJoin=ez[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=s.context;const r=this.ctx;r.setTransform(...Se(this.suspendedCtx)),_d(this.suspendedCtx,r),Qj(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_d(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,s){const r=s[0],a=s[1],c=s[2]-r,u=s[3]-a;c===0||u===0||(this.genericComposeSMask(e.context,n,c,u,e.subtype,e.backdrop,e.transferMap,r,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,s,r,a,c,u,h,p,g){let y=t.canvas,b=u-p,w=h-g;if(a){const A=St.makeHexColor(...a);if(b<0||w<0||b+n>y.width||w+s>y.height){const S=this.cachedCanvases.getCanvas("maskExtension",n,s),P=S.context;P.drawImage(y,-b,-w),P.globalCompositeOperation="destination-atop",P.fillStyle=A,P.fillRect(0,0,n,s),P.globalCompositeOperation="source-over",y=S.canvas,b=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(b,w,n,s),t.clip(S),t.globalCompositeOperation="destination-atop",t.fillStyle=A,t.fillRect(b,w,n,s),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const x=new Path2D;x.rect(u,h,n,s),e.clip(x),e.globalCompositeOperation="destination-in",e.drawImage(y,b,w,n,s,u,h,n,s),e.restore()}save(){this.inSMaskMode?(_d(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),_d(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,s,r,a){this.ctx.transform(t,e,n,s,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const s=this.ctx,r=this.current;let a=r.x,c=r.y,u,h;const p=Se(s),g=p[0]===0&&p[3]===0||p[1]===0&&p[2]===0,y=g?n.slice(0):null;for(let b=0,w=0,x=t.length;b<x;b++)switch(t[b]|0){case as.rectangle:a=e[w++],c=e[w++];const A=e[w++],S=e[w++],P=a+A,R=c+S;s.moveTo(a,c),A===0||S===0?s.lineTo(P,R):(s.lineTo(P,c),s.lineTo(P,R),s.lineTo(a,R)),g||r.updateRectMinMax(p,[a,c,P,R]),s.closePath();break;case as.moveTo:a=e[w++],c=e[w++],s.moveTo(a,c),g||r.updatePathMinMax(p,a,c);break;case as.lineTo:a=e[w++],c=e[w++],s.lineTo(a,c),g||r.updatePathMinMax(p,a,c);break;case as.curveTo:u=a,h=c,a=e[w+4],c=e[w+5],s.bezierCurveTo(e[w],e[w+1],e[w+2],e[w+3],a,c),r.updateCurvePathMinMax(p,u,h,e[w],e[w+1],e[w+2],e[w+3],a,c,y),w+=6;break;case as.curveTo2:u=a,h=c,s.bezierCurveTo(a,c,e[w],e[w+1],e[w+2],e[w+3]),r.updateCurvePathMinMax(p,u,h,a,c,e[w],e[w+1],e[w+2],e[w+3],y),a=e[w+2],c=e[w+3],w+=4;break;case as.curveTo3:u=a,h=c,a=e[w+2],c=e[w+3],s.bezierCurveTo(e[w],e[w+1],a,c,a,c),r.updateCurvePathMinMax(p,u,h,e[w],e[w+1],a,c,a,c,y),w+=4;break;case as.closePath:s.closePath();break}g&&r.updateScalingPathMinMax(p,y),r.setCurrentPoint(a,c)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(e.save(),e.strokeStyle=n.getPattern(e,this,_r(e),Bn.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;let r=!1;s&&(e.save(),e.fillStyle=n.getPattern(e,this,_r(e),Bn.FILL),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=nz}eoClip(){this.pendingClip=IE}beginText(){this.current.textMatrix=lT,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var p;const n=this.commonObjs.get(t),s=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=n.fontMatrix||Bb,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&zt("Invalid font matrix for font "+t),e<0?(e=-e,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const r=n.loadedName||"sans-serif",a=((p=n.systemFontInfo)==null?void 0:p.css)||`"${r}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const u=n.italic?"italic":"normal";let h=e;e<EE?h=EE:e>CE&&(h=CE),this.current.fontSizeScale=e/h,this.ctx.font=`${u} ${c} ${h}px ${a}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,s,r,a){this.current.textMatrix=[t,e,n,s,r,a],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,s){const r=this.ctx,a=this.current,c=a.font,u=a.textRenderingMode,h=a.fontSize/a.fontSizeScale,p=u&An.FILL_STROKE_MASK,g=!!(u&An.ADD_TO_PATH_FLAG),y=a.patternFill&&!c.missingFile;let b;(c.disableFontFace||g||y)&&(b=c.getPathGenerator(this.commonObjs,t)),c.disableFontFace||y?(r.save(),r.translate(e,n),r.beginPath(),b(r,h),s&&r.setTransform(...s),(p===An.FILL||p===An.FILL_STROKE)&&r.fill(),(p===An.STROKE||p===An.FILL_STROKE)&&r.stroke(),r.restore()):((p===An.FILL||p===An.FILL_STROKE)&&r.fillText(t,e,n),(p===An.STROKE||p===An.FILL_STROKE)&&r.strokeText(t,e,n)),g&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Se(r),x:e,y:n,fontSize:h,addToPath:b})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){n=!0;break}return $t(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(s===0)return;const r=this.ctx,a=e.fontSizeScale,c=e.charSpacing,u=e.wordSpacing,h=e.fontDirection,p=e.textHScale*h,g=t.length,y=n.vertical,b=y?1:-1,w=n.defaultVMetrics,x=s*e.fontMatrix[0],A=e.textRenderingMode===An.FILL&&!n.disableFontFace&&!e.patternFill;r.save(),r.transform(...e.textMatrix),r.translate(e.x,e.y+e.textRise),h>0?r.scale(p,-1):r.scale(p,1);let S;if(e.patternFill){r.save();const F=e.fillColor.getPattern(r,this,_r(r),Bn.FILL);S=Se(r),r.restore(),r.fillStyle=F}let P=e.lineWidth;const R=e.textMatrixScale;if(R===0||P===0){const F=e.textRenderingMode&An.FILL_STROKE_MASK;(F===An.STROKE||F===An.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=R;if(a!==1&&(r.scale(a,a),P/=a),r.lineWidth=P,n.isInvalidPDFjsFont){const F=[];let j=0;for(const N of t)F.push(N.unicode),j+=N.width;r.fillText(F.join(""),0,0),e.x+=j*x*p,r.restore(),this.compose();return}let M=0,I;for(I=0;I<g;++I){const F=t[I];if(typeof F=="number"){M+=b*F*s/1e3;continue}let j=!1;const N=(F.isSpace?u:0)+c,W=F.fontChar,$=F.accent;let G,K,rt=F.width;if(y){const nt=F.vmetric||w,J=-(F.vmetric?nt[1]:rt*.5)*x,Q=nt[2]*x;rt=nt?-nt[0]:rt,G=J/a,K=(M+Q)/a}else G=M/a,K=0;if(n.remeasure&&rt>0){const nt=r.measureText(W).width*1e3/s*a;if(rt<nt&&this.isFontSubpixelAAEnabled){const J=rt/nt;j=!0,r.save(),r.scale(J,1),G/=J}else rt!==nt&&(G+=(rt-nt)/2e3*s/a)}if(this.contentVisible&&(F.isInFont||n.missingFile)){if(A&&!$)r.fillText(W,G,K);else if(this.paintChar(W,G,K,S),$){const nt=G+s*$.offset.x/a,J=K-s*$.offset.y/a;this.paintChar($.fontChar,nt,J,S)}}const ot=y?rt*x-N*h:rt*x+N*h;M+=ot,j&&r.restore()}y?e.y-=M:e.x+=M*p,r.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,s=n.font,r=n.fontSize,a=n.fontDirection,c=s.vertical?1:-1,u=n.charSpacing,h=n.wordSpacing,p=n.textHScale*a,g=n.fontMatrix||Bb,y=t.length,b=n.textRenderingMode===An.INVISIBLE;let w,x,A,S;if(!(b||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(p,a),w=0;w<y;++w){if(x=t[w],typeof x=="number"){S=c*x*r/1e3,this.ctx.translate(S,0),n.x+=S*p;continue}const P=(x.isSpace?h:0)+u,R=s.charProcOperatorList[x.operatorListId];if(!R){zt(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),e.scale(r,r),e.transform(...g),this.executeOperatorList(R),this.restore()),A=St.applyTransform([x.width,0],g)[0]*r+P,e.translate(A,0),n.x+=A*p}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,s,r,a){this.ctx.rect(n,s,r-n,a-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=t[1],s=this.baseTransform||Se(this.ctx),r={createCanvasGraphics:a=>new e_(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new gw(t,n,this.ctx,r,s)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){this.ctx.strokeStyle=this.current.strokeColor=St.makeHexColor(t,e,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,n){this.ctx.fillStyle=this.current.fillColor=St.makeHexColor(t,e,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=qj(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,_r(e),Bn.SHADING);const s=_r(e);{const{width:r,height:a}=e.canvas,[c,u,h,p]=St.getAxialAlignedBoundingBox([0,0,r,a],s);this.ctx.fillRect(c,u,h-c,p-u)}this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ge("Should not call beginInlineImage")}beginImageData(){ge("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Se(this.ctx),e)){const n=e[2]-e[0],s=e[3]-e[1];this.ctx.rect(e[0],e[1],n,s),this.current.updateRectMinMax(Se(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Ky("TODO: Support non-isolated groups."),t.knockout&&zt("Knockout groups not supported.");const n=Se(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=St.getAxialAlignedBoundingBox(t.bbox,Se(e));const r=[0,0,e.canvas.width,e.canvas.height];s=St.intersect(s,r)||[0,0,0,0];const a=Math.floor(s[0]),c=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-a,1),h=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,h]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,u,h),y=g.context;y.translate(-a,-c),y.transform(...n),t.smask?this.smaskStack.push({canvas:g.canvas,context:y,offsetX:a,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(a,c),e.save()),_d(e,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Se(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const r=St.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],s);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,e,n,s,r){if(C(this,_a,mw).call(this),mm(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const a=e[2]-e[0],c=e[3]-e[1];if(r&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=a,e[3]=c;const[u,h]=St.singularValueDecompose2dScale(Se(this.ctx)),{viewportScale:p}=this,g=Math.ceil(a*this.outputScaleX*p),y=Math.ceil(c*this.outputScaleY*p);this.annotationCanvas=this.canvasFactory.create(g,y);const{canvas:b,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(t,b),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(u,0,0,-h,0,c*h),mm(this.ctx)}else mm(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],a,c),this.ctx.clip(),this.ctx.beginPath()}this.current=new PE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),C(this,_a,yw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=Zj(t)),s.compiled)){s.compiled(n);return}const r=this._createMaskCanvas(t),a=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,s=0,r,a){if(!this.contentVisible)return;t=this.getObject(t.data,t);const c=this.ctx;c.save();const u=Se(c);c.transform(e,n,s,r,0,0);const h=this._createMaskCanvas(t);c.setTransform(1,0,0,1,h.offsetX-u[4],h.offsetY-u[5]);for(let p=0,g=a.length;p<g;p+=2){const y=St.transform(u,[e,n,s,r,a[p],a[p+1]]),[b,w]=St.applyTransform([0,0],y);c.drawImage(h.canvas,b,w)}c.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const r of t){const{data:a,width:c,height:u,transform:h}=r,p=this.cachedCanvases.getCanvas("maskCanvas",c,u),g=p.context;g.save();const y=this.getObject(a,r);ME(g,y),g.globalCompositeOperation="source-in",g.fillStyle=s?n.getPattern(g,this,_r(e),Bn.FILL):n,g.fillRect(0,0,c,u),g.restore(),e.save(),e.transform(...h),e.scale(1,-1),gm(e,p.canvas,0,0,c,u,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){zt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,s){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){zt("Dependent image isn't ready yet");return}const a=r.width,c=r.height,u=[];for(let h=0,p=s.length;h<p;h+=2)u.push({transform:[e,0,0,n,s[h],s[h+1]],x:0,y:0,w:a,h:c});this.paintInlineImageXObjectGroup(r,u)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:s}=t,r=this.cachedCanvases.getCanvas("inlineImage",n,s),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,s=this.ctx;if(this.save(),!Ln){const{filter:c}=s;c!=="none"&&c!==""&&(s.filter="none")}s.scale(1/e,-1/n);let r;if(t.bitmap)r=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)r=t;else{const u=this.cachedCanvases.getCanvas("inlineImage",e,n).context;RE(u,t),r=this.applyTransferMapsToCanvas(u)}const a=this._scaleImage(r,_r(s));s.imageSmoothingEnabled=LE(Se(s),t.interpolate),gm(s,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const r=t.width,a=t.height,u=this.cachedCanvases.getCanvas("inlineImage",r,a).context;RE(u,t),s=this.applyTransferMapsToCanvas(u)}for(const r of e)n.save(),n.transform(...r.transform),n.scale(1,-1),gm(n,s,r.x,r.y,r.w,r.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===IE?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Se(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:s,d:r}=this.ctx.getTransform();let a,c;if(n===0&&s===0){const u=Math.abs(e),h=Math.abs(r);if(u===h)if(t===0)a=c=1/u;else{const p=u*t;a=c=p<1?1/p:1}else if(t===0)a=1/u,c=1/h;else{const p=u*t,g=h*t;a=p<1?1/p:1,c=g<1?1/g:1}}else{const u=Math.abs(e*r-n*s),h=Math.hypot(e,n),p=Math.hypot(s,r);if(t===0)a=p/u,c=h/u;else{const g=t*u;a=p>g?p/g:1,c=h>g?h/g:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[s,r]=this.getScaleForStroking();if(e.lineWidth=n||1,s===1&&r===1){e.stroke();return}const a=e.getLineDash();if(t&&e.save(),e.scale(s,r),a.length>0){const c=Math.max(s,r);e.setLineDash(a.map(u=>u/c)),e.lineDashOffset/=c}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};_a=new WeakSet,mw=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},yw=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let nu=e_;for(const i in as)nu.prototype[i]!==void 0&&(nu.prototype[as[i]]=nu.prototype[i]);var Hf,Bf;class to{static get workerPort(){return d(this,Hf)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");E(this,Hf,t)}static get workerSrc(){return d(this,Bf)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");E(this,Bf,t)}}Hf=new WeakMap,Bf=new WeakMap,T(to,Hf,null),T(to,Bf,"");const ym={UNKNOWN:0,DATA:1,ERROR:2},Fe={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function mi(i){switch(i instanceof Error||typeof i=="object"&&i!==null||ge('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new mc(i.message);case"MissingPDFException":return new gc(i.message);case"PasswordException":return new Wb(i.message,i.code);case"UnexpectedResponseException":return new Qy(i.message,i.status);case"UnknownErrorException":return new Ub(i.message,i.details);default:return new Ub(i.message,i.toString())}}var Iu,qi,GT,XT,qT,Lm;class zd{constructor(t,e,n){T(this,qi);T(this,Iu,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",C(this,qi,GT).bind(this),{signal:d(this,Iu).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},n)}catch(a){r.reject(a)}return r.promise}sendWithStream(t,e,n,s){const r=this.streamId++,a=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:h=>{const p=Promise.withResolvers();return this.streamControllers[r]={controller:h,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:a,targetName:c,action:t,streamId:r,data:e,desiredSize:h.desiredSize},s),p.promise},pull:h=>{const p=Promise.withResolvers();return this.streamControllers[r].pullCall=p,u.postMessage({sourceName:a,targetName:c,stream:Fe.PULL,streamId:r,desiredSize:h.desiredSize}),p.promise},cancel:h=>{Ge(h instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[r].cancelCall=p,this.streamControllers[r].isClosed=!0,u.postMessage({sourceName:a,targetName:c,stream:Fe.CANCEL,streamId:r,reason:mi(h)}),p.promise}},n)}destroy(){var t;(t=d(this,Iu))==null||t.abort(),E(this,Iu,null)}}Iu=new WeakMap,qi=new WeakSet,GT=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){C(this,qi,qT).call(this,t);return}if(t.callback){const n=t.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===ym.DATA)s.resolve(t.data);else if(t.callback===ym.ERROR)s.reject(mi(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,s=t.sourceName,r=this.comObj;new Promise(function(a){a(e(t.data))}).then(function(a){r.postMessage({sourceName:n,targetName:s,callback:ym.DATA,callbackId:t.callbackId,data:a})},function(a){r.postMessage({sourceName:n,targetName:s,callback:ym.ERROR,callbackId:t.callbackId,reason:mi(a)})});return}if(t.streamId){C(this,qi,XT).call(this,t);return}e(t.data)},XT=function(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,r=this.comObj,a=this,c=this.actionHandler[t.action],u={enqueue(h,p=1,g){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=p,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:s,stream:Fe.ENQUEUE,streamId:e,chunk:h},g)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:s,stream:Fe.CLOSE,streamId:e}),delete a.streamSinks[e])},error(h){Ge(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:s,stream:Fe.ERROR,streamId:e,reason:mi(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[e]=u,new Promise(function(h){h(c(t.data,u))}).then(function(){r.postMessage({sourceName:n,targetName:s,stream:Fe.START_COMPLETE,streamId:e,success:!0})},function(h){r.postMessage({sourceName:n,targetName:s,stream:Fe.START_COMPLETE,streamId:e,reason:mi(h)})})},qT=function(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,r=this.comObj,a=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case Fe.START_COMPLETE:t.success?a.startCall.resolve():a.startCall.reject(mi(t.reason));break;case Fe.PULL_COMPLETE:t.success?a.pullCall.resolve():a.pullCall.reject(mi(t.reason));break;case Fe.PULL:if(!c){r.postMessage({sourceName:n,targetName:s,stream:Fe.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,new Promise(function(u){var h;u((h=c.onPull)==null?void 0:h.call(c))}).then(function(){r.postMessage({sourceName:n,targetName:s,stream:Fe.PULL_COMPLETE,streamId:e,success:!0})},function(u){r.postMessage({sourceName:n,targetName:s,stream:Fe.PULL_COMPLETE,streamId:e,reason:mi(u)})});break;case Fe.ENQUEUE:if(Ge(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case Fe.CLOSE:if(Ge(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),C(this,qi,Lm).call(this,a,e);break;case Fe.ERROR:Ge(a,"error should have stream controller"),a.controller.error(mi(t.reason)),C(this,qi,Lm).call(this,a,e);break;case Fe.CANCEL_COMPLETE:t.success?a.cancelCall.resolve():a.cancelCall.reject(mi(t.reason)),C(this,qi,Lm).call(this,a,e);break;case Fe.CANCEL:if(!c)break;new Promise(function(u){var h;u((h=c.onCancel)==null?void 0:h.call(c,mi(t.reason)))}).then(function(){r.postMessage({sourceName:n,targetName:s,stream:Fe.CANCEL_COMPLETE,streamId:e,success:!0})},function(u){r.postMessage({sourceName:n,targetName:s,stream:Fe.CANCEL_COMPLETE,streamId:e,reason:mi(u)})}),c.sinkCapability.reject(mi(t.reason)),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Lm=async function(t,e){var n,s,r;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(s=t.pullCall)==null?void 0:s.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var El,Wf;class iz{constructor({parsedData:t,rawData:e}){T(this,El);T(this,Wf);E(this,El,t),E(this,Wf,e)}getRaw(){return d(this,Wf)}get(t){return d(this,El).get(t)??null}getAll(){return Hx(d(this,El))}has(t){return d(this,El).has(t)}}El=new WeakMap,Wf=new WeakMap;const qc=Symbol("INTERNAL");var Uf,Vf,$f,Du;class sz{constructor(t,{name:e,intent:n,usage:s,rbGroups:r}){T(this,Uf,!1);T(this,Vf,!1);T(this,$f,!1);T(this,Du,!0);E(this,Uf,!!(t&ki.DISPLAY)),E(this,Vf,!!(t&ki.PRINT)),this.name=e,this.intent=n,this.usage=s,this.rbGroups=r}get visible(){if(d(this,$f))return d(this,Du);if(!d(this,Du))return!1;const{print:t,view:e}=this.usage;return d(this,Uf)?(e==null?void 0:e.viewState)!=="OFF":d(this,Vf)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==qc&&ge("Internal method `_setVisible` called."),E(this,$f,n),E(this,Du,e)}}Uf=new WeakMap,Vf=new WeakMap,$f=new WeakMap,Du=new WeakMap;var Zo,ne,Ou,Fu,Gf,vw;class rz{constructor(t,e=ki.DISPLAY){T(this,Gf);T(this,Zo,null);T(this,ne,new Map);T(this,Ou,null);T(this,Fu,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,E(this,Fu,t.order);for(const n of t.groups)d(this,ne).set(n.id,new sz(e,n));if(t.baseState==="OFF")for(const n of d(this,ne).values())n._setVisible(qc,!1);for(const n of t.on)d(this,ne).get(n)._setVisible(qc,!0);for(const n of t.off)d(this,ne).get(n)._setVisible(qc,!1);E(this,Ou,this.getHash())}}isVisible(t){if(d(this,ne).size===0)return!0;if(!t)return Ky("Optional content group not defined."),!0;if(t.type==="OCG")return d(this,ne).has(t.id)?d(this,ne).get(t.id).visible:(zt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return C(this,Gf,vw).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!d(this,ne).has(e))return zt(`Optional content group not found: ${e}`),!0;if(d(this,ne).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!d(this,ne).has(e))return zt(`Optional content group not found: ${e}`),!0;if(!d(this,ne).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!d(this,ne).has(e))return zt(`Optional content group not found: ${e}`),!0;if(!d(this,ne).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!d(this,ne).has(e))return zt(`Optional content group not found: ${e}`),!0;if(d(this,ne).get(e).visible)return!1}return!0}return zt(`Unknown optional content policy ${t.policy}.`),!0}return zt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){var r;const s=d(this,ne).get(t);if(!s){zt(`Optional content group not found: ${t}`);return}if(n&&e&&s.rbGroups.length)for(const a of s.rbGroups)for(const c of a)c!==t&&((r=d(this,ne).get(c))==null||r._setVisible(qc,!1,!0));s._setVisible(qc,!!e,!0),E(this,Zo,null)}setOCGState({state:t,preserveRB:e}){let n;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const r=d(this,ne).get(s);if(r)switch(n){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!r.visible,e);break}}E(this,Zo,null)}get hasInitialVisibility(){return d(this,Ou)===null||this.getHash()===d(this,Ou)}getOrder(){return d(this,ne).size?d(this,Fu)?d(this,Fu).slice():[...d(this,ne).keys()]:null}getGroups(){return d(this,ne).size>0?Hx(d(this,ne)):null}getGroup(t){return d(this,ne).get(t)||null}getHash(){if(d(this,Zo)!==null)return d(this,Zo);const t=new OT;for(const[e,n]of d(this,ne))t.update(`${e}:${n.visible}`);return E(this,Zo,t.hexdigest())}}Zo=new WeakMap,ne=new WeakMap,Ou=new WeakMap,Fu=new WeakMap,Gf=new WeakSet,vw=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let s=1;s<e;s++){const r=t[s];let a;if(Array.isArray(r))a=C(this,Gf,vw).call(this,r);else if(d(this,ne).has(r))a=d(this,ne).get(r).visible;else return zt(`Optional content group not found: ${r}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class oz{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Ge(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:a,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=c,(r==null?void 0:r.length)>0){const u=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((u,h)=>{this._onReceiveData({begin:u,chunk:h})}),t.addProgressListener((u,h)=>{this._onProgress({loaded:u,total:h})}),t.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(n),!0)});Ge(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,s,r;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ge(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new az(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new lz(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class az{constructor(t,e,n=!1,s=null){this._stream=t,this._done=n||!1,this._filename=Ux(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class lz{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function cz(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let p=c(e);return p=unescape(p),p=u(p),p=h(p),r(p)}if(e=a(i),e){const p=h(e);return r(p)}if(e=n("filename","i").exec(i),e){e=e[1];let p=c(e);return p=h(p),r(p)}function n(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function s(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const y=new TextDecoder(p,{fatal:!0}),b=Jy(g);g=y.decode(b),t=!1}catch{}}return g}function r(p){return t&&/[\x80-\xff]/.test(p)&&(p=s("utf-8",p),t&&(p=s("iso-8859-1",p))),p}function a(p){const g=[];let y;const b=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=b.exec(p))!==null;){let[,x,A,S]=y;if(x=parseInt(x,10),x in g){if(x===0)break;continue}g[x]=[A,S]}const w=[];for(let x=0;x<g.length&&x in g;++x){let[A,S]=g[x];S=c(S),A&&(S=unescape(S),x===0&&(S=u(S))),w.push(S)}return w.join("")}function c(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let y=0;y<g.length;++y){const b=g[y].indexOf('"');b!==-1&&(g[y]=g[y].slice(0,b),g.length=y+1),g[y]=g[y].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function u(p){const g=p.indexOf("'");if(g===-1)return p;const y=p.slice(0,g),w=p.slice(g+1).replace(/^[^']*'/,"");return s(y,w)}function h(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,y,b,w){if(b==="q"||b==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,A){return String.fromCharCode(parseInt(A,16))}),s(y,w);try{w=atob(w)}catch{}return s(y,w)})}return""}function qx(i,t){const e=new Headers;if(!i||!t||typeof t!="object")return e;for(const n in t){const s=t[n];s!==void 0&&e.append(n,s)}return e}function Yx({responseHeaders:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(i.get("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*e)||n||!t||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function Kx(i){const t=i.get("Content-Disposition");if(t){let e=cz(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Ux(e))return e}return null}function ev(i,t){return i===404||i===0&&t.startsWith("file:")?new gc('Missing PDF "'+t+'".'):new Qy(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i)}function YT(i){return i===200||i===206}function KT(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function QT(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(zt(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class DE{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=qx(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ge(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new uz(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new hz(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class uz{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),s=e.url;fetch(s,KT(n,this._withCredentials,this._abortController)).then(r=>{if(!YT(r.status))throw ev(r.status,s);this._reader=r.body.getReader(),this._headersCapability.resolve();const a=r.headers,{allowRangeRequests:c,suggestedLength:u}=Yx({responseHeaders:a,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=u||this._contentLength,this._filename=Kx(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new mc("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:QT(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class hz{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${e}-${n-1}`);const a=s.url;fetch(a,KT(r,this._withCredentials,this._abortController)).then(c=>{if(!YT(c.status))throw ev(c.status,a);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:QT(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const fb=200,pb=206;function dz(i){const t=i.response;return typeof t!="string"?t:Jy(t).buffer}class fz{constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=qx(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const s={begin:t,end:e};for(const r in n)s[r]=n[r];return this.request(s)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[r,a]of this.headers)e.setRequestHeader(r,a);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=pb):s.expectedStatus=fb,e.responseType="arraybuffer",t.onError&&(e.onerror=function(r){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var s;const n=this.pendingRequests[t];n&&((s=n.onProgress)==null||s.call(n,e))}onStateChange(t,e){var u,h,p;const n=this.pendingRequests[t];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){(u=n.onError)==null||u.call(n,s.status);return}const r=s.status||fb;if(!(r===fb&&n.expectedStatus===pb)&&r!==n.expectedStatus){(h=n.onError)==null||h.call(n,s.status);return}const c=dz(s);if(r===pb){const g=s.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(g);n.onDone({begin:parseInt(y[1],10),chunk:c})}else c?n.onDone({begin:0,chunk:c}):(p=n.onError)==null||p.call(n,s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class pz{constructor(t){this._source=t,this._manager=new fz(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ge(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new gz(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new mz(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class gz{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(a=>{const[c,...u]=a.split(": ");return[c,u.join(": ")]})),{allowRangeRequests:s,suggestedLength:r}=Yx({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=Kx(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=ev(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class mz{constructor(t,e,n){this._manager=t;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=ev(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const yz=/^[a-z][a-z0-9\-+.]+:/i;function vz(i){if(yz.test(i))return new URL(i);const t=wa.get("url");return new URL(t.pathToFileURL(i))}function JT(i,t,e){return i.protocol==="http:"?wa.get("http").request(i,{headers:t},e):wa.get("https").request(i,{headers:t},e)}class bz{constructor(t){this.source=t,this.url=vz(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=qx(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ge(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new _z(this):new wz(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new Sz(this,t,e):new xz(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class ZT{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new mc("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class tP{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class wz extends ZT{constructor(t){super(t);const e=Object.fromEntries(t.headers),n=s=>{if(s.statusCode===404){const u=new gc(`Missing PDF "${this._url}".`);this._storedError=u,this._headersCapability.reject(u);return}this._headersCapability.resolve(),this._setReadableStream(s);const r=new Headers(this._readableStream.headers),{allowRangeRequests:a,suggestedLength:c}=Yx({responseHeaders:r,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=c||this._contentLength,this._filename=Kx(r)};this._request=JT(this._url,e,n),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class xz extends tP{constructor(t,e,n){super(t);const s=Object.fromEntries(t.headers);s.Range=`bytes=${e}-${n-1}`;const r=a=>{if(a.statusCode===404){const c=new gc(`Missing PDF "${this._url}".`);this._storedError=c;return}this._setReadableStream(a)};this._request=JT(this._url,s,r),this._request.on("error",a=>{this._storedError=a}),this._request.end()}}class _z extends ZT{constructor(t){super(t);const e=wa.get("fs");e.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new gc(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class Sz extends tP{constructor(t,e,n){super(t);const s=wa.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:n-1}))}}const Az=1e5,Zn=30,Ez=.8;var sC,ta,ii,Xf,qf,Cl,Fr,Yf,Kf,kl,Nu,ju,ea,zu,Qf,Hu,Tl,Jf,Zf,Te,Pl,Rl,tp,na,Bu,ro,eP,nP,ww,Pi,Im,xw,iP,sP;let bw=(Te=class{constructor({textContentSource:t,container:e,viewport:n}){T(this,ro);T(this,ta,Promise.withResolvers());T(this,ii,null);T(this,Xf,!1);T(this,qf,!!((sC=globalThis.FontInspector)!=null&&sC.enabled));T(this,Cl,null);T(this,Fr,null);T(this,Yf,0);T(this,Kf,0);T(this,kl,null);T(this,Nu,null);T(this,ju,0);T(this,ea,0);T(this,zu,Object.create(null));T(this,Qf,[]);T(this,Hu,null);T(this,Tl,[]);T(this,Jf,new WeakMap);T(this,Zf,null);var u;if(t instanceof ReadableStream)E(this,Hu,t);else if(typeof t=="object")E(this,Hu,new ReadableStream({start(h){h.enqueue(t),h.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,ii,E(this,Nu,e)),E(this,ea,n.scale*(globalThis.devicePixelRatio||1)),E(this,ju,n.rotation),E(this,Fr,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:a,pageY:c}=n.rawDims;E(this,Zf,[1,0,0,-1,-a,c+r]),E(this,Kf,s),E(this,Yf,r),C(u=Te,Pi,iP).call(u),lc(e,n),d(this,ta).promise.finally(()=>{d(Te,Bu).delete(this),E(this,Fr,null),E(this,zu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Wn.platform;return $t(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{d(this,kl).read().then(({value:e,done:n})=>{if(n){d(this,ta).resolve();return}d(this,Cl)??E(this,Cl,e.lang),Object.assign(d(this,zu),e.styles),C(this,ro,eP).call(this,e.items),t()},d(this,ta).reject)};return E(this,kl,d(this,Hu).getReader()),d(Te,Bu).add(this),t(),d(this,ta).promise}update({viewport:t,onBefore:e=null}){var r;const n=t.scale*(globalThis.devicePixelRatio||1),s=t.rotation;if(s!==d(this,ju)&&(e==null||e(),E(this,ju,s),lc(d(this,Nu),{rotation:s})),n!==d(this,ea)){e==null||e(),E(this,ea,n);const a={div:null,properties:null,ctx:C(r=Te,Pi,Im).call(r,d(this,Cl))};for(const c of d(this,Tl))a.properties=d(this,Jf).get(c),a.div=c,C(this,ro,ww).call(this,a)}}cancel(){var e;const t=new mc("TextLayer task cancelled.");(e=d(this,kl))==null||e.cancel(t).catch(()=>{}),E(this,kl,null),d(this,ta).reject(t)}get textDivs(){return d(this,Tl)}get textContentItemsStr(){return d(this,Qf)}static cleanup(){if(!(d(this,Bu).size>0)){d(this,Pl).clear();for(const{canvas:t}of d(this,Rl).values())t.remove();d(this,Rl).clear()}}},ta=new WeakMap,ii=new WeakMap,Xf=new WeakMap,qf=new WeakMap,Cl=new WeakMap,Fr=new WeakMap,Yf=new WeakMap,Kf=new WeakMap,kl=new WeakMap,Nu=new WeakMap,ju=new WeakMap,ea=new WeakMap,zu=new WeakMap,Qf=new WeakMap,Hu=new WeakMap,Tl=new WeakMap,Jf=new WeakMap,Zf=new WeakMap,Pl=new WeakMap,Rl=new WeakMap,tp=new WeakMap,na=new WeakMap,Bu=new WeakMap,ro=new WeakSet,eP=function(t){var s,r;if(d(this,Xf))return;(r=d(this,Fr)).ctx??(r.ctx=C(s=Te,Pi,Im).call(s,d(this,Cl)));const e=d(this,Tl),n=d(this,Qf);for(const a of t){if(e.length>Az){zt("Ignoring additional textDivs for performance reasons."),E(this,Xf,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const c=d(this,ii);E(this,ii,document.createElement("span")),d(this,ii).classList.add("markedContent"),a.id!==null&&d(this,ii).setAttribute("id",`${a.id}`),c.append(d(this,ii))}else a.type==="endMarkedContent"&&E(this,ii,d(this,ii).parentNode);continue}n.push(a.str),C(this,ro,nP).call(this,a)}},nP=function(t){var x;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};d(this,Tl).push(e);const s=St.transform(d(this,Zf),t.transform);let r=Math.atan2(s[1],s[0]);const a=d(this,zu)[t.fontName];a.vertical&&(r+=Math.PI/2);let c=d(this,qf)&&a.fontSubstitution||a.fontFamily;c=Te.fontFamilyMap.get(c)||c;const u=Math.hypot(s[2],s[3]),h=u*C(x=Te,Pi,sP).call(x,c,d(this,Cl));let p,g;r===0?(p=s[4],g=s[5]-h):(p=s[4]+h*Math.sin(r),g=s[5]-h*Math.cos(r));const y="calc(var(--scale-factor)*",b=e.style;d(this,ii)===d(this,Nu)?(b.left=`${(100*p/d(this,Kf)).toFixed(2)}%`,b.top=`${(100*g/d(this,Yf)).toFixed(2)}%`):(b.left=`${y}${p.toFixed(2)}px)`,b.top=`${y}${g.toFixed(2)}px)`),b.fontSize=`${y}${(d(Te,na)*u).toFixed(2)}px)`,b.fontFamily=c,n.fontSize=u,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,d(this,qf)&&(e.dataset.fontName=a.fontSubstitutionLoadedName||t.fontName),r!==0&&(n.angle=r*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const A=Math.abs(t.transform[0]),S=Math.abs(t.transform[3]);A!==S&&Math.max(A,S)/Math.min(A,S)>1.5&&(w=!0)}if(w&&(n.canvasWidth=a.vertical?t.height:t.width),d(this,Jf).set(e,n),d(this,Fr).div=e,d(this,Fr).properties=n,C(this,ro,ww).call(this,d(this,Fr)),n.hasText&&d(this,ii).append(e),n.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),d(this,ii).append(A)}},ww=function(t){var c;const{div:e,properties:n,ctx:s}=t,{style:r}=e;let a="";if(d(Te,na)>1&&(a=`scale(${1/d(Te,na)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:u}=r,{canvasWidth:h,fontSize:p}=n;C(c=Te,Pi,xw).call(c,s,p*d(this,ea),u);const{width:g}=s.measureText(e.textContent);g>0&&(a=`scaleX(${h*d(this,ea)/g}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(r.transform=a)},Pi=new WeakSet,Im=function(t=null){let e=d(this,Rl).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,Rl).set(t,e),d(this,tp).set(e,{size:0,family:""})}return e},xw=function(t,e,n){const s=d(this,tp).get(t);e===s.size&&n===s.family||(t.font=`${e}px ${n}`,s.size=e,s.family=n)},iP=function(){if(d(this,na)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),E(this,na,t.getBoundingClientRect().height),t.remove()},sP=function(t,e){const n=d(this,Pl).get(t);if(n)return n;const s=C(this,Pi,Im).call(this,e);s.canvas.width=s.canvas.height=Zn,C(this,Pi,xw).call(this,s,Zn,t);const r=s.measureText("");let a=r.fontBoundingBoxAscent,c=Math.abs(r.fontBoundingBoxDescent);if(a){const p=a/(a+c);return d(this,Pl).set(t,p),s.canvas.width=s.canvas.height=0,p}s.strokeStyle="red",s.clearRect(0,0,Zn,Zn),s.strokeText("g",0,0);let u=s.getImageData(0,0,Zn,Zn).data;c=0;for(let p=u.length-1-3;p>=0;p-=4)if(u[p]>0){c=Math.ceil(p/4/Zn);break}s.clearRect(0,0,Zn,Zn),s.strokeText("A",0,Zn),u=s.getImageData(0,0,Zn,Zn).data,a=0;for(let p=0,g=u.length;p<g;p+=4)if(u[p]>0){a=Zn-Math.floor(p/4/Zn);break}s.canvas.width=s.canvas.height=0;const h=a?a/(a+c):Ez;return d(this,Pl).set(t,h),h},T(Te,Pi),T(Te,Pl,new Map),T(Te,Rl,new Map),T(Te,tp,new WeakMap),T(Te,na,null),T(Te,Bu,new Set),Te);class pf{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function s(r){var u;if(!r)return;let a=null;const c=r.name;if(c==="#text")a=r.value;else if(pf.shouldBuildText(c))(u=r==null?void 0:r.attributes)!=null&&u.textContent?a=r.attributes.textContent:r.value&&(a=r.value);else return;if(a!==null&&e.push({str:a}),!!r.children)for(const h of r.children)s(h)}return s(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const Cz=65536,kz=100,Tz=5e3,Pz=Ln?Bj:jj,Rz=Ln?Wj:HT,Mz=Ln?Hj:zj,Lz=Ln?Uj:VT;function Iz(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const t=new _w,{docId:e}=t,n=i.url?Dz(i.url):null,s=i.data?Oz(i.data):null,r=i.httpHeaders||null,a=i.withCredentials===!0,c=i.password??null,u=i.range instanceof rP?i.range:null,h=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:Cz;let p=i.worker instanceof iu?i.worker:null;const g=i.verbosity,y=typeof i.docBaseUrl=="string"&&!tv(i.docBaseUrl)?i.docBaseUrl:null,b=typeof i.cMapUrl=="string"?i.cMapUrl:null,w=i.cMapPacked!==!1,x=i.CMapReaderFactory||Rz,A=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,S=i.StandardFontDataFactory||Lz,P=i.stopAtErrors!==!0,R=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,M=i.isEvalSupported!==!1,I=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!Ln,F=typeof i.isChrome=="boolean"?i.isChrome:!Wn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),j=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,N=typeof i.disableFontFace=="boolean"?i.disableFontFace:Ln,W=i.fontExtraProperties===!0,$=i.enableXfa===!0,G=i.ownerDocument||globalThis.document,K=i.disableRange===!0,rt=i.disableStream===!0,ot=i.disableAutoFetch===!0,nt=i.pdfBug===!0,J=i.CanvasFactory||Pz,Q=i.FilterFactory||Mz,X=i.enableHWA===!0,et=u?u.length:i.length??NaN,it=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!Ln&&!N,z=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:x===HT&&S===VT&&b&&A&&Ld(b,document.baseURI)&&Ld(A,document.baseURI);i.canvasFactory&&_E("`canvasFactory`-instance option, please use `CanvasFactory` instead."),i.filterFactory&&_E("`filterFactory`-instance option, please use `FilterFactory` instead.");const Y=null;gj(g);const ut={canvasFactory:new J({ownerDocument:G,enableHWA:X}),filterFactory:new Q({docId:e,ownerDocument:G}),cMapReaderFactory:z?null:new x({baseUrl:b,isCompressed:w}),standardFontDataFactory:z?null:new S({baseUrl:A})};if(!p){const mt={verbosity:g,port:to.workerPort};p=mt.port?iu.fromPort(mt):new iu(mt),t._worker=p}const ft={docId:e,apiVersion:"4.8.69",data:s,password:c,disableAutoFetch:ot,rangeChunkSize:h,length:et,docBaseUrl:y,enableXfa:$,evaluatorOptions:{maxImageSize:R,disableFontFace:N,ignoreErrors:P,isEvalSupported:M,isOffscreenCanvasSupported:I,isChrome:F,canvasMaxAreaInBytes:j,fontExtraProperties:W,useSystemFonts:it,cMapUrl:z?b:null,standardFontDataUrl:z?A:null}},At={disableFontFace:N,fontExtraProperties:W,ownerDocument:G,pdfBug:nt,styleElement:Y,loadingParams:{disableAutoFetch:ot,enableXfa:$}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const mt=p.messageHandler.sendWithPromise("GetDocRequest",ft,s?[s.buffer]:null);let dt;if(u)dt=new oz(u,{disableRange:K,disableStream:rt});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Et;Ln?Et=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Ld(n)?DE:bz:Et=Ld(n)?DE:pz,dt=new Et({url:n,length:et,httpHeaders:r,withCredentials:a,rangeChunkSize:h,disableRange:K,disableStream:rt})}return mt.then(Et=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Mt=new zd(e,Et,p.port),Pt=new zz(Mt,t,dt,At,ut);t._transport=Pt,Mt.send("Ready",null)})}).catch(t._capability.reject),t}function Dz(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(Ln&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Oz(i){if(Ln&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return Jy(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i==null?void 0:i.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function OE(i){return typeof i=="object"&&Number.isInteger(i==null?void 0:i.num)&&i.num>=0&&Number.isInteger(i==null?void 0:i.gen)&&i.gen>=0}var Ry;const My=class My{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Je(My,Ry)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,n;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Ry=new WeakMap,T(My,Ry,0);let _w=My,rP=class{constructor(t,e,n=!1,s=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){ge("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class Fz{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return $t(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ia,Nr,$i,Yc,Dm;class Nz{constructor(t,e,n,s=!1){T(this,$i);T(this,ia,null);T(this,Nr,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=s?new xE:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new oP,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:r=!1}={}){return new jp({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return $t(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:s=Do.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:h=null,printAnnotationStorage:p=null,isEditing:g=!1}){var M,I;(M=this._stats)==null||M.time("Overall");const y=this._transport.getRenderingIntent(n,s,p,g),{renderingIntent:b,cacheKey:w}=y;E(this,Nr,!1),C(this,$i,Dm).call(this),c||(c=this._transport.getOptionalContentConfig(b));let x=this._intentStates.get(w);x||(x=Object.create(null),this._intentStates.set(w,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const A=!!(b&ki.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(I=this._stats)==null||I.time("Page Request"),this._pumpOperatorList(y));const S=F=>{var j;x.renderTasks.delete(P),(this._maybeCleanupAfterRender||A)&&E(this,Nr,!0),C(this,$i,Yc).call(this,!A),F?(P.capability.reject(F),this._abortOperatorList({intentState:x,reason:F instanceof Error?F:new Error(F)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(j=globalThis.Stats)!=null&&j.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new Aw({callback:S,params:{canvasContext:t,viewport:e,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:h});(x.renderTasks||(x.renderTasks=new Set)).add(P);const R=P.task;return Promise.all([x.displayReadyCapability.promise,c]).then(([F,j])=>{var N;if(this.destroyed){S();return}if((N=this._stats)==null||N.time("Rendering"),!(j.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:F,optionalContentConfig:j}),P.operatorListChanged()}).catch(S),R}getOperatorList({intent:t="display",annotationMode:e=Do.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){var h;function r(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(u))}const a=this._transport.getRenderingIntent(t,e,n,s,!0);let c=this._intentStates.get(a.cacheKey);c||(c=Object.create(null),this._intentStates.set(a.cacheKey,c));let u;return c.opListReadCapability||(u=Object.create(null),u.operatorListChanged=r,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(u),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(h=this._stats)==null||h.time("Page Request"),this._pumpOperatorList(a)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>pf.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,s){function r(){a.read().then(function({value:u,done:h}){if(h){n(c);return}c.lang??(c.lang=u.lang),Object.assign(c.styles,u.styles),c.items.push(...u.items),r()},s)}const a=e.getReader(),c={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),E(this,Nr,!1),C(this,$i,Dm).call(this),Promise.all(t)}cleanup(t=!1){E(this,Nr,!0);const e=C(this,$i,Yc).call(this,!1);return t&&e&&this._stats&&(this._stats=new xE),e}_startRenderPage(t,e){var s,r;const n=this._intentStates.get(e);n&&((s=this._stats)==null||s.timeEnd("Page Request"),(r=n.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,e){for(let n=0,s=t.length;n<s;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&C(this,$i,Yc).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:s}){const{map:r,transfer:a}=n,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:r,modifiedIds:s},a).getReader(),h=this._intentStates.get(e);h.streamReader=u;const p=()=>{u.read().then(({value:g,done:y})=>{if(y){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,h),p())},g=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const y of h.renderTasks)y.operatorListChanged();C(this,$i,Yc).call(this,!0)}if(h.displayReadyCapability)h.displayReadyCapability.reject(g);else if(h.opListReadCapability)h.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Wx){let s=kz;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new mc(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}ia=new WeakMap,Nr=new WeakMap,$i=new WeakSet,Yc=function(t=!1){if(C(this,$i,Dm).call(this),!d(this,Nr)||this.destroyed)return!1;if(t)return E(this,ia,setTimeout(()=>{E(this,ia,null),C(this,$i,Yc).call(this,!1)},Tz)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,Nr,!1),!0},Dm=function(){d(this,ia)&&(clearTimeout(d(this,ia)),E(this,ia,null))};var jr,Ly;class jz{constructor(){T(this,jr,new Map);T(this,Ly,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};d(this,Ly).then(()=>{for(const[s]of d(this,jr))s.call(this,n)})}addEventListener(t,e,n=null){let s=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:r}=n;if(r.aborted){zt("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(t,e);s=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}d(this,jr).set(e,s)}removeEventListener(t,e){const n=d(this,jr).get(e);n==null||n(),d(this,jr).delete(e)}terminate(){for(const[,t]of d(this,jr))t==null||t();d(this,jr).clear()}}jr=new WeakMap,Ly=new WeakMap;var Iy,Ml,Ll,Wu,Om,Uu,Fm;const ye=class ye{constructor({name:t=null,port:e=null,verbosity:n=mj()}={}){T(this,Wu);var s;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((s=d(ye,Ll))!=null&&s.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(d(ye,Ll)||E(ye,Ll,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return Ln?Promise.all([wa.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new zd("main","worker",t),this._messageHandler.on("ready",function(){}),C(this,Wu,Om).call(this)}_initialize(){if(d(ye,Ml)||d(ye,Uu,Fm)){this._setupFakeWorker();return}let{workerSrc:t}=ye;try{ye._isSameOrigin(window.location.href,t)||(t=ye._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new zd("main","worker",e),s=()=>{r.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;e.addEventListener("error",()=>{this._webWorker||s()},{signal:r.signal}),n.on("test",c=>{if(r.abort(),this.destroyed||!c){s();return}this._messageHandler=n,this._port=e,this._webWorker=e,C(this,Wu,Om).call(this)}),n.on("ready",c=>{if(r.abort(),this.destroyed){s();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};a();return}catch{Ky("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){d(ye,Ml)||(zt("Setting up fake worker."),E(ye,Ml,!0)),ye._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new jz;this._port=e;const n=`fake${Je(ye,Iy)._++}`,s=new zd(n+"_worker",n,e);t.setup(s,e),this._messageHandler=new zd(n,n+"_worker",e),C(this,Wu,Om).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=d(ye,Ll))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(n=d(this,Ll))==null?void 0:n.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ye(t)}static get workerSrc(){if(to.workerSrc)return to.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return $t(this,"_setupFakeWorkerGlobal",(async()=>d(this,Uu,Fm)?d(this,Uu,Fm):(await import(this.workerSrc)).WorkerMessageHandler)())}};Iy=new WeakMap,Ml=new WeakMap,Ll=new WeakMap,Wu=new WeakSet,Om=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Uu=new WeakSet,Fm=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},T(ye,Uu),T(ye,Iy,0),T(ye,Ml,!1),T(ye,Ll),Ln&&(E(ye,Ml,!0),to.workerSrc||(to.workerSrc="./pdf.worker.mjs")),ye._isSameOrigin=(t,e)=>{let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const s=new URL(e,n);return n.origin===s.origin},ye._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let iu=ye;var zr,Ks,Vu,$u,Qs,Il,Hd;class zz{constructor(t,e,n,s,r){T(this,Il);T(this,zr,new Map);T(this,Ks,new Map);T(this,Vu,new Map);T(this,$u,new Map);T(this,Qs,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new oP,this.fontLoader=new Fj({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return $t(this,"annotationStorage",new Gx)}getRenderingIntent(t,e=Do.ENABLE,n=null,s=!1,r=!1){let a=ki.DISPLAY,c=uw;switch(t){case"any":a=ki.ANY;break;case"display":break;case"print":a=ki.PRINT;break;default:zt(`getRenderingIntent - invalid intent: ${t}`)}const u=a&ki.PRINT&&n instanceof NT?n:this.annotationStorage;switch(e){case Do.DISABLE:a+=ki.ANNOTATIONS_DISABLE;break;case Do.ENABLE:break;case Do.ENABLE_FORMS:a+=ki.ANNOTATIONS_FORMS;break;case Do.ENABLE_STORAGE:a+=ki.ANNOTATIONS_STORAGE,c=u.serializable;break;default:zt(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(a+=ki.IS_EDITING),r&&(a+=ki.OPLIST);const{ids:h,hash:p}=u.modifiedIds,g=[a,c.hash,p];return{renderingIntent:a,cacheKey:g.join("_"),annotationStorageSerializable:c,modifiedIds:h}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=d(this,Qs))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of d(this,Ks).values())t.push(s._destroy());d(this,Ks).clear(),d(this,Vu).clear(),d(this,$u).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),d(this,zr).clear(),this.filterFactory.destroy(),bw.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new mc("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,s)=>{Ge(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){s.close();return}Ge(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",async n=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:r,contentLength:a}=this._fullReader;return(!s||!r)&&(this._lastProgress&&((c=e.onProgress)==null||c.call(e,this._lastProgress)),this._fullReader.onProgress=u=>{var h;(h=e.onProgress)==null||h.call(e,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:s,isRangeSupported:r,contentLength:a}}),t.on("GetRangeReader",(n,s)=>{Ge(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:a,done:c}){if(c){s.close();return}Ge(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{r.cancel(a),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new Fz(n,this))}),t.on("DocException",function(n){let s;switch(n.name){case"PasswordException":s=new Wb(n.message,n.code);break;case"InvalidPDFException":s=new cT(n.message);break;case"MissingPDFException":s=new gc(n.message);break;case"UnexpectedResponseException":s=new Qy(n.message,n.status);break;case"UnknownErrorException":s=new Ub(n.message,n.details);break;default:ge("DocException - expected a valid Error.")}e._capability.reject(s)}),t.on("PasswordRequest",n=>{if(E(this,Qs,Promise.withResolvers()),e.onPassword){const s=r=>{r instanceof Error?d(this,Qs).reject(r):d(this,Qs).resolve({password:r})};try{e.onPassword(s,n.code)}catch(r){d(this,Qs).reject(r)}}else d(this,Qs).reject(new Wb(n.message,n.code));return d(this,Qs).promise}),t.on("DataLoaded",n=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;d(this,Ks).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,s,r])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":const{disableFontFace:c,fontExtraProperties:u,pdfBug:h}=this._params;if("error"in r){const b=r.error;zt(`Error during font loading: ${b}`),this.commonObjs.resolve(n,b);break}const p=h&&((a=globalThis.FontInspector)!=null&&a.enabled)?(b,w)=>globalThis.FontInspector.fontAdded(b,w):null,g=new Nj(r,{disableFontFace:c,inspectFont:p});this.fontLoader.bind(g).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!u&&g.data&&(g.data=null),this.commonObjs.resolve(n,g)});break;case"CopyLocalImage":const{imageRef:y}=r;Ge(y,"The imageRef must be defined.");for(const b of d(this,Ks).values())for(const[,w]of b.objs)if((w==null?void 0:w.ref)===y)return w.dataLen?(this.commonObjs.resolve(n,structuredClone(w)),w.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([n,s,r,a])=>{var u;if(this.destroyed)return;const c=d(this,Ks).get(s);if(!c.objs.has(n)){if(c._intentStates.size===0){(u=a==null?void 0:a.bitmap)==null||u.close();return}switch(r){case"Image":c.objs.resolve(n,a),(a==null?void 0:a.dataLen)>hj&&(c._maybeCleanupAfterRender=!0);break;case"Pattern":c.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",n=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),t.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&zt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=d(this,Vu).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&d(this,$u).set(r.refStr,t);const a=new Nz(e,r,this,this._params.pdfBug);return d(this,Ks).set(e,a),a});return d(this,Vu).set(e,s),s}getPageIndex(t){return OE(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return C(this,Il,Hd).call(this,"GetFieldObjects")}hasJSActions(){return C(this,Il,Hd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return C(this,Il,Hd).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return C(this,Il,Hd).call(this,"GetOptionalContentConfig").then(e=>new rz(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=d(this,zr).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(s=>{var r,a;return{info:s[0],metadata:s[1]?new iz(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return d(this,zr).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of d(this,Ks).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),d(this,zr).clear(),this.filterFactory.destroy(!0),bw.cleanup()}}cachedPageNumber(t){if(!OE(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return d(this,$u).get(e)??null}}zr=new WeakMap,Ks=new WeakMap,Vu=new WeakMap,$u=new WeakMap,Qs=new WeakMap,Il=new WeakSet,Hd=function(t,e=null){const n=d(this,zr).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise(t,e);return d(this,zr).set(t,s),s};const vm=Symbol("INITIAL_DATA");var ps,ep,Sw;class oP{constructor(){T(this,ep);T(this,ps,Object.create(null))}get(t,e=null){if(e){const s=C(this,ep,Sw).call(this,t);return s.promise.then(()=>e(s.data)),null}const n=d(this,ps)[t];if(!n||n.data===vm)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=d(this,ps)[t];return!!e&&e.data!==vm}resolve(t,e=null){const n=C(this,ep,Sw).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in d(this,ps)){const{data:n}=d(this,ps)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}E(this,ps,Object.create(null))}*[Symbol.iterator](){for(const t in d(this,ps)){const{data:e}=d(this,ps)[t];e!==vm&&(yield[t,e])}}}ps=new WeakMap,ep=new WeakSet,Sw=function(t){var e;return(e=d(this,ps))[t]||(e[t]={...Promise.withResolvers(),data:vm})};var sa;class Hz{constructor(t){T(this,sa,null);E(this,sa,t),this.onContinue=null}get promise(){return d(this,sa).capability.promise}cancel(t=0){d(this,sa).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=d(this,sa).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=d(this,sa);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}sa=new WeakMap;var ra,Dl;const Qa=class Qa{constructor({callback:t,params:e,objs:n,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:c,canvasFactory:u,filterFactory:h,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:y=null}){T(this,ra,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=c,this.canvasFactory=u,this.filterFactory=h,this._pdfBug=g,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Hz(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var c,u;if(this.cancelled)return;if(this._canvas){if(d(Qa,Dl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(Qa,Dl).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:r,background:a}=this.params;this.gfx=new nu(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:s,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(t=null,e=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),d(this,ra)&&(window.cancelAnimationFrame(d(this,ra)),E(this,ra,null)),d(Qa,Dl).delete(this._canvas),this.callback(t||new Wx(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?E(this,ra,window.requestAnimationFrame(()=>{E(this,ra,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(Qa,Dl).delete(this._canvas),this.callback())))}};ra=new WeakMap,Dl=new WeakMap,T(Qa,Dl,new WeakSet);let Aw=Qa;const Bz="4.8.69",Wz="3634dab10";function FE(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function Sd(i){return Math.max(0,Math.min(255,255*i))}class NE{static CMYK_G([t,e,n,s]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Sd(t),[t,t,t]}static G_HTML([t]){const e=FE(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Sd)}static RGB_HTML(t){return`#${t.map(FE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,n+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,n,s]){return[Sd(1-Math.min(1,t+s)),Sd(1-Math.min(1,n+s)),Sd(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const s=1-t,r=1-e,a=1-n,c=Math.min(s,r,a);return["CMYK",s,r,a,c]}}class Uz{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ge("Abstract method `_createSVG` called.")}}class Qx extends Uz{_createSVG(t){return document.createElementNS(Cr,t)}}class aP{static setupStorage(t,e,n,s,r){const a=s.getValue(e,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(t.textContent=a.value),r==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?t.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",c=>{s.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&t.setAttribute("value",a.value),r==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})})}break;case"select":if(a.value!==null){t.setAttribute("value",a.value);for(const c of n.children)c.attributes.value===a.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const u=c.target.options,h=u.selectedIndex===-1?"":u[u.selectedIndex].value;s.setValue(e,{value:h})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:s,linkService:r}){const{attributes:a}=e,c=t instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[u,h]of Object.entries(a))if(h!=null)switch(u){case"class":h.length&&t.setAttribute(u,h.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",h);break;case"style":Object.assign(t.style,h);break;case"textContent":t.textContent=h;break;default:(!c||u!=="href"&&u!=="newWindow")&&t.setAttribute(u,h)}c&&r.addLinkAttributes(t,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(t,a.dataId,e,n)}static render(t){var g,y;const e=t.annotationStorage,n=t.linkService,s=t.xfaHtml,r=t.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:r,linkService:n});const c=r!=="richText",u=t.div;if(u.append(a),t.viewport){const b=`matrix(${t.viewport.transform.join(",")})`;u.style.transform=b}c&&u.setAttribute("class","xfaLayer xfaFont");const h=[];if(s.children.length===0){if(s.value){const b=document.createTextNode(s.value);a.append(b),c&&pf.shouldBuildText(s.name)&&h.push(b)}return{textDivs:h}}const p=[[s,-1,a]];for(;p.length>0;){const[b,w,x]=p.at(-1);if(w+1===b.children.length){p.pop();continue}const A=b.children[++p.at(-1)[1]];if(A===null)continue;const{name:S}=A;if(S==="#text"){const R=document.createTextNode(A.value);h.push(R),x.append(R);continue}const P=(g=A==null?void 0:A.attributes)!=null&&g.xmlns?document.createElementNS(A.attributes.xmlns,S):document.createElement(S);if(x.append(P),A.attributes&&this.setAttributes({html:P,element:A,storage:e,intent:r,linkService:n}),((y=A.children)==null?void 0:y.length)>0)p.push([A,-1,P]);else if(A.value){const R=document.createTextNode(A.value);c&&pf.shouldBuildText(S)&&h.push(R),P.append(R)}}for(const b of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))b.setAttribute("readOnly",!0);return{textDivs:h}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Hp=1e3,Vz=9,uc=new WeakSet;function eo(i){return{width:i[2]-i[0],height:i[3]-i[1]}}class $z{static create(t){switch(t.data.annotationType){case We.LINK:return new lP(t);case We.TEXT:return new Gz(t);case We.WIDGET:switch(t.data.fieldType){case"Tx":return new Xz(t);case"Btn":return t.data.radioButton?new hP(t):t.data.checkBox?new Yz(t):new Kz(t);case"Ch":return new Qz(t);case"Sig":return new qz(t)}return new yc(t);case We.POPUP:return new Cw(t);case We.FREETEXT:return new mP(t);case We.LINE:return new Zz(t);case We.SQUARE:return new tH(t);case We.CIRCLE:return new eH(t);case We.POLYLINE:return new yP(t);case We.CARET:return new iH(t);case We.INK:return new Jx(t);case We.POLYGON:return new nH(t);case We.HIGHLIGHT:return new vP(t);case We.UNDERLINE:return new sH(t);case We.SQUIGGLY:return new rH(t);case We.STRIKEOUT:return new oH(t);case We.STAMP:return new bP(t);case We.FILEATTACHMENT:return new aH(t);default:return new Ie(t)}}}var Ol,Gu,Xu,np,Ew;const n_=class n_{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){T(this,np);T(this,Ol,null);T(this,Gu,!1);T(this,Xu,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return n_._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;d(this,Ol)||E(this,Ol,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&C(this,np,Ew).call(this,e),(n=d(this,Xu))==null||n.popup.updateEdited(t)}resetEdited(){var t;d(this,Ol)&&(C(this,np,Ew).call(this,d(this,Ol).rect),(t=d(this,Xu))==null||t.popup.resetEdited(),E(this,Ol,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),this instanceof yc||(r.tabIndex=Hp);const{style:a}=r;if(a.zIndex=this.parent.zIndex++,e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof Cw){const{rotation:x}=e;return!e.hasOwnCanvas&&x!==0&&this.setRotation(x,r),r}const{width:c,height:u}=eo(e.rect);if(!t&&e.borderStyle.width>0){a.borderWidth=`${e.borderStyle.width}px`;const x=e.borderStyle.horizontalCornerRadius,A=e.borderStyle.verticalCornerRadius;if(x>0||A>0){const P=`calc(${x}px * var(--scale-factor)) / calc(${A}px * var(--scale-factor))`;a.borderRadius=P}else if(this instanceof hP){const P=`calc(${c}px * var(--scale-factor)) / calc(${u}px * var(--scale-factor))`;a.borderRadius=P}switch(e.borderStyle.style){case xd.SOLID:a.borderStyle="solid";break;case xd.DASHED:a.borderStyle="dashed";break;case xd.BEVELED:zt("Unimplemented border style: beveled");break;case xd.INSET:zt("Unimplemented border style: inset");break;case xd.UNDERLINE:a.borderBottomStyle="solid";break}const S=e.borderColor||null;S?(E(this,Gu,!0),a.borderColor=St.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):a.borderWidth=0}const h=St.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:g,pageX:y,pageY:b}=s.rawDims;a.left=`${100*(h[0]-y)/p}%`,a.top=`${100*(h[1]-b)/g}%`;const{rotation:w}=e;return e.hasOwnCanvas||w===0?(a.width=`${100*c/p}%`,a.height=`${100*u/g}%`):this.setRotation(w,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:r,height:a}=eo(this.data.rect);let c,u;t%180===0?(c=100*r/n,u=100*a/s):(c=100*a/n,u=100*r/s),e.style.width=`${c}%`,e.style.height=`${u}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,s)=>{const r=s.detail[e],a=r[0],c=r.slice(1);s.target.style[n]=NE[`${a}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:NE[`${a}_rgb`](c)})};return $t(this,"_commonActions",{display:e=>{const{display:n}=e.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const s of Object.keys(e.detail)){const r=t[s]||n[s];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[s,r]of Object.entries(e)){const a=n[s];if(a){const c={detail:{[s]:r},target:t};a(c),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,s,r]=this.data.rect.map(x=>Math.fround(x));if(t.length===8){const[x,A,S,P]=t.subarray(2,6);if(s===x&&r===A&&e===S&&n===P)return}const{style:a}=this.container;let c;if(d(this,Gu)){const{borderColor:x,borderWidth:A}=a;a.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const u=s-e,h=r-n,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0);const y=p.createElement("defs");g.append(y);const b=p.createElement("clipPath"),w=`clippath_${this.data.id}`;b.setAttribute("id",w),b.setAttribute("clipPathUnits","objectBoundingBox"),y.append(b);for(let x=2,A=t.length;x<A;x+=8){const S=t[x],P=t[x+1],R=t[x+2],M=t[x+3],I=p.createElement("rect"),F=(R-e)/u,j=(r-P)/h,N=(S-R)/u,W=(P-M)/h;I.setAttribute("x",F),I.setAttribute("y",j),I.setAttribute("width",N),I.setAttribute("height",W),b.append(I),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${F}" y="${j}" width="${N}" height="${W}"/>`)}d(this,Gu)&&(c.push("</g></svg>')"),a.backgroundImage=c.join("")),this.container.append(g),this.container.style.clipPath=`url(#${w})`}_createPopup(){const{data:t}=this,e=E(this,Xu,new Cw({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ge("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:r,id:a,exportValues:c}of s){if(r===-1||a===e)continue;const u=typeof c=="string"?c:null,h=document.querySelector(`[data-element-id="${a}"]`);if(h&&!uc.has(h)){zt(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:u,domElement:h})}return n}for(const s of document.getElementsByName(t)){const{exportValue:r}=s,a=s.getAttribute("data-element-id");a!==e&&uc.has(s)&&n.push({id:a,exportValue:r,domElement:s})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Ol=new WeakMap,Gu=new WeakMap,Xu=new WeakMap,np=new WeakSet,Ew=function(t){const{container:{style:e},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:c,pageY:u}}}}=this;n==null||n.splice(0,4,...t);const{width:h,height:p}=eo(t);e.left=`${100*(t[0]-c)/r}%`,e.top=`${100*(a-t[3]+u)/a}%`,s===0?(e.width=`${100*h/r}%`,e.height=`${100*p/a}%`):this.setRotation(s)};let Ie=n_;var Ti,Ga,cP,uP;class lP extends Ie{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});T(this,Ti);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let r=!1;return e.url?(n.addLinkAttributes(s,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(s,e.action),r=!0):e.attachment?(C(this,Ti,cP).call(this,s,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(C(this,Ti,uP).call(this,s,e.setOCGState),r=!0):e.dest?(this._bindLink(s,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),r=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&C(this,Ti,Ga).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),C(this,Ti,Ga).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(n.actions)){const a=s.get(r);a&&(e[a]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),C(this,Ti,Ga).call(this)}_bindResetFormAction(e,n){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),C(this,Ti,Ga).call(this),!this._fieldObjects){zt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{var g;s==null||s();const{fields:r,refs:a,include:c}=n,u=[];if(r.length!==0||a.length!==0){const y=new Set(a);for(const b of r){const w=this._fieldObjects[b]||[];for(const{id:x}of w)y.add(x)}for(const b of Object.values(this._fieldObjects))for(const w of b)y.has(w.id)===c&&u.push(w)}else for(const y of Object.values(this._fieldObjects))u.push(...y);const h=this.annotationStorage,p=[];for(const y of u){const{id:b}=y;switch(p.push(b),y.type){case"text":{const x=y.defaultValue||"";h.setValue(b,{value:x});break}case"checkbox":case"radiobutton":{const x=y.defaultValue===y.exportValues;h.setValue(b,{value:x});break}case"combobox":case"listbox":{const x=y.defaultValue||"";h.setValue(b,{value:x});break}default:continue}const w=document.querySelector(`[data-element-id="${b}"]`);if(w){if(!uc.has(w)){zt(`_bindResetFormAction - element not allowed: ${b}`);continue}}else continue;w.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}})),!1}}}Ti=new WeakSet,Ga=function(){this.container.setAttribute("data-internal-link","")},cP=function(e,n,s=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(n.content,n.filename,s),!1},C(this,Ti,Ga).call(this)},uP=function(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),C(this,Ti,Ga).call(this)};class Gz extends Ie{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class yc extends Ie{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Wn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,s,r){n.includes("mouse")?t.addEventListener(n,a=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):t.addEventListener(n,a=>{var c;if(n==="blur"){if(!e.focused||!a.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}r&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a)}}))})}_setEventListeners(t,e,n,s){var r,a,c;for(const[u,h]of n)(h==="Action"||(r=this.data.actions)!=null&&r[h])&&((h==="Focus"||h==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,u,h,s),h==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(t,e,"blur","Blur",null):h==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":St.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||Vz,r=t.style;let a;const c=2,u=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(h/(cb*s))||1,g=h/p;a=Math.min(s,u(g/cb))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c);a=Math.min(s,u(h/cb))}r.fontSize=`calc(${a}px * var(--scale-factor))`,r.color=St.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class Xz extends yc{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,s){const r=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=n),r.setValue(a.id,{[s]:n})}render(){var s,r;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let c=a.value||"";const u=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;u&&c.length>u&&(c=c.slice(0,u));let h=a.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const p={userValue:c,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=h??c,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",h??c),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),uc.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Hp,this._setRequired(n,this.data.required),u&&(n.maxLength=u),n.addEventListener("input",y=>{t.setValue(e,{value:y.target.value}),this.setPropertyOnSiblings(n,"value",y.target.value,"value"),p.formattedValue=null}),n.addEventListener("resetform",y=>{const b=this.data.defaultFieldValue??"";n.value=p.userValue=b,p.formattedValue=null});let g=y=>{const{formattedValue:b}=p;b!=null&&(y.target.value=b),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",b=>{var x;if(p.focused)return;const{target:w}=b;p.userValue&&(w.value=p.userValue),p.lastCommittedValue=w.value,p.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(p.focused=!0)}),n.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const w={value(x){p.userValue=x.detail.value??"",t.setValue(e,{value:p.userValue.toString()}),x.target.value=p.userValue},formattedValue(x){const{formattedValue:A}=x.detail;p.formattedValue=A,A!=null&&x.target!==document.activeElement&&(x.target.value=A),t.setValue(e,{formattedValue:A})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var R;const{charLimit:A}=x.detail,{target:S}=x;if(A===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",A);let P=p.userValue;!P||P.length<=A||(P=P.slice(0,A),S.value=p.userValue=P,t.setValue(e,{value:P}),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(w,b)}),n.addEventListener("keydown",b=>{var A;p.commitKey=1;let w=-1;if(b.key==="Escape"?w=0:b.key==="Enter"&&!this.data.multiLine?w=2:b.key==="Tab"&&(p.commitKey=3),w===-1)return;const{value:x}=b.target;p.lastCommittedValue!==x&&(p.lastCommittedValue=x,p.userValue=x,(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:w,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const y=g;g=null,n.addEventListener("blur",b=>{var x,A;if(!p.focused||!b.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(p.focused=!1);const{value:w}=b.target;p.userValue=w,p.lastCommittedValue!==w&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:p.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}})),y(b)}),(r=this.data.actions)!=null&&r.Keystroke&&n.addEventListener("beforeinput",b=>{var I;p.lastCommittedValue=null;const{data:w,target:x}=b,{value:A,selectionStart:S,selectionEnd:P}=x;let R=S,M=P;switch(b.inputType){case"deleteWordBackward":{const F=A.substring(0,S).match(/\w*[^\w]*$/);F&&(R-=F[0].length);break}case"deleteWordForward":{const F=A.substring(S).match(/^[^\w]*\w*/);F&&(M+=F[0].length);break}case"deleteContentBackward":S===P&&(R-=1);break;case"deleteContentForward":S===P&&(M+=1);break}b.preventDefault(),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,change:w||"",willCommit:!1,selStart:R,selEnd:M}})}),this._setEventListeners(n,p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(g&&n.addEventListener("blur",g),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/u;n.classList.add("comb"),n.style.letterSpacing=`calc(${b}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class qz extends yc{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Yz extends yc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return uc.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=Hp,r.addEventListener("change",a=>{const{name:c,checked:u}=a.target;for(const h of this._getElementsByName(c,n)){const p=u&&h.exportValue===e.exportValue;h.domElement&&(h.domElement.checked=p),t.setValue(h.id,{value:p})}t.setValue(n,{value:u})}),r.addEventListener("resetform",a=>{const c=e.defaultFieldValue||"Off";a.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const c={value(u){u.target.checked=u.detail.value!=="Off",t.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class hP extends yc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(n,{value:s})),s)for(const a of this._getElementsByName(e.fieldName,n))t.setValue(a.id,{value:!1});const r=document.createElement("input");if(uc.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=Hp,r.addEventListener("change",a=>{const{name:c,checked:u}=a.target;for(const h of this._getElementsByName(c,n))t.setValue(h.id,{value:!1});t.setValue(n,{value:u})}),r.addEventListener("resetform",a=>{const c=e.defaultFieldValue;a.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const a=e.buttonValue;r.addEventListener("updatefromsandbox",c=>{const u={value:h=>{const p=a===h.detail.value;for(const g of this._getElementsByName(h.target.name)){const y=p&&g.id===n;g.domElement&&(g.domElement.checked=y),t.setValue(g.id,{value:y})}}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Kz extends lP{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class Qz extends yc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");uc.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Hp;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const y of s.options)y.selected=y.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,n.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),r=!1),s.append(g)}let a=null;if(r){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),s.prepend(p),a=()=>{p.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const c=p=>{const g=p?"value":"textContent",{options:y,multiple:b}=s;return b?Array.prototype.filter.call(y,w=>w.selected).map(w=>w[g]):y.selectedIndex===-1?null:y[y.selectedIndex][g]};let u=c(!1);const h=p=>{const g=p.target.options;return Array.prototype.map.call(g,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",p=>{const g={value(y){a==null||a();const b=y.detail.value,w=new Set(Array.isArray(b)?b:[b]);for(const x of s.options)x.selected=w.has(x.value);t.setValue(e,{value:c(!0)}),u=c(!1)},multipleSelection(y){s.multiple=!0},remove(y){const b=s.options,w=y.detail.remove;b[w].selected=!1,s.remove(w),b.length>0&&Array.prototype.findIndex.call(b,A=>A.selected)===-1&&(b[0].selected=!0),t.setValue(e,{value:c(!0),items:h(y)}),u=c(!1)},clear(y){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),u=c(!1)},insert(y){const{index:b,displayValue:w,exportValue:x}=y.detail.insert,A=s.children[b],S=document.createElement("option");S.textContent=w,S.value=x,A?A.before(S):s.append(S),t.setValue(e,{value:c(!0),items:h(y)}),u=c(!1)},items(y){const{items:b}=y.detail;for(;s.length!==0;)s.remove(0);for(const w of b){const{displayValue:x,exportValue:A}=w,S=document.createElement("option");S.textContent=x,S.value=A,s.append(S)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:c(!0),items:h(y)}),u=c(!1)},indices(y){const b=new Set(y.detail.indices);for(const w of y.target.options)w.selected=b.has(w.index);t.setValue(e,{value:c(!0)}),u=c(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(g,p)}),s.addEventListener("input",p=>{var b;const g=c(!0),y=c(!1);t.setValue(e,{value:g}),p.preventDefault(),(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:u,change:y,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):s.addEventListener("input",function(p){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Cw extends Ie{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Ie._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new Jz({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${Bx}${n}`).join(",")),this.container}}var qu,Dy,Oy,Yu,Fl,ke,Hr,Ku,ip,sp,Qu,Br,gs,Wr,rp,Ur,op,Nl,jl,ae,Nm,kw,dP,fP,pP,gP,jm,zm,Tw;class Jz{constructor({container:t,color:e,elements:n,titleObj:s,modificationDate:r,contentsObj:a,richText:c,parent:u,rect:h,parentRect:p,open:g}){T(this,ae);T(this,qu,C(this,ae,pP).bind(this));T(this,Dy,C(this,ae,Tw).bind(this));T(this,Oy,C(this,ae,zm).bind(this));T(this,Yu,C(this,ae,jm).bind(this));T(this,Fl,null);T(this,ke,null);T(this,Hr,null);T(this,Ku,null);T(this,ip,null);T(this,sp,null);T(this,Qu,null);T(this,Br,!1);T(this,gs,null);T(this,Wr,null);T(this,rp,null);T(this,Ur,null);T(this,op,null);T(this,Nl,null);T(this,jl,!1);var y;E(this,ke,t),E(this,op,s),E(this,Hr,a),E(this,Ur,c),E(this,sp,u),E(this,Fl,e),E(this,rp,h),E(this,Qu,p),E(this,ip,n),E(this,Ku,Vx.toDateObject(r)),this.trigger=n.flatMap(b=>b.getElementsToTriggerPopup());for(const b of this.trigger)b.addEventListener("click",d(this,Yu)),b.addEventListener("mouseenter",d(this,Oy)),b.addEventListener("mouseleave",d(this,Dy)),b.classList.add("popupTriggerArea");for(const b of n)(y=b.container)==null||y.addEventListener("keydown",d(this,qu));d(this,ke).hidden=!0,g&&C(this,ae,jm).call(this)}render(){if(d(this,gs))return;const t=E(this,gs,document.createElement("div"));if(t.className="popup",d(this,Fl)){const r=t.style.outlineColor=St.makeHexColor(...d(this,Fl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:t.style.backgroundColor=St.makeHexColor(...d(this,Fl).map(c=>Math.floor(.7*(255-c)+c)))}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=d(this,op),t.append(e),d(this,Ku)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,Ku).valueOf()})),e.append(r)}const s=d(this,ae,Nm);if(s)aP.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(d(this,Hr));t.append(r)}d(this,ke).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const s=t.split(/(?:\r\n?|\n)/);for(let r=0,a=s.length;r<a;++r){const c=s[r];n.append(document.createTextNode(c)),r<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;d(this,Nl)||E(this,Nl,{contentsObj:d(this,Hr),richText:d(this,Ur)}),t&&E(this,Wr,null),e&&(E(this,Ur,C(this,ae,fP).call(this,e)),E(this,Hr,null)),(n=d(this,gs))==null||n.remove(),E(this,gs,null)}resetEdited(){var t;d(this,Nl)&&({contentsObj:Je(this,Hr)._,richText:Je(this,Ur)._}=d(this,Nl),E(this,Nl,null),(t=d(this,gs))==null||t.remove(),E(this,gs,null),E(this,Wr,null))}forceHide(){E(this,jl,this.isVisible),d(this,jl)&&(d(this,ke).hidden=!0)}maybeShow(){d(this,jl)&&(d(this,gs)||C(this,ae,zm).call(this),E(this,jl,!1),d(this,ke).hidden=!1)}get isVisible(){return d(this,ke).hidden===!1}}qu=new WeakMap,Dy=new WeakMap,Oy=new WeakMap,Yu=new WeakMap,Fl=new WeakMap,ke=new WeakMap,Hr=new WeakMap,Ku=new WeakMap,ip=new WeakMap,sp=new WeakMap,Qu=new WeakMap,Br=new WeakMap,gs=new WeakMap,Wr=new WeakMap,rp=new WeakMap,Ur=new WeakMap,op=new WeakMap,Nl=new WeakMap,jl=new WeakMap,ae=new WeakSet,Nm=function(){const t=d(this,Ur),e=d(this,Hr);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&d(this,Ur).html||null},kw=function(){var t,e,n;return((n=(e=(t=d(this,ae,Nm))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},dP=function(){var t,e,n;return((n=(e=(t=d(this,ae,Nm))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},fP=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:d(this,ae,dP),fontSize:d(this,ae,kw)?`calc(${d(this,ae,kw)}px * var(--scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:s});return n},pP=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&d(this,Br))&&C(this,ae,jm).call(this)},gP=function(){if(d(this,Wr)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:s,pageY:r}}}=d(this,sp);let a=!!d(this,Qu),c=a?d(this,Qu):d(this,rp);for(const w of d(this,ip))if(!c||St.intersect(w.data.rect,c)!==null){c=w.data.rect,a=!0;break}const u=St.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),p=a?c[2]-c[0]+5:0,g=u[0]+p,y=u[1];E(this,Wr,[100*(g-s)/e,100*(y-r)/n]);const{style:b}=d(this,ke);b.left=`${d(this,Wr)[0]}%`,b.top=`${d(this,Wr)[1]}%`},jm=function(){E(this,Br,!d(this,Br)),d(this,Br)?(C(this,ae,zm).call(this),d(this,ke).addEventListener("click",d(this,Yu)),d(this,ke).addEventListener("keydown",d(this,qu))):(C(this,ae,Tw).call(this),d(this,ke).removeEventListener("click",d(this,Yu)),d(this,ke).removeEventListener("keydown",d(this,qu)))},zm=function(){d(this,gs)||this.render(),this.isVisible?d(this,Br)&&d(this,ke).classList.add("focused"):(C(this,ae,gP).call(this),d(this,ke).hidden=!1,d(this,ke).style.zIndex=parseInt(d(this,ke).style.zIndex)+1e3)},Tw=function(){d(this,ke).classList.remove("focused"),!(d(this,Br)||!this.isVisible)&&(d(this,ke).hidden=!0,d(this,ke).style.zIndex=parseInt(d(this,ke).style.zIndex)-1e3)};class mP extends Ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Nt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ap;class Zz extends Ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,ap,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:s}=eo(e.rect),r=this.svgFactory.create(n,s,!0),a=E(this,ap,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,ap)}addHighlightArea(){this.container.classList.add("highlightArea")}}ap=new WeakMap;var lp;class tH extends Ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,lp,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:s}=eo(e.rect),r=this.svgFactory.create(n,s,!0),a=e.borderStyle.width,c=E(this,lp,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",a/2),c.setAttribute("y",a/2),c.setAttribute("width",n-a),c.setAttribute("height",s-a),c.setAttribute("stroke-width",a||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,lp)}addHighlightArea(){this.container.classList.add("highlightArea")}}lp=new WeakMap;var cp;class eH extends Ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,cp,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:s}=eo(e.rect),r=this.svgFactory.create(n,s,!0),a=e.borderStyle.width,c=E(this,cp,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",n/2),c.setAttribute("cy",s/2),c.setAttribute("rx",n/2-a/2),c.setAttribute("ry",s/2-a/2),c.setAttribute("stroke-width",a||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,cp)}addHighlightArea(){this.container.classList.add("highlightArea")}}cp=new WeakMap;var up;class yP extends Ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,up,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:s,popupRef:r}}=this;if(!n)return this.container;const{width:a,height:c}=eo(e),u=this.svgFactory.create(a,c,!0);let h=[];for(let g=0,y=n.length;g<y;g+=2){const b=n[g]-e[0],w=e[3]-n[g+1];h.push(`${b},${w}`)}h=h.join(" ");const p=E(this,up,this.svgFactory.createElement(this.svgElementName));return p.setAttribute("points",h),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),u.append(p),this.container.append(u),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,up)}addHighlightArea(){this.container.classList.add("highlightArea")}}up=new WeakMap;class nH extends yP{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class iH extends Ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var hp;class Jx extends Ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,hp,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Nt.HIGHLIGHT:Nt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:n,borderStyle:s,popupRef:r}}=this,{width:a,height:c}=eo(e),u=this.svgFactory.create(a,c,!0);for(const h of n){let p=[];for(let y=0,b=h.length;y<b;y+=2){const w=h[y]-e[0],x=e[3]-h[y+1];p.push(`${w},${x}`)}p=p.join(" ");const g=this.svgFactory.createElement(this.svgElementName);d(this,hp).push(g),g.setAttribute("points",p),g.setAttribute("stroke-width",s.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),u.append(g)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return d(this,hp)}addHighlightArea(){this.container.classList.add("highlightArea")}}hp=new WeakMap;class vP extends Ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Nt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class sH extends Ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class rH extends Ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class oH extends Ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class bP extends Ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Nt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var dp,fp,Pw;class aH extends Ie{constructor(e){var s;super(e,{isRenderable:!0});T(this,fp);T(this,dp,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let s;n.hasAppearance||n.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),s.addEventListener("dblclick",C(this,fp,Pw).bind(this)),E(this,dp,s);const{isMac:r}=Wn.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&C(this,fp,Pw).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return d(this,dp)}addHighlightArea(){this.container.classList.add("highlightArea")}}dp=new WeakMap,fp=new WeakSet,Pw=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var pp,zl,Hl,gp,dc,wP,Rw,rC;let lH=(rC=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:s,page:r,viewport:a,structTreeLayer:c}){T(this,dc);T(this,pp,null);T(this,zl,null);T(this,Hl,new Map);T(this,gp,null);this.div=t,E(this,pp,e),E(this,zl,n),E(this,gp,c||null),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return d(this,Hl).size>0}async render(t){var a;const{annotations:e}=t,n=this.div;lc(n,this.viewport);const s=new Map,r={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Qx,annotationStorage:t.annotationStorage||new Gx,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const u=c.annotationType===We.POPUP;if(u){const g=s.get(c.id);if(!g)continue;r.elements=g}else{const{width:g,height:y}=eo(c.rect);if(g<=0||y<=0)continue}r.data=c;const h=$z.create(r);if(!h.isRenderable)continue;if(!u&&c.popupRef){const g=s.get(c.popupRef);g?g.push(h):s.set(c.popupRef,[h])}const p=h.render();c.hidden&&(p.style.visibility="hidden"),await C(this,dc,wP).call(this,p,c.id),h._isEditable&&(d(this,Hl).set(h.data.id,h),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(h))}C(this,dc,Rw).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,lc(e,{rotation:t.rotation}),C(this,dc,Rw).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(d(this,Hl).values())}getEditableAnnotation(t){return d(this,Hl).get(t)}},pp=new WeakMap,zl=new WeakMap,Hl=new WeakMap,gp=new WeakMap,dc=new WeakSet,wP=async function(t,e){var a,c;const n=t.firstChild||t,s=n.id=`${Bx}${e}`,r=await((a=d(this,gp))==null?void 0:a.getAriaAttributes(s));if(r)for(const[u,h]of r)n.setAttribute(u,h);this.div.append(t),(c=d(this,pp))==null||c.moveElementInDOM(this.div,t,n,!1)},Rw=function(){if(!d(this,zl))return;const t=this.div;for(const[e,n]of d(this,zl)){const s=t.querySelector(`[data-annotation-id="${e}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:r}=s;r?r.nodeName==="CANVAS"?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):s.append(n)}d(this,zl).clear()},rC);const bm=/\r\n?|\n/g;var ms,xi,mp,Bl,_i,ze,xP,_P,SP,Hm,io,Bm,Wm,AP,Lw,EP;const ue=class ue extends se{constructor(e){super({...e,name:"freeTextEditor"});T(this,ze);T(this,ms);T(this,xi,"");T(this,mp,`${this.id}-editor`);T(this,Bl,null);T(this,_i);E(this,ms,e.color||ue._defaultColor||se._defaultLineColor),E(this,_i,e.fontSize||ue._defaultFontSize)}static get _keyboardManager(){const e=ue.prototype,n=a=>a.isEmpty(),s=cc.TRANSLATE_SMALL,r=cc.TRANSLATE_BIG;return $t(this,"_keyboardManager",new zp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}]]))}static initialize(e,n){se.initialize(e,n);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case It.FREETEXT_SIZE:ue._defaultFontSize=n;break;case It.FREETEXT_COLOR:ue._defaultColor=n;break}}updateParams(e,n){switch(e){case It.FREETEXT_SIZE:C(this,ze,xP).call(this,n);break;case It.FREETEXT_COLOR:C(this,ze,_P).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[It.FREETEXT_SIZE,ue._defaultFontSize],[It.FREETEXT_COLOR,ue._defaultColor||se._defaultLineColor]]}get propertiesToUpdate(){return[[It.FREETEXT_SIZE,d(this,_i)],[It.FREETEXT_COLOR,d(this,ms)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-ue._internalPadding*e,-(ue._internalPadding+d(this,_i))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Nt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),E(this,Bl,new AbortController);const e=this._uiManager.combinedSignal(d(this,Bl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,mp)),this._isDraggable=!0,(e=d(this,Bl))==null||e.abort(),E(this,Bl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=d(this,xi),n=E(this,xi,C(this,ze,SP).call(this).trimEnd());if(e===n)return;const s=r=>{if(E(this,xi,r),!r){this.remove();return}C(this,ze,Wm).call(this),this._uiManager.rebuild(this),C(this,ze,Hm).call(this)};this.addCommands({cmd:()=>{s(n)},undo:()=>{s(e)},mustExec:!1}),C(this,ze,Hm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){ue._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,mp)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${d(this,_i)}px * var(--scale-factor))`,s.color=d(this,ms),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),my(this,this.div,["dblclick","keydown"]),this.width){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[u,h]=this.getInitialTranslation();[u,h]=this.pageTranslationToScreen(u,h);const[p,g]=this.pageDimensions,[y,b]=this.pageTranslation;let w,x;switch(this.rotation){case 0:w=e+(c[0]-y)/p,x=n+this.height-(c[1]-b)/g;break;case 90:w=e+(c[0]-y)/p,x=n-(c[1]-b)/g,[u,h]=[h,-u];break;case 180:w=e-this.width+(c[0]-y)/p,x=n-(c[1]-b)/g,[u,h]=[-u,-h];break;case 270:w=e+(c[0]-y-this.height*g)/p,x=n+(c[1]-b-this.width*p)/g,[u,h]=[-h,u];break}this.setAt(w*r,x*a,u,h)}else this.setAt(e*r,n*a,this.width*r,this.height*a);C(this,ze,Wm).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var w,x,A;const n=e.clipboardData||window.clipboardData,{types:s}=n;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const r=C(w=ue,io,Lw).call(w,n.getData("text")||"").replaceAll(bm,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const c=a.getRangeAt(0);if(!r.includes(`
`)){c.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:u,startOffset:h}=c,p=[],g=[];if(u.nodeType===Node.TEXT_NODE){const S=u.parentElement;if(g.push(u.nodeValue.slice(h).replaceAll(bm,"")),S!==this.editorDiv){let P=p;for(const R of this.editorDiv.childNodes){if(R===S){P=g;continue}P.push(C(x=ue,io,Bm).call(x,R))}}p.push(u.nodeValue.slice(0,h).replaceAll(bm,""))}else if(u===this.editorDiv){let S=p,P=0;for(const R of this.editorDiv.childNodes)P++===h&&(S=g),S.push(C(A=ue,io,Bm).call(A,R))}E(this,xi,`${p.join(`
`)}${r}${g.join(`
`)}`),C(this,ze,Wm).call(this);const y=new Range;let b=p.reduce((S,P)=>S+P.length,0);for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const P=S.nodeValue.length;if(b<=P){y.setStart(S,b),y.setEnd(S,b);break}b-=P}a.removeAllRanges(),a.addRange(y)}get contentDiv(){return this.editorDiv}static async deserialize(e,n,s){var c;let r=null;if(e instanceof mP){const{data:{defaultAppearanceData:{fontSize:u,fontColor:h},rect:p,rotation:g,id:y,popupRef:b},textContent:w,textPosition:x,parent:{page:{pageNumber:A}}}=e;if(!w||w.length===0)return null;r=e={annotationType:Nt.FREETEXT,color:Array.from(h),fontSize:u,value:w.join(`
`),position:x,pageIndex:A-1,rect:p.slice(0),rotation:g,id:y,deleted:!1,popupRef:b}}const a=await super.deserialize(e,n,s);return E(a,_i,e.fontSize),E(a,ms,St.makeHexColor(...e.color)),E(a,xi,C(c=ue,io,Lw).call(c,e.value)),a.annotationElementId=e.id||null,a._initialData=r,a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=ue._internalPadding*this.parentScale,s=this.getRect(n,n),r=se._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,ms)),a={annotationType:Nt.FREETEXT,color:r,fontSize:d(this,_i),value:C(this,ze,AP).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?a:this.annotationElementId&&!C(this,ze,EP).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:s}=n;s.fontSize=`calc(${d(this,_i)}px * var(--scale-factor))`,s.color=d(this,ms),n.replaceChildren();for(const a of d(this,xi).split(`
`)){const c=document.createElement("div");c.append(a?document.createTextNode(a):document.createElement("br")),n.append(c)}const r=ue._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:d(this,xi)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};ms=new WeakMap,xi=new WeakMap,mp=new WeakMap,Bl=new WeakMap,_i=new WeakMap,ze=new WeakSet,xP=function(e){const n=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-d(this,_i))*this.parentScale),E(this,_i,r),C(this,ze,Hm).call(this)},s=d(this,_i);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},_P=function(e){const n=r=>{E(this,ms,this.editorDiv.style.color=r)},s=d(this,ms);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},SP=function(){var s;const e=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(C(s=ue,io,Bm).call(s,r)),n=r);return e.join(`
`)},Hm=function(){const[e,n]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,c=a.style.display,u=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),s=a.getBoundingClientRect(),a.remove(),a.style.display=c,a.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/n):(this.width=s.height/e,this.height=s.width/n),this.fixAndSetPosition()},io=new WeakSet,Bm=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(bm,"")},Wm=function(){if(this.editorDiv.replaceChildren(),!!d(this,xi))for(const e of d(this,xi).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},AP=function(){return d(this,xi).replaceAll(" "," ")},Lw=function(e){return e.replaceAll(" "," ")},EP=function(e){const{value:n,fontSize:s,color:r,pageIndex:a}=this._initialData;return this._hasBeenMoved||e.value!==n||e.fontSize!==s||e.color.some((c,u)=>c!==r[u])||e.pageIndex!==a},T(ue,io),lt(ue,"_freeTextDefaultContent",""),lt(ue,"_internalPadding",0),lt(ue,"_defaultColor",null),lt(ue,"_defaultFontSize",10),lt(ue,"_type","freetext"),lt(ue,"_editorType",Nt.FREETEXT);let Mw=ue;class CP{toSVGPath(){ge("Abstract method `toSVGPath` must be implemented.")}get box(){ge("Abstract getter `box` must be implemented.")}serialize(t,e){ge("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ge("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ge("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Si,ys,Ju,Zu,Js,Bt,Wl,Ul,yp,vp,th,eh,oa,bp,Fy,Ny,qe,Bd,kP,TP,PP,RP,MP,LP;const Tr=class Tr{constructor({x:t,y:e},n,s,r,a,c=0){T(this,qe);T(this,Si);T(this,ys,[]);T(this,Ju);T(this,Zu);T(this,Js,[]);T(this,Bt,new Float64Array(18));T(this,Wl);T(this,Ul);T(this,yp);T(this,vp);T(this,th);T(this,eh);T(this,oa,[]);E(this,Si,n),E(this,eh,r*s),E(this,Zu,a),d(this,Bt).set([NaN,NaN,NaN,NaN,t,e],6),E(this,Ju,c),E(this,vp,d(Tr,bp)*s),E(this,yp,d(Tr,Ny)*s),E(this,th,s),d(this,oa).push(t,e)}isEmpty(){return isNaN(d(this,Bt)[8])}add({x:t,y:e}){var W;E(this,Wl,t),E(this,Ul,e);const[n,s,r,a]=d(this,Si);let[c,u,h,p]=d(this,Bt).subarray(8,12);const g=t-h,y=e-p,b=Math.hypot(g,y);if(b<d(this,yp))return!1;const w=b-d(this,vp),x=w/b,A=x*g,S=x*y;let P=c,R=u;c=h,u=p,h+=A,p+=S,(W=d(this,oa))==null||W.push(t,e);const M=-S/w,I=A/w,F=M*d(this,eh),j=I*d(this,eh);return d(this,Bt).set(d(this,Bt).subarray(2,8),0),d(this,Bt).set([h+F,p+j],4),d(this,Bt).set(d(this,Bt).subarray(14,18),12),d(this,Bt).set([h-F,p-j],16),isNaN(d(this,Bt)[6])?(d(this,Js).length===0&&(d(this,Bt).set([c+F,u+j],2),d(this,Js).push(NaN,NaN,NaN,NaN,(c+F-n)/r,(u+j-s)/a),d(this,Bt).set([c-F,u-j],14),d(this,ys).push(NaN,NaN,NaN,NaN,(c-F-n)/r,(u-j-s)/a)),d(this,Bt).set([P,R,c,u,h,p],6),!this.isEmpty()):(d(this,Bt).set([P,R,c,u,h,p],6),Math.abs(Math.atan2(R-u,P-c)-Math.atan2(S,A))<Math.PI/2?([c,u,h,p]=d(this,Bt).subarray(2,6),d(this,Js).push(NaN,NaN,NaN,NaN,((c+h)/2-n)/r,((u+p)/2-s)/a),[c,u,P,R]=d(this,Bt).subarray(14,18),d(this,ys).push(NaN,NaN,NaN,NaN,((P+c)/2-n)/r,((R+u)/2-s)/a),!0):([P,R,c,u,h,p]=d(this,Bt).subarray(0,6),d(this,Js).push(((P+5*c)/6-n)/r,((R+5*u)/6-s)/a,((5*c+h)/6-n)/r,((5*u+p)/6-s)/a,((c+h)/2-n)/r,((u+p)/2-s)/a),[h,p,c,u,P,R]=d(this,Bt).subarray(12,18),d(this,ys).push(((P+5*c)/6-n)/r,((R+5*u)/6-s)/a,((5*c+h)/6-n)/r,((5*u+p)/6-s)/a,((c+h)/2-n)/r,((u+p)/2-s)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const t=d(this,Js),e=d(this,ys);if(isNaN(d(this,Bt)[6])&&!this.isEmpty())return C(this,qe,kP).call(this);const n=[];n.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);C(this,qe,PP).call(this,n);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return C(this,qe,TP).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,s,r,a){return new IP(t,e,n,s,r,a)}getOutlines(){var g;const t=d(this,Js),e=d(this,ys),n=d(this,Bt),[s,r,a,c]=d(this,Si),u=new Float64Array((((g=d(this,oa))==null?void 0:g.length)??0)+2);for(let y=0,b=u.length-2;y<b;y+=2)u[y]=(d(this,oa)[y]-s)/a,u[y+1]=(d(this,oa)[y+1]-r)/c;if(u[u.length-2]=(d(this,Wl)-s)/a,u[u.length-1]=(d(this,Ul)-r)/c,isNaN(n[6])&&!this.isEmpty())return C(this,qe,RP).call(this,u);const h=new Float64Array(d(this,Js).length+24+d(this,ys).length);let p=t.length;for(let y=0;y<p;y+=2){if(isNaN(t[y])){h[y]=h[y+1]=NaN;continue}h[y]=t[y],h[y+1]=t[y+1]}p=C(this,qe,LP).call(this,h,p);for(let y=e.length-6;y>=6;y-=6)for(let b=0;b<6;b+=2){if(isNaN(e[y+b])){h[p]=h[p+1]=NaN,p+=2;continue}h[p]=e[y+b],h[p+1]=e[y+b+1],p+=2}return C(this,qe,MP).call(this,h,p),this.newFreeDrawOutline(h,u,d(this,Si),d(this,th),d(this,Ju),d(this,Zu))}};Si=new WeakMap,ys=new WeakMap,Ju=new WeakMap,Zu=new WeakMap,Js=new WeakMap,Bt=new WeakMap,Wl=new WeakMap,Ul=new WeakMap,yp=new WeakMap,vp=new WeakMap,th=new WeakMap,eh=new WeakMap,oa=new WeakMap,bp=new WeakMap,Fy=new WeakMap,Ny=new WeakMap,qe=new WeakSet,Bd=function(){const t=d(this,Bt).subarray(4,6),e=d(this,Bt).subarray(16,18),[n,s,r,a]=d(this,Si);return[(d(this,Wl)+(t[0]-e[0])/2-n)/r,(d(this,Ul)+(t[1]-e[1])/2-s)/a,(d(this,Wl)+(e[0]-t[0])/2-n)/r,(d(this,Ul)+(e[1]-t[1])/2-s)/a]},kP=function(){const[t,e,n,s]=d(this,Si),[r,a,c,u]=C(this,qe,Bd).call(this);return`M${(d(this,Bt)[2]-t)/n} ${(d(this,Bt)[3]-e)/s} L${(d(this,Bt)[4]-t)/n} ${(d(this,Bt)[5]-e)/s} L${r} ${a} L${c} ${u} L${(d(this,Bt)[16]-t)/n} ${(d(this,Bt)[17]-e)/s} L${(d(this,Bt)[14]-t)/n} ${(d(this,Bt)[15]-e)/s} Z`},TP=function(t){const e=d(this,ys);t.push(`L${e[4]} ${e[5]} Z`)},PP=function(t){const[e,n,s,r]=d(this,Si),a=d(this,Bt).subarray(4,6),c=d(this,Bt).subarray(16,18),[u,h,p,g]=C(this,qe,Bd).call(this);t.push(`L${(a[0]-e)/s} ${(a[1]-n)/r} L${u} ${h} L${p} ${g} L${(c[0]-e)/s} ${(c[1]-n)/r}`)},RP=function(t){const e=d(this,Bt),[n,s,r,a]=d(this,Si),[c,u,h,p]=C(this,qe,Bd).call(this),g=new Float64Array(36);return g.set([NaN,NaN,NaN,NaN,(e[2]-n)/r,(e[3]-s)/a,NaN,NaN,NaN,NaN,(e[4]-n)/r,(e[5]-s)/a,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(e[16]-n)/r,(e[17]-s)/a,NaN,NaN,NaN,NaN,(e[14]-n)/r,(e[15]-s)/a],0),this.newFreeDrawOutline(g,t,d(this,Si),d(this,th),d(this,Ju),d(this,Zu))},MP=function(t,e){const n=d(this,ys);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6},LP=function(t,e){const n=d(this,Bt).subarray(4,6),s=d(this,Bt).subarray(16,18),[r,a,c,u]=d(this,Si),[h,p,g,y]=C(this,qe,Bd).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-r)/c,(n[1]-a)/u,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,g,y,NaN,NaN,NaN,NaN,(s[0]-r)/c,(s[1]-a)/u],e),e+=24},T(Tr,bp,8),T(Tr,Fy,2),T(Tr,Ny,d(Tr,bp)+d(Tr,Fy));let vy=Tr;var nh,Vl,Vr,wp,Ai,xp,Me,ci,Wd,Ud,DP;class IP extends CP{constructor(e,n,s,r,a,c){super();T(this,ci);T(this,nh);T(this,Vl,null);T(this,Vr);T(this,wp);T(this,Ai);T(this,xp);T(this,Me);E(this,Me,e),E(this,Ai,n),E(this,nh,s),E(this,xp,r),E(this,Vr,a),E(this,wp,c),C(this,ci,DP).call(this,c);const{x:u,y:h,width:p,height:g}=d(this,Vl);for(let y=0,b=e.length;y<b;y+=2)e[y]=(e[y]-u)/p,e[y+1]=(e[y+1]-h)/g;for(let y=0,b=n.length;y<b;y+=2)n[y]=(n[y]-u)/p,n[y+1]=(n[y+1]-h)/g}toSVGPath(){const e=[`M${d(this,Me)[4]} ${d(this,Me)[5]}`];for(let n=6,s=d(this,Me).length;n<s;n+=6){if(isNaN(d(this,Me)[n])){e.push(`L${d(this,Me)[n+4]} ${d(this,Me)[n+5]}`);continue}e.push(`C${d(this,Me)[n]} ${d(this,Me)[n+1]} ${d(this,Me)[n+2]} ${d(this,Me)[n+3]} ${d(this,Me)[n+4]} ${d(this,Me)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,s,r],a){const c=s-e,u=r-n;let h,p;switch(a){case 0:h=C(this,ci,Wd).call(this,d(this,Me),e,r,c,-u),p=C(this,ci,Wd).call(this,d(this,Ai),e,r,c,-u);break;case 90:h=C(this,ci,Ud).call(this,d(this,Me),e,n,c,u),p=C(this,ci,Ud).call(this,d(this,Ai),e,n,c,u);break;case 180:h=C(this,ci,Wd).call(this,d(this,Me),s,n,-c,u),p=C(this,ci,Wd).call(this,d(this,Ai),s,n,-c,u);break;case 270:h=C(this,ci,Ud).call(this,d(this,Me),s,r,-c,-u),p=C(this,ci,Ud).call(this,d(this,Ai),s,r,-c,-u);break}return{outline:Array.from(h),points:[Array.from(p)]}}get box(){return d(this,Vl)}newOutliner(e,n,s,r,a,c=0){return new vy(e,n,s,r,a,c)}getNewOutline(e,n){const{x:s,y:r,width:a,height:c}=d(this,Vl),[u,h,p,g]=d(this,nh),y=a*p,b=c*g,w=s*p+u,x=r*g+h,A=this.newOutliner({x:d(this,Ai)[0]*y+w,y:d(this,Ai)[1]*b+x},d(this,nh),d(this,xp),e,d(this,wp),n??d(this,Vr));for(let S=2;S<d(this,Ai).length;S+=2)A.add({x:d(this,Ai)[S]*y+w,y:d(this,Ai)[S+1]*b+x});return A.getOutlines()}get mustRemoveSelfIntersections(){return!0}}nh=new WeakMap,Vl=new WeakMap,Vr=new WeakMap,wp=new WeakMap,Ai=new WeakMap,xp=new WeakMap,Me=new WeakMap,ci=new WeakSet,Wd=function(e,n,s,r,a){const c=new Float64Array(e.length);for(let u=0,h=e.length;u<h;u+=2)c[u]=n+e[u]*r,c[u+1]=s+e[u+1]*a;return c},Ud=function(e,n,s,r,a){const c=new Float64Array(e.length);for(let u=0,h=e.length;u<h;u+=2)c[u]=n+e[u+1]*r,c[u+1]=s+e[u]*a;return c},DP=function(e){const n=d(this,Me);let s=n[4],r=n[5],a=s,c=r,u=s,h=r,p=s,g=r;const y=e?Math.max:Math.min;for(let S=6,P=n.length;S<P;S+=6){if(isNaN(n[S]))a=Math.min(a,n[S+4]),c=Math.min(c,n[S+5]),u=Math.max(u,n[S+4]),h=Math.max(h,n[S+5]),g<n[S+5]?(p=n[S+4],g=n[S+5]):g===n[S+5]&&(p=y(p,n[S+4]));else{const R=St.bezierBoundingBox(s,r,...n.slice(S,S+6));a=Math.min(a,R[0]),c=Math.min(c,R[1]),u=Math.max(u,R[2]),h=Math.max(h,R[3]),g<R[3]?(p=R[2],g=R[3]):g===R[3]&&(p=y(p,R[2]))}s=n[S+4],r=n[S+5]}const b=a-d(this,Vr),w=c-d(this,Vr),x=u-a+2*d(this,Vr),A=h-c+2*d(this,Vr);E(this,Vl,{x:b,y:w,width:x,height:A,lastPoint:[p,g]})};var _p,aa,vs,Vn,OP,Um,FP,NP,Iw;class jE{constructor(t,e=0,n=0,s=!0){T(this,Vn);T(this,_p);T(this,aa,[]);T(this,vs,[]);let r=1/0,a=-1/0,c=1/0,u=-1/0;const p=10**-4;for(const{x:S,y:P,width:R,height:M}of t){const I=Math.floor((S-e)/p)*p,F=Math.ceil((S+R+e)/p)*p,j=Math.floor((P-e)/p)*p,N=Math.ceil((P+M+e)/p)*p,W=[I,j,N,!0],$=[F,j,N,!1];d(this,aa).push(W,$),r=Math.min(r,I),a=Math.max(a,F),c=Math.min(c,j),u=Math.max(u,N)}const g=a-r+2*n,y=u-c+2*n,b=r-n,w=c-n,x=d(this,aa).at(s?-1:-2),A=[x[0],x[2]];for(const S of d(this,aa)){const[P,R,M]=S;S[0]=(P-b)/g,S[1]=(R-w)/y,S[2]=(M-w)/y}E(this,_p,{x:b,y:w,width:g,height:y,lastPoint:A})}getOutlines(){d(this,aa).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of d(this,aa))e[3]?(t.push(...C(this,Vn,Iw).call(this,e)),C(this,Vn,FP).call(this,e)):(C(this,Vn,NP).call(this,e),t.push(...C(this,Vn,Iw).call(this,e)));return C(this,Vn,OP).call(this,t)}}_p=new WeakMap,aa=new WeakMap,vs=new WeakMap,Vn=new WeakSet,OP=function(t){const e=[],n=new Set;for(const a of t){const[c,u,h]=a;e.push([c,u,a],[c,h,a])}e.sort((a,c)=>a[1]-c[1]||a[0]-c[0]);for(let a=0,c=e.length;a<c;a+=2){const u=e[a][2],h=e[a+1][2];u.push(h),h.push(u),n.add(u),n.add(h)}const s=[];let r;for(;n.size>0;){const a=n.values().next().value;let[c,u,h,p,g]=a;n.delete(a);let y=c,b=u;for(r=[c,h],s.push(r);;){let w;if(n.has(p))w=p;else if(n.has(g))w=g;else break;n.delete(w),[c,u,h,p,g]=w,y!==c&&(r.push(y,b,c,b===u?u:h),y=c),b=b===u?h:u}r.push(y,b)}return new cH(s,d(this,_p))},Um=function(t){const e=d(this,vs);let n=0,s=e.length-1;for(;n<=s;){const r=n+s>>1,a=e[r][0];if(a===t)return r;a<t?n=r+1:s=r-1}return s+1},FP=function([,t,e]){const n=C(this,Vn,Um).call(this,t);d(this,vs).splice(n,0,[t,e])},NP=function([,t,e]){const n=C(this,Vn,Um).call(this,t);for(let s=n;s<d(this,vs).length;s++){const[r,a]=d(this,vs)[s];if(r!==t)break;if(r===t&&a===e){d(this,vs).splice(s,1);return}}for(let s=n-1;s>=0;s--){const[r,a]=d(this,vs)[s];if(r!==t)break;if(r===t&&a===e){d(this,vs).splice(s,1);return}}},Iw=function(t){const[e,n,s]=t,r=[[e,n,s]],a=C(this,Vn,Um).call(this,s);for(let c=0;c<a;c++){const[u,h]=d(this,vs)[c];for(let p=0,g=r.length;p<g;p++){const[,y,b]=r[p];if(!(h<=y||b<=u)){if(y>=u){if(b>h)r[p][1]=h;else{if(g===1)return[];r.splice(p,1),p--,g--}continue}r[p][2]=u,b>h&&r.push([e,h,b])}}}return r};var Sp,ih;class cH extends CP{constructor(e,n){super();T(this,Sp);T(this,ih);E(this,ih,e),E(this,Sp,n)}toSVGPath(){const e=[];for(const n of d(this,ih)){let[s,r]=n;e.push(`M${s} ${r}`);for(let a=2;a<n.length;a+=2){const c=n[a],u=n[a+1];c===s?(e.push(`V${u}`),r=u):u===r&&(e.push(`H${c}`),s=c)}e.push("Z")}return e.join(" ")}serialize([e,n,s,r],a){const c=[],u=s-e,h=r-n;for(const p of d(this,ih)){const g=new Array(p.length);for(let y=0;y<p.length;y+=2)g[y]=e+p[y]*u,g[y+1]=r-p[y+1]*h;c.push(g)}return c}get box(){return d(this,Sp)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Sp=new WeakMap,ih=new WeakMap;class Dw extends vy{newFreeDrawOutline(t,e,n,s,r,a){return new uH(t,e,n,s,r,a)}get classNamesForDrawing(){return["highlight","free"]}}class uH extends IP{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,n,s,r,a=0){return new Dw(t,e,n,s,r,a)}}var bs,$l,sh,Ve,Ap,rh,Ep,Cp,la,ws,oh,kp,oe,Ow,Fw,Nw,Xa,jP,Io;const ti=class ti{constructor({editor:t=null,uiManager:e=null}){T(this,oe);T(this,bs,null);T(this,$l,null);T(this,sh);T(this,Ve,null);T(this,Ap,!1);T(this,rh,!1);T(this,Ep,null);T(this,Cp);T(this,la,null);T(this,ws,null);T(this,oh);var n;t?(E(this,rh,!1),E(this,oh,It.HIGHLIGHT_COLOR),E(this,Ep,t)):(E(this,rh,!0),E(this,oh,It.HIGHLIGHT_DEFAULT_COLOR)),E(this,ws,(t==null?void 0:t._uiManager)||e),E(this,Cp,d(this,ws)._eventBus),E(this,sh,(t==null?void 0:t.color)||((n=d(this,ws))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),d(ti,kp)||E(ti,kp,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return $t(this,"_keyboardManager",new zp([[["Escape","mac+Escape"],ti.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ti.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ti.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ti.prototype._moveToPrevious],[["Home","mac+Home"],ti.prototype._moveToBeginning],[["End","mac+End"],ti.prototype._moveToEnd]]))}renderButton(){const t=E(this,bs,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=d(this,ws)._signal;t.addEventListener("click",C(this,oe,Xa).bind(this),{signal:e}),t.addEventListener("keydown",C(this,oe,Nw).bind(this),{signal:e});const n=E(this,$l,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=d(this,sh),t.append(n),t}renderMainDropdown(){const t=E(this,Ve,C(this,oe,Ow).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===d(this,bs)){C(this,oe,Xa).call(this,t);return}const e=t.target.getAttribute("data-color");e&&C(this,oe,Fw).call(this,e,t)}_moveToNext(t){var e,n;if(!d(this,oe,Io)){C(this,oe,Xa).call(this,t);return}if(t.target===d(this,bs)){(e=d(this,Ve).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=d(this,Ve))==null?void 0:e.firstChild)||t.target===d(this,bs)){d(this,oe,Io)&&this._hideDropdownFromKeyboard();return}d(this,oe,Io)||C(this,oe,Xa).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!d(this,oe,Io)){C(this,oe,Xa).call(this,t);return}(e=d(this,Ve).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!d(this,oe,Io)){C(this,oe,Xa).call(this,t);return}(e=d(this,Ve).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=d(this,Ve))==null||t.classList.add("hidden"),(e=d(this,la))==null||e.abort(),E(this,la,null)}_hideDropdownFromKeyboard(){var t;if(!d(this,rh)){if(!d(this,oe,Io)){(t=d(this,Ep))==null||t.unselect();return}this.hideDropdown(),d(this,bs).focus({preventScroll:!0,focusVisible:d(this,Ap)})}}updateColor(t){if(d(this,$l)&&(d(this,$l).style.backgroundColor=t),!d(this,Ve))return;const e=d(this,ws).highlightColors.values();for(const n of d(this,Ve).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=d(this,bs))==null||t.remove(),E(this,bs,null),E(this,$l,null),(e=d(this,Ve))==null||e.remove(),E(this,Ve,null)}};bs=new WeakMap,$l=new WeakMap,sh=new WeakMap,Ve=new WeakMap,Ap=new WeakMap,rh=new WeakMap,Ep=new WeakMap,Cp=new WeakMap,la=new WeakMap,ws=new WeakMap,oh=new WeakMap,kp=new WeakMap,oe=new WeakSet,Ow=function(){const t=document.createElement("div"),e=d(this,ws)._signal;t.addEventListener("contextmenu",Yi,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,s]of d(this,ws).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",s),r.title=n,r.setAttribute("data-l10n-id",d(ti,kp)[n]);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=s,r.setAttribute("aria-selected",s===d(this,sh)),r.addEventListener("click",C(this,oe,Fw).bind(this,s),{signal:e}),t.append(r)}return t.addEventListener("keydown",C(this,oe,Nw).bind(this),{signal:e}),t},Fw=function(t,e){e.stopPropagation(),d(this,Cp).dispatch("switchannotationeditorparams",{source:this,type:d(this,oh),value:t})},Nw=function(t){ti._keyboardManager.exec(this,t)},Xa=function(t){if(d(this,oe,Io)){this.hideDropdown();return}if(E(this,Ap,t.detail===0),d(this,la)||(E(this,la,new AbortController),window.addEventListener("pointerdown",C(this,oe,jP).bind(this),{signal:d(this,ws).combinedSignal(d(this,la))})),d(this,Ve)){d(this,Ve).classList.remove("hidden");return}const e=E(this,Ve,C(this,oe,Ow).call(this));d(this,bs).append(e)},jP=function(t){var e;(e=d(this,Ve))!=null&&e.contains(t.target)||this.hideDropdown()},Io=function(){return d(this,Ve)&&!d(this,Ve).classList.contains("hidden")},T(ti,kp,null);let by=ti;var ah,Tp,$r,Gl,lh,Bi,Pp,Rp,Xl,xs,Pn,si,ch,Gr,$e,uh,Wi,Mp,Ot,jw,Vm,zP,HP,BP,zw,qa,Gi,Kc,WP,$m,Vd,UP,VP,$P,GP,XP;const Qt=class Qt extends se{constructor(e){super({...e,name:"highlightEditor"});T(this,Ot);T(this,ah,null);T(this,Tp,0);T(this,$r);T(this,Gl,null);T(this,lh,null);T(this,Bi,null);T(this,Pp,null);T(this,Rp,0);T(this,Xl,null);T(this,xs,null);T(this,Pn,null);T(this,si,!1);T(this,ch,null);T(this,Gr);T(this,$e,null);T(this,uh,"");T(this,Wi);T(this,Mp,"");this.color=e.color||Qt._defaultColor,E(this,Wi,e.thickness||Qt._defaultThickness),E(this,Gr,e.opacity||Qt._defaultOpacity),E(this,$r,e.boxes||null),E(this,Mp,e.methodOfCreation||""),E(this,uh,e.text||""),this._isDraggable=!1,e.highlightId>-1?(E(this,si,!0),C(this,Ot,Vm).call(this,e),C(this,Ot,qa).call(this)):d(this,$r)&&(E(this,ah,e.anchorNode),E(this,Tp,e.anchorOffset),E(this,Pp,e.focusNode),E(this,Rp,e.focusOffset),C(this,Ot,jw).call(this),C(this,Ot,qa).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Qt.prototype;return $t(this,"_keyboardManager",new zp([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,si)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:d(this,Wi),methodOfCreation:d(this,Mp)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var s;se.initialize(e,n),Qt._defaultColor||(Qt._defaultColor=((s=n.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case It.HIGHLIGHT_DEFAULT_COLOR:Qt._defaultColor=n;break;case It.HIGHLIGHT_THICKNESS:Qt._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return d(this,ch)}updateParams(e,n){switch(e){case It.HIGHLIGHT_COLOR:C(this,Ot,zP).call(this,n);break;case It.HIGHLIGHT_THICKNESS:C(this,Ot,HP).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[It.HIGHLIGHT_DEFAULT_COLOR,Qt._defaultColor],[It.HIGHLIGHT_THICKNESS,Qt._defaultThickness]]}get propertiesToUpdate(){return[[It.HIGHLIGHT_COLOR,this.color||Qt._defaultColor],[It.HIGHLIGHT_THICKNESS,d(this,Wi)||Qt._defaultThickness],[It.HIGHLIGHT_FREE,d(this,si)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(E(this,lh,new by({editor:this})),e.addColorPicker(d(this,lh))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(C(this,Ot,Vd).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,C(this,Ot,Vd).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){C(this,Ot,zw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(C(this,Ot,qa).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let n=!1;this.parent&&!e?C(this,Ot,zw).call(this):e&&(C(this,Ot,qa).call(this,e),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var r,a,c;const{drawLayer:n}=this.parent;let s;d(this,si)?(e=(e-this.rotation+360)%360,s=C(r=Qt,Gi,Kc).call(r,d(this,xs).box,e)):s=C(a=Qt,Gi,Kc).call(a,this,e),n.rotate(d(this,Pn),e),n.rotate(d(this,$e),e),n.updateBox(d(this,Pn),s),n.updateBox(d(this,$e),C(c=Qt,Gi,Kc).call(c,d(this,Bi).box,e))}render(){if(this.div)return this.div;const e=super.render();d(this,uh)&&(e.setAttribute("aria-label",d(this,uh)),e.setAttribute("role","mark")),d(this,si)?e.classList.add("free"):this.div.addEventListener("keydown",C(this,Ot,WP).bind(this),{signal:this._uiManager._signal});const n=E(this,Xl,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=d(this,Gl);const[s,r]=this.parentDimensions;return this.setDims(this.width*s,this.height*r),my(this,d(this,Xl),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(d(this,$e),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(d(this,$e),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:C(this,Ot,$m).call(this,!0);break;case 1:case 3:C(this,Ot,$m).call(this,!1);break}}select(){var e,n;super.select(),d(this,$e)&&((e=this.parent)==null||e.drawLayer.removeClass(d(this,$e),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(d(this,$e),"selected"))}unselect(){var e;super.unselect(),d(this,$e)&&((e=this.parent)==null||e.drawLayer.removeClass(d(this,$e),"selected"),d(this,si)||C(this,Ot,$m).call(this,!1))}get _mustFixPosition(){return!d(this,si)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(d(this,Pn),e),this.parent.drawLayer.show(d(this,$e),e))}static startHighlighting(e,n,{target:s,x:r,y:a}){const{x:c,y:u,width:h,height:p}=s.getBoundingClientRect(),g=new AbortController,y=e.combinedSignal(g),b=x=>{x.preventDefault(),x.stopPropagation()},w=x=>{g.abort(),C(this,Gi,GP).call(this,e,x)};window.addEventListener("blur",w,{signal:y}),window.addEventListener("pointerup",w,{signal:y}),window.addEventListener("pointerdown",b,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Yi,{signal:y}),s.addEventListener("pointermove",C(this,Gi,$P).bind(this,e),{signal:y}),this._freeHighlight=new Dw({x:r,y:a},[c,u,h,p],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,n,s){var x,A,S,P;let r=null;if(e instanceof vP){const{data:{quadPoints:R,rect:M,rotation:I,id:F,color:j,opacity:N,popupRef:W},parent:{page:{pageNumber:$}}}=e;r=e={annotationType:Nt.HIGHLIGHT,color:Array.from(j),opacity:N,quadPoints:R,boxes:null,pageIndex:$-1,rect:M.slice(0),rotation:I,id:F,deleted:!1,popupRef:W}}else if(e instanceof Jx){const{data:{inkLists:R,rect:M,rotation:I,id:F,color:j,borderStyle:{rawWidth:N},popupRef:W},parent:{page:{pageNumber:$}}}=e;r=e={annotationType:Nt.HIGHLIGHT,color:Array.from(j),thickness:N,inkLists:R,boxes:null,pageIndex:$-1,rect:M.slice(0),rotation:I,id:F,deleted:!1,popupRef:W}}const{color:a,quadPoints:c,inkLists:u,opacity:h}=e,p=await super.deserialize(e,n,s);p.color=St.makeHexColor(...a),E(p,Gr,h||1),u&&E(p,Wi,e.thickness),p.annotationElementId=e.id||null,p._initialData=r;const[g,y]=p.pageDimensions,[b,w]=p.pageTranslation;if(c){const R=E(p,$r,[]);for(let M=0;M<c.length;M+=8)R.push({x:(c[M]-b)/g,y:1-(c[M+1]-w)/y,width:(c[M+2]-c[M])/g,height:(c[M+1]-c[M+5])/y});C(x=p,Ot,jw).call(x),C(A=p,Ot,qa).call(A),p.rotate(p.rotation)}else if(u){E(p,si,!0);const R=u[0],M={x:R[0]-b,y:y-(R[1]-w)},I=new Dw(M,[0,0,g,y],1,d(p,Wi)/2,!0,.001);for(let N=0,W=R.length;N<W;N+=2)M.x=R[N]-b,M.y=y-(R[N+1]-w),I.add(M);const{id:F,clipPathId:j}=n.drawLayer.draw(I,p.color,p._defaultOpacity,!0);C(S=p,Ot,Vm).call(S,{highlightOutlines:I.getOutlines(),highlightId:F,clipPathId:j}),C(P=p,Ot,qa).call(P)}return p}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),s=se._colorManager.convert(this.color),r={annotationType:Nt.HIGHLIGHT,color:s,opacity:d(this,Gr),thickness:d(this,Wi),quadPoints:C(this,Ot,UP).call(this),outlines:C(this,Ot,VP).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:C(this,Ot,Vd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!C(this,Ot,XP).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};ah=new WeakMap,Tp=new WeakMap,$r=new WeakMap,Gl=new WeakMap,lh=new WeakMap,Bi=new WeakMap,Pp=new WeakMap,Rp=new WeakMap,Xl=new WeakMap,xs=new WeakMap,Pn=new WeakMap,si=new WeakMap,ch=new WeakMap,Gr=new WeakMap,$e=new WeakMap,uh=new WeakMap,Wi=new WeakMap,Mp=new WeakMap,Ot=new WeakSet,jw=function(){const e=new jE(d(this,$r),.001);E(this,xs,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=d(this,xs).box;const n=new jE(d(this,$r),.0025,.001,this._uiManager.direction==="ltr");E(this,Bi,n.getOutlines());const{lastPoint:s}=d(this,Bi).box;E(this,ch,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Vm=function({highlightOutlines:e,highlightId:n,clipPathId:s}){var g,y;if(E(this,xs,e),E(this,Bi,e.getNewOutline(d(this,Wi)/2+1.5,.0025)),n>=0)E(this,Pn,n),E(this,Gl,s),this.parent.drawLayer.finalizeLine(n,e),E(this,$e,this.parent.drawLayer.drawOutline(d(this,Bi)));else if(this.parent){const b=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(d(this,Pn),e),this.parent.drawLayer.updateBox(d(this,Pn),C(g=Qt,Gi,Kc).call(g,d(this,xs).box,(b-this.rotation+360)%360)),this.parent.drawLayer.updateLine(d(this,$e),d(this,Bi)),this.parent.drawLayer.updateBox(d(this,$e),C(y=Qt,Gi,Kc).call(y,d(this,Bi).box,b))}const{x:a,y:c,width:u,height:h}=e.box;switch(this.rotation){case 0:this.x=a,this.y=c,this.width=u,this.height=h;break;case 90:{const[b,w]=this.parentDimensions;this.x=c,this.y=1-a,this.width=u*w/b,this.height=h*b/w;break}case 180:this.x=1-a,this.y=1-c,this.width=u,this.height=h;break;case 270:{const[b,w]=this.parentDimensions;this.x=1-c,this.y=a,this.width=u*w/b,this.height=h*b/w;break}}const{lastPoint:p}=d(this,Bi).box;E(this,ch,[(p[0]-a)/u,(p[1]-c)/h])},zP=function(e){const n=(a,c)=>{var u,h,p;this.color=a,(u=this.parent)==null||u.drawLayer.changeColor(d(this,Pn),a),(h=d(this,lh))==null||h.updateColor(a),E(this,Gr,c),(p=this.parent)==null||p.drawLayer.changeOpacity(d(this,Pn),c)},s=this.color,r=d(this,Gr);this.addCommands({cmd:n.bind(this,e,Qt._defaultOpacity),undo:n.bind(this,s,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},HP=function(e){const n=d(this,Wi),s=r=>{E(this,Wi,r),C(this,Ot,BP).call(this,r)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},BP=function(e){if(!d(this,si))return;C(this,Ot,Vm).call(this,{highlightOutlines:d(this,xs).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)},zw=function(){d(this,Pn)===null||!this.parent||(this.parent.drawLayer.remove(d(this,Pn)),E(this,Pn,null),this.parent.drawLayer.remove(d(this,$e)),E(this,$e,null))},qa=function(e=this.parent){d(this,Pn)===null&&({id:Je(this,Pn)._,clipPathId:Je(this,Gl)._}=e.drawLayer.draw(d(this,xs),this.color,d(this,Gr)),E(this,$e,e.drawLayer.drawOutline(d(this,Bi))),d(this,Xl)&&(d(this,Xl).style.clipPath=d(this,Gl)))},Gi=new WeakSet,Kc=function({x:e,y:n,width:s,height:r},a){switch(a){case 90:return{x:1-n-r,y:e,width:r,height:s};case 180:return{x:1-e-s,y:1-n-r,width:s,height:r};case 270:return{x:n,y:1-e-s,width:r,height:s}}return{x:e,y:n,width:s,height:r}},WP=function(e){Qt._keyboardManager.exec(this,e)},$m=function(e){if(!d(this,ah))return;const n=window.getSelection();e?n.setPosition(d(this,ah),d(this,Tp)):n.setPosition(d(this,Pp),d(this,Rp))},Vd=function(){return d(this,si)?this.rotation:0},UP=function(){if(d(this,si))return null;const[e,n]=this.pageDimensions,[s,r]=this.pageTranslation,a=d(this,$r),c=new Float32Array(a.length*8);let u=0;for(const{x:h,y:p,width:g,height:y}of a){const b=h*e+s,w=(1-p-y)*n+r;c[u]=c[u+4]=b,c[u+1]=c[u+3]=w,c[u+2]=c[u+6]=b+g*e,c[u+5]=c[u+7]=w+y*n,u+=8}return c},VP=function(e){return d(this,xs).serialize(e,C(this,Ot,Vd).call(this))},$P=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},GP=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},XP=function(e){const{color:n}=this._initialData;return e.color.some((s,r)=>s!==n[r])},T(Qt,Gi),lt(Qt,"_defaultColor",null),lt(Qt,"_defaultOpacity",1),lt(Qt,"_defaultThickness",12),lt(Qt,"_type","highlight"),lt(Qt,"_editorType",Nt.HIGHLIGHT),lt(Qt,"_freeHighlightId",-1),lt(Qt,"_freeHighlight",null),lt(Qt,"_freeHighlightClipId","");let wy=Qt;var ql,Yl,Zs,Xr,Ui,Kl,Ql,Jl,qr,hh,Zl,tc,ca,ct,qP,YP,KP,QP,Bw,JP,Ww,ZP,tR,eR,nR,iR,Ya,Uw,Vw,$w,Gm,Xm,Qc,Gw,qm,oo,sR,Xw,rR,oR,qw,Ym,$d;const we=class we extends se{constructor(e){super({...e,name:"inkEditor"});T(this,ct);T(this,ql,0);T(this,Yl,0);T(this,Zs,null);T(this,Xr,new Path2D);T(this,Ui,!1);T(this,Kl,null);T(this,Ql,!1);T(this,Jl,!1);T(this,qr,null);T(this,hh,null);T(this,Zl,0);T(this,tc,0);T(this,ca,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,n){se.initialize(e,n)}static updateDefaultParams(e,n){switch(e){case It.INK_THICKNESS:we._defaultThickness=n;break;case It.INK_COLOR:we._defaultColor=n;break;case It.INK_OPACITY:we._defaultOpacity=n/100;break}}updateParams(e,n){switch(e){case It.INK_THICKNESS:C(this,ct,qP).call(this,n);break;case It.INK_COLOR:C(this,ct,YP).call(this,n);break;case It.INK_OPACITY:C(this,ct,KP).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[It.INK_THICKNESS,we._defaultThickness],[It.INK_COLOR,we._defaultColor||se._defaultLineColor],[It.INK_OPACITY,Math.round(we._defaultOpacity*100)]]}get propertiesToUpdate(){return[[It.INK_THICKNESS,this.thickness||we._defaultThickness],[It.INK_COLOR,this.color||we._defaultColor||se._defaultLineColor],[It.INK_OPACITY,Math.round(100*(this.opacity??we._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(C(this,ct,Gm).call(this),C(this,ct,Xm).call(this)),this.isAttachedToDOM||(this.parent.add(this),C(this,ct,Qc).call(this)),C(this,ct,$d).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,d(this,Zs)&&(clearTimeout(d(this,Zs)),E(this,Zs,null)),(e=d(this,qr))==null||e.disconnect(),E(this,qr,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,n]=this.parentDimensions,s=this.width*e,r=this.height*n;this.setDimensions(s,r)}enableEditMode(){d(this,Ui)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,C(this,ct,Uw).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),C(this,ct,Vw).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){d(this,Ui)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),E(this,Ui,!0),this.div.classList.add("disabled"),C(this,ct,$d).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||d(this,Ui)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),C(this,ct,JP).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),C(this,ct,Ww).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),C(this,ct,$w).call(this,e)}canvasPointerleave(e){C(this,ct,$w).call(this,e)}get isResizable(){return!this.isEmpty()&&d(this,Ui)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,r,a,c]=C(this,ct,QP).call(this);if(this.setAt(s,r,0,0),this.setDims(a,c),C(this,ct,Gm).call(this),this.width){const[u,h]=this.parentDimensions;this.setAspectRatio(this.width*u,this.height*h),this.setAt(e*u,n*h,this.width*u,this.height*h),E(this,Jl,!0),C(this,ct,Qc).call(this),this.setDims(this.width*u,this.height*h),C(this,ct,Ya).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return C(this,ct,Xm).call(this),this.div}setDimensions(e,n){const s=Math.round(e),r=Math.round(n);if(d(this,Zl)===s&&d(this,tc)===r)return;E(this,Zl,s),E(this,tc,r),this.canvas.style.visibility="hidden";const[a,c]=this.parentDimensions;this.width=e/a,this.height=n/c,this.fixAndSetPosition(),d(this,Ui)&&C(this,ct,Gw).call(this,e,n),C(this,ct,Qc).call(this),C(this,ct,Ya).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,n,s){var A,S,P;if(e instanceof Jx)return null;const r=await super.deserialize(e,n,s);r.thickness=e.thickness,r.color=St.makeHexColor(...e.color),r.opacity=e.opacity;const[a,c]=r.pageDimensions,u=r.width*a,h=r.height*c,p=r.parentScale,g=e.thickness/2;E(r,Ui,!0),E(r,Zl,Math.round(u)),E(r,tc,Math.round(h));const{paths:y,rect:b,rotation:w}=e;for(let{bezier:R}of y){R=C(A=we,oo,rR).call(A,R,b,w);const M=[];r.paths.push(M);let I=p*(R[0]-g),F=p*(R[1]-g);for(let N=2,W=R.length;N<W;N+=6){const $=p*(R[N]-g),G=p*(R[N+1]-g),K=p*(R[N+2]-g),rt=p*(R[N+3]-g),ot=p*(R[N+4]-g),nt=p*(R[N+5]-g);M.push([[I,F],[$,G],[K,rt],[ot,nt]]),I=ot,F=nt}const j=C(this,oo,sR).call(this,M);r.bezierPath2D.push(j)}const x=C(S=r,ct,qw).call(S);return E(r,Yl,Math.max(se.MIN_SIZE,x[2]-x[0])),E(r,ql,Math.max(se.MIN_SIZE,x[3]-x[1])),C(P=r,ct,Gw).call(P,u,h),r}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),n=se._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Nt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:C(this,ct,oR).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ql=new WeakMap,Yl=new WeakMap,Zs=new WeakMap,Xr=new WeakMap,Ui=new WeakMap,Kl=new WeakMap,Ql=new WeakMap,Jl=new WeakMap,qr=new WeakMap,hh=new WeakMap,Zl=new WeakMap,tc=new WeakMap,ca=new WeakMap,ct=new WeakSet,qP=function(e){const n=r=>{this.thickness=r,C(this,ct,$d).call(this)},s=this.thickness;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},YP=function(e){const n=r=>{this.color=r,C(this,ct,Ya).call(this)},s=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},KP=function(e){const n=r=>{this.opacity=r,C(this,ct,Ya).call(this)};e/=100;const s=this.opacity;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:It.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},QP=function(){const{parentRotation:e,parentDimensions:[n,s]}=this;switch(e){case 90:return[0,s,s,n];case 180:return[n,s,n,s];case 270:return[n,0,s,n];default:return[0,0,n,s]}},Bw=function(){const{ctx:e,color:n,opacity:s,thickness:r,parentScale:a,scaleFactor:c}=this;e.lineWidth=r*a/c,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${n}${Lj(s)}`},JP=function(e,n){this.canvas.addEventListener("contextmenu",Yi,{signal:this._uiManager._signal}),C(this,ct,Vw).call(this),E(this,Kl,new AbortController);const s=this._uiManager.combinedSignal(d(this,Kl));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:s}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:s}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:s}),this.isEditing=!0,d(this,Jl)||(E(this,Jl,!0),C(this,ct,Qc).call(this),this.thickness||(this.thickness=we._defaultThickness),this.color||(this.color=we._defaultColor||se._defaultLineColor),this.opacity??(this.opacity=we._defaultOpacity)),this.currentPath.push([e,n]),E(this,Ql,!1),C(this,ct,Bw).call(this),E(this,ca,()=>{C(this,ct,eR).call(this),d(this,ca)&&window.requestAnimationFrame(d(this,ca))}),window.requestAnimationFrame(d(this,ca))},Ww=function(e,n){const[s,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===s&&n===r)return;const a=this.currentPath;let c=d(this,Xr);if(a.push([e,n]),E(this,Ql,!0),a.length<=2){c.moveTo(...a[0]),c.lineTo(e,n);return}a.length===3&&(E(this,Xr,c=new Path2D),c.moveTo(...a[0])),C(this,ct,nR).call(this,c,...a.at(-3),...a.at(-2),e,n)},ZP=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);d(this,Xr).lineTo(...e)},tR=function(e,n){E(this,ca,null),e=Math.min(Math.max(e,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),C(this,ct,Ww).call(this,e,n),C(this,ct,ZP).call(this);let s;if(this.currentPath.length!==1)s=C(this,ct,iR).call(this);else{const h=[e,n];s=[[h,h.slice(),h.slice(),h]]}const r=d(this,Xr),a=this.currentPath;this.currentPath=[],E(this,Xr,new Path2D);const c=()=>{this.allRawPaths.push(a),this.paths.push(s),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},u=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(C(this,ct,Gm).call(this),C(this,ct,Xm).call(this)),C(this,ct,$d).call(this))};this.addCommands({cmd:c,undo:u,mustExec:!0})},eR=function(){if(!d(this,Ql))return;E(this,Ql,!1);const e=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),s=n.map(c=>c[0]),r=n.map(c=>c[1]);Math.min(...s)-e,Math.max(...s)+e,Math.min(...r)-e,Math.max(...r)+e;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const c of this.bezierPath2D)a.stroke(c);a.stroke(d(this,Xr)),a.restore()},nR=function(e,n,s,r,a,c,u){const h=(n+r)/2,p=(s+a)/2,g=(r+c)/2,y=(a+u)/2;e.bezierCurveTo(h+2*(r-h)/3,p+2*(a-p)/3,g+2*(r-g)/3,y+2*(a-y)/3,g,y)},iR=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const n=[];let s,[r,a]=e[0];for(s=1;s<e.length-2;s++){const[b,w]=e[s],[x,A]=e[s+1],S=(b+x)/2,P=(w+A)/2,R=[r+2*(b-r)/3,a+2*(w-a)/3],M=[S+2*(b-S)/3,P+2*(w-P)/3];n.push([[r,a],R,M,[S,P]]),[r,a]=[S,P]}const[c,u]=e[s],[h,p]=e[s+1],g=[r+2*(c-r)/3,a+2*(u-a)/3],y=[h+2*(c-h)/3,p+2*(u-p)/3];return n.push([[r,a],g,y,[h,p]]),n},Ya=function(){if(this.isEmpty()){C(this,ct,qm).call(this);return}C(this,ct,Bw).call(this);const{canvas:e,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),C(this,ct,qm).call(this);for(const s of this.bezierPath2D)n.stroke(s)},Uw=function(){if(d(this,hh))return;E(this,hh,new AbortController);const e=this._uiManager.combinedSignal(d(this,hh));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},Vw=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},$w=function(e){var n;(n=d(this,Kl))==null||n.abort(),E(this,Kl,null),C(this,ct,Uw).call(this),d(this,Zs)&&clearTimeout(d(this,Zs)),E(this,Zs,setTimeout(()=>{E(this,Zs,null),this.canvas.removeEventListener("contextmenu",Yi)},10)),C(this,ct,tR).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Gm=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Xm=function(){E(this,qr,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),d(this,qr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=d(this,qr))==null||e.disconnect(),E(this,qr,null)},{once:!0})},Qc=function(){if(!d(this,Jl))return;const[e,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*n),C(this,ct,qm).call(this)},Gw=function(e,n){const s=C(this,ct,Ym).call(this),r=(e-s)/d(this,Yl),a=(n-s)/d(this,ql);this.scaleFactor=Math.min(r,a)},qm=function(){const e=C(this,ct,Ym).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},oo=new WeakSet,sR=function(e){const n=new Path2D;for(let s=0,r=e.length;s<r;s++){const[a,c,u,h]=e[s];s===0&&n.moveTo(...a),n.bezierCurveTo(c[0],c[1],u[0],u[1],h[0],h[1])}return n},Xw=function(e,n,s){const[r,a,c,u]=n;switch(s){case 0:for(let h=0,p=e.length;h<p;h+=2)e[h]+=r,e[h+1]=u-e[h+1];break;case 90:for(let h=0,p=e.length;h<p;h+=2){const g=e[h];e[h]=e[h+1]+r,e[h+1]=g+a}break;case 180:for(let h=0,p=e.length;h<p;h+=2)e[h]=c-e[h],e[h+1]+=a;break;case 270:for(let h=0,p=e.length;h<p;h+=2){const g=e[h];e[h]=c-e[h+1],e[h+1]=u-g}break;default:throw new Error("Invalid rotation")}return e},rR=function(e,n,s){const[r,a,c,u]=n;switch(s){case 0:for(let h=0,p=e.length;h<p;h+=2)e[h]-=r,e[h+1]=u-e[h+1];break;case 90:for(let h=0,p=e.length;h<p;h+=2){const g=e[h];e[h]=e[h+1]-a,e[h+1]=g-r}break;case 180:for(let h=0,p=e.length;h<p;h+=2)e[h]=c-e[h],e[h+1]-=a;break;case 270:for(let h=0,p=e.length;h<p;h+=2){const g=e[h];e[h]=u-e[h+1],e[h+1]=c-g}break;default:throw new Error("Invalid rotation")}return e},oR=function(e,n,s,r){var p,g;const a=[],c=this.thickness/2,u=e*n+c,h=e*s+c;for(const y of this.paths){const b=[],w=[];for(let x=0,A=y.length;x<A;x++){const[S,P,R,M]=y[x];if(S[0]===M[0]&&S[1]===M[1]&&A===1){const rt=e*S[0]+u,ot=e*S[1]+h;b.push(rt,ot),w.push(rt,ot);break}const I=e*S[0]+u,F=e*S[1]+h,j=e*P[0]+u,N=e*P[1]+h,W=e*R[0]+u,$=e*R[1]+h,G=e*M[0]+u,K=e*M[1]+h;x===0&&(b.push(I,F),w.push(I,F)),b.push(j,N,W,$,G,K),w.push(j,N),x===A-1&&w.push(G,K)}a.push({bezier:C(p=we,oo,Xw).call(p,b,r,this.rotation),points:C(g=we,oo,Xw).call(g,w,r,this.rotation)})}return a},qw=function(){let e=1/0,n=-1/0,s=1/0,r=-1/0;for(const a of this.paths)for(const[c,u,h,p]of a){const g=St.bezierBoundingBox(...c,...u,...h,...p);e=Math.min(e,g[0]),s=Math.min(s,g[1]),n=Math.max(n,g[2]),r=Math.max(r,g[3])}return[e,s,n,r]},Ym=function(){return d(this,Ui)?Math.ceil(this.thickness*this.parentScale):0},$d=function(e=!1){if(this.isEmpty())return;if(!d(this,Ui)){C(this,ct,Ya).call(this);return}const n=C(this,ct,qw).call(this),s=C(this,ct,Ym).call(this);E(this,Yl,Math.max(se.MIN_SIZE,n[2]-n[0])),E(this,ql,Math.max(se.MIN_SIZE,n[3]-n[1]));const r=Math.ceil(s+d(this,Yl)*this.scaleFactor),a=Math.ceil(s+d(this,ql)*this.scaleFactor),[c,u]=this.parentDimensions;this.width=r/c,this.height=a/u,this.setAspectRatio(r,a);const h=this.translationX,p=this.translationY;this.translationX=-n[0],this.translationY=-n[1],C(this,ct,Qc).call(this),C(this,ct,Ya).call(this),E(this,Zl,r),E(this,tc,a),this.setDims(r,a);const g=e?s/this.scaleFactor/2:0;this.translate(h-this.translationX-g,p-this.translationY-g)},T(we,oo),lt(we,"_defaultColor",null),lt(we,"_defaultOpacity",1),lt(we,"_defaultThickness",1),lt(we,"_type","ink"),lt(we,"_editorType",Nt.INK);let Hw=we;var _e,fn,ua,Yr,ha,dh,tr,Kr,er,Ei,fh,Wt,Gd,Xd,Km,Kw,aR,Qm,Qw,Jm,lR,cR;const nf=class nf extends se{constructor(e){super({...e,name:"stampEditor"});T(this,Wt);T(this,_e,null);T(this,fn,null);T(this,ua,null);T(this,Yr,null);T(this,ha,null);T(this,dh,"");T(this,tr,null);T(this,Kr,null);T(this,er,null);T(this,Ei,!1);T(this,fh,!1);E(this,Yr,e.bitmapUrl),E(this,ha,e.bitmapFile)}static initialize(e,n){se.initialize(e,n)}static get supportedTypes(){return $t(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return $t(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(Nt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:a,height:c}=e||this.copyCanvas(null,null,!0).imageData,u=await s.guess({name:"altText",request:{data:r,width:a,height:c,channels:r.length/(a*c)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const h=u.output;return await this.setGuessedAltText(h),n&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}remove(){var e,n;d(this,fn)&&(E(this,_e,null),this._uiManager.imageManager.deleteId(d(this,fn)),(e=d(this,tr))==null||e.remove(),E(this,tr,null),(n=d(this,Kr))==null||n.disconnect(),E(this,Kr,null),d(this,er)&&(clearTimeout(d(this,er)),E(this,er,null))),super.remove()}rebuild(){if(!this.parent){d(this,fn)&&C(this,Wt,Km).call(this);return}super.rebuild(),this.div!==null&&(d(this,fn)&&d(this,tr)===null&&C(this,Wt,Km).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(d(this,ua)||d(this,_e)||d(this,Yr)||d(this,ha)||d(this,fn))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),d(this,_e)?C(this,Wt,Kw).call(this):C(this,Wt,Km).call(this),this.width&&!this.annotationElementId){const[s,r]=this.parentDimensions;this.setAt(e*s,n*r,this.width*s,this.height*r)}return this.div}copyCanvas(e,n,s=!1){var b;e||(e=224);const{width:r,height:a}=d(this,_e),c=new $b;let u=d(this,_e),h=r,p=a,g=null;if(n){if(r>n||a>n){const N=Math.min(n/r,n/a);h=Math.floor(r*N),p=Math.floor(a*N)}g=document.createElement("canvas");const w=g.width=Math.ceil(h*c.sx),x=g.height=Math.ceil(p*c.sy);d(this,Ei)||(u=C(this,Wt,Qm).call(this,w,x));const A=g.getContext("2d");A.filter=this._uiManager.hcmFilter;let S="white",P="#cfcfd8";this._uiManager.hcmFilter!=="none"?P="black":(b=window.matchMedia)!=null&&b.call(window,"(prefers-color-scheme: dark)").matches&&(S="#8f8f9d",P="#42414d");const R=15,M=R*c.sx,I=R*c.sy,F=new OffscreenCanvas(M*2,I*2),j=F.getContext("2d");j.fillStyle=S,j.fillRect(0,0,M*2,I*2),j.fillStyle=P,j.fillRect(0,0,M,I),j.fillRect(M,I,M,I),A.fillStyle=A.createPattern(F,"repeat"),A.fillRect(0,0,w,x),A.drawImage(u,0,0,u.width,u.height,0,0,w,x)}let y=null;if(s){let w,x;if(c.symmetric&&u.width<e&&u.height<e)w=u.width,x=u.height;else if(u=d(this,_e),r>e||a>e){const P=Math.min(e/r,e/a);w=Math.floor(r*P),x=Math.floor(a*P),d(this,Ei)||(u=C(this,Wt,Qm).call(this,w,x))}const S=new OffscreenCanvas(w,x).getContext("2d",{willReadFrequently:!0});S.drawImage(u,0,0,u.width,u.height,0,0,w,x),y={width:w,height:x,data:S.getImageData(0,0,w,x).data}}return{canvas:g,width:h,height:p,imageData:y}}getImageForAltText(){return d(this,tr)}static async deserialize(e,n,s){var x;let r=null;if(e instanceof bP){const{data:{rect:A,rotation:S,id:P,structParent:R,popupRef:M},container:I,parent:{page:{pageNumber:F}}}=e,j=I.querySelector("canvas"),N=s.imageManager.getFromCanvas(I.id,j);j.remove();const W=((x=await n._structTree.getAriaAttributes(`${Bx}${P}`))==null?void 0:x.get("aria-label"))||"";r=e={annotationType:Nt.STAMP,bitmapId:N.id,bitmap:N.bitmap,pageIndex:F-1,rect:A.slice(0),rotation:S,id:P,deleted:!1,accessibilityData:{decorative:!1,altText:W},isSvg:!1,structParent:R,popupRef:M}}const a=await super.deserialize(e,n,s),{rect:c,bitmap:u,bitmapUrl:h,bitmapId:p,isSvg:g,accessibilityData:y}=e;p&&s.imageManager.isValidId(p)?(E(a,fn,p),u&&E(a,_e,u)):E(a,Yr,h),E(a,Ei,g);const[b,w]=a.pageDimensions;return a.width=(c[2]-c[0])/b,a.height=(c[3]-c[1])/w,a.annotationElementId=e.id||null,y&&(a.altTextData=y),a._initialData=r,E(a,fh,!!r),a}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:Nt.STAMP,bitmapId:d(this,fn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,Ei),structTreeParentId:this._structTreeParentId};if(e)return s.bitmapUrl=C(this,Wt,Jm).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:r,altText:a}=this.serializeAltText(!1);if(!r&&a&&(s.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const u=C(this,Wt,cR).call(this,s);if(u.isSame)return null;u.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,n===null)return s;n.stamps||(n.stamps=new Map);const c=d(this,Ei)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!n.stamps.has(d(this,fn)))n.stamps.set(d(this,fn),{area:c,serialized:s}),s.bitmap=C(this,Wt,Jm).call(this,!1);else if(d(this,Ei)){const u=n.stamps.get(d(this,fn));c>u.area&&(u.area=c,u.serialized.bitmap.close(),u.serialized.bitmap=C(this,Wt,Jm).call(this,!1))}return s}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};_e=new WeakMap,fn=new WeakMap,ua=new WeakMap,Yr=new WeakMap,ha=new WeakMap,dh=new WeakMap,tr=new WeakMap,Kr=new WeakMap,er=new WeakMap,Ei=new WeakMap,fh=new WeakMap,Wt=new WeakSet,Gd=function(e,n=!1){if(!e){this.remove();return}E(this,_e,e.bitmap),n||(E(this,fn,e.id),E(this,Ei,e.isSvg)),e.file&&E(this,dh,e.file.name),C(this,Wt,Kw).call(this)},Xd=function(){if(E(this,ua,null),this._uiManager.enableWaiting(!1),!!d(this,tr)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,_e)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,_e)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Km=function(){if(d(this,fn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,fn)).then(s=>C(this,Wt,Gd).call(this,s,!0)).finally(()=>C(this,Wt,Xd).call(this));return}if(d(this,Yr)){const s=d(this,Yr);E(this,Yr,null),this._uiManager.enableWaiting(!0),E(this,ua,this._uiManager.imageManager.getFromUrl(s).then(r=>C(this,Wt,Gd).call(this,r)).finally(()=>C(this,Wt,Xd).call(this)));return}if(d(this,ha)){const s=d(this,ha);E(this,ha,null),this._uiManager.enableWaiting(!0),E(this,ua,this._uiManager.imageManager.getFromFile(s).then(r=>C(this,Wt,Gd).call(this,r)).finally(()=>C(this,Wt,Xd).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=nf.supportedTypesStr;const n=this._uiManager._signal;E(this,ua,new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),C(this,Wt,Gd).call(this,r)}s()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:n})}).finally(()=>C(this,Wt,Xd).call(this))),e.click()},Kw=function(){const{div:e}=this;let{width:n,height:s}=d(this,_e);const[r,a]=this.pageDimensions,c=.75;if(this.width)n=this.width*r,s=this.height*a;else if(n>c*r||s>c*a){const g=Math.min(c*r/n,c*a/s);n*=g,s*=g}const[u,h]=this.parentDimensions;this.setDims(n*u/r,s*h/a),this._uiManager.enableWaiting(!1);const p=E(this,tr,document.createElement("canvas"));p.setAttribute("role","img"),this.addContainer(p),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),C(this,Wt,Qw).call(this,n,s),C(this,Wt,lR).call(this),d(this,fh)||(this.parent.addUndoableEditor(this),E(this,fh,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,dh)&&p.setAttribute("aria-label",d(this,dh))},aR=function(e,n){var c;const[s,r]=this.parentDimensions;this.width=e/s,this.height=n/r,(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,d(this,er)!==null&&clearTimeout(d(this,er)),E(this,er,setTimeout(()=>{E(this,er,null),C(this,Wt,Qw).call(this,e,n)},200))},Qm=function(e,n){const{width:s,height:r}=d(this,_e);let a=s,c=r,u=d(this,_e);for(;a>2*e||c>2*n;){const h=a,p=c;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),c>2*n&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const g=new OffscreenCanvas(a,c);g.getContext("2d").drawImage(u,0,0,h,p,0,0,a,c),u=g.transferToImageBitmap()}return u},Qw=function(e,n){const s=new $b,r=Math.ceil(e*s.sx),a=Math.ceil(n*s.sy),c=d(this,tr);if(!c||c.width===r&&c.height===a)return;c.width=r,c.height=a;const u=d(this,Ei)?d(this,_e):C(this,Wt,Qm).call(this,r,a),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(u,0,0,u.width,u.height,0,0,r,a)},Jm=function(e){if(e){if(d(this,Ei)){const r=this._uiManager.imageManager.getSvgUrl(d(this,fn));if(r)return r}const n=document.createElement("canvas");return{width:n.width,height:n.height}=d(this,_e),n.getContext("2d").drawImage(d(this,_e),0,0),n.toDataURL()}if(d(this,Ei)){const[n,s]=this.pageDimensions,r=Math.round(this.width*n*ba.PDF_TO_CSS_UNITS),a=Math.round(this.height*s*ba.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(r,a);return c.getContext("2d").drawImage(d(this,_e),0,0,d(this,_e).width,d(this,_e).height,0,0,r,a),c.transferToImageBitmap()}return structuredClone(d(this,_e))},lR=function(){this._uiManager._signal&&(E(this,Kr,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&C(this,Wt,aR).call(this,n.width,n.height)})),d(this,Kr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=d(this,Kr))==null||e.disconnect(),E(this,Kr,null)},{once:!0}))},cR=function(e){var h;const{rect:n,pageIndex:s,accessibilityData:{altText:r}}=this._initialData,a=e.rect.every((p,g)=>Math.abs(p-n[g])<1),c=e.pageIndex===s,u=(((h=e.accessibilityData)==null?void 0:h.alt)||"")===r;return{isSame:a&&c&&u,isSameAltText:u}},lt(nf,"_type","stamp"),lt(nf,"_editorType",Nt.STAMP);let Yw=nf;var ec,ph,nr,da,Qr,Ci,fa,gh,mh,Rn,Jr,Ct,pa,mn,uR,Zw,tx,ex,Zm;const os=class os{constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:s,accessibilityManager:r,annotationLayer:a,drawLayer:c,textLayer:u,viewport:h,l10n:p}){T(this,mn);T(this,ec);T(this,ph,!1);T(this,nr,null);T(this,da,null);T(this,Qr,null);T(this,Ci,new Map);T(this,fa,!1);T(this,gh,!1);T(this,mh,!1);T(this,Rn,null);T(this,Jr,null);T(this,Ct);const g=[...d(os,pa).values()];if(!os._initialized){os._initialized=!0;for(const y of g)y.initialize(p,t)}t.registerEditorTypes(g),E(this,Ct,t),this.pageIndex=e,this.div=n,E(this,ec,r),E(this,nr,a),this.viewport=h,E(this,Rn,u),this.drawLayer=c,this._structTree=s,d(this,Ct).addLayer(this)}get isEmpty(){return d(this,Ci).size===0}get isInvisible(){return this.isEmpty&&d(this,Ct).getMode()===Nt.NONE}updateToolbar(t){d(this,Ct).updateToolbar(t)}updateMode(t=d(this,Ct).getMode()){switch(C(this,mn,Zm).call(this),t){case Nt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Nt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Nt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of d(os,pa).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=d(this,Rn))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(d(this,Ct).getMode()!==Nt.INK)return;if(!t){for(const n of d(this,Ci).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){d(this,Ct).setEditingState(t)}addCommands(t){d(this,Ct).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=d(this,nr))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of d(this,Ci).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(d(this,Ct).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!d(this,nr))return;const e=d(this,nr).getEditableAnnotations();for(const n of e){if(n.hide(),d(this,Ct).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;E(this,mh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const r of d(this,Ci).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);(s=this.getEditableAnnotation(r.annotationElementId))==null||s.show(),r.remove()}if(d(this,nr)){const r=d(this,nr).getEditableAnnotations();for(const a of r){const{id:c}=a.data;if(d(this,Ct).isDeletedAnnotationElement(c))continue;let u=e.get(c);if(u){u.resetAnnotationElement(a),u.show(!1),a.show();continue}u=t.get(c),u&&(d(this,Ct).addChangedExistingAnnotation(u),u.renderAnnotationElement(a)&&u.show(!1)),a.show()}}C(this,mn,Zm).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of d(os,pa).values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),E(this,mh,!1)}getEditableAnnotation(t){var e;return((e=d(this,nr))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){d(this,Ct).getActive()!==t&&d(this,Ct).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=d(this,Rn))!=null&&t.div&&!d(this,Jr)){E(this,Jr,new AbortController);const e=d(this,Ct).combinedSignal(d(this,Jr));d(this,Rn).div.addEventListener("pointerdown",C(this,mn,uR).bind(this),{signal:e}),d(this,Rn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=d(this,Rn))!=null&&t.div&&d(this,Jr)&&(d(this,Jr).abort(),E(this,Jr,null),d(this,Rn).div.classList.remove("highlighting"))}enableClick(){if(d(this,da))return;E(this,da,new AbortController);const t=d(this,Ct).combinedSignal(d(this,da));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=d(this,da))==null||t.abort(),E(this,da,null)}attach(t){d(this,Ci).set(t.id,t);const{annotationElementId:e}=t;e&&d(this,Ct).isDeletedAnnotationElement(e)&&d(this,Ct).removeDeletedAnnotationElement(t)}detach(t){var e;d(this,Ci).delete(t.id),(e=d(this,ec))==null||e.removePointerInTextLayer(t.contentDiv),!d(this,mh)&&t.annotationElementId&&d(this,Ct).addDeletedAnnotationElement(t)}remove(t){this.detach(t),d(this,Ct).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,d(this,gh)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(d(this,Ct).addDeletedAnnotationElement(t.annotationElementId),se.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),d(this,Ct).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),d(this,Ct).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!d(this,Qr)&&(t._focusEventsAllowed=!1,E(this,Qr,setTimeout(()=>{E(this,Qr,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:d(this,Ct)._signal}),e.focus())},0))),t._structTreeParentId=(n=d(this,ec))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return d(this,Ct).getId()}combinedSignal(t){return d(this,Ct).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=d(this,mn,Zw))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){d(this,Ct).updateToolbar(t),d(this,Ct).updateMode(t);const{offsetX:n,offsetY:s}=C(this,mn,ex).call(this),r=this.getNextId(),a=C(this,mn,tx).call(this,{parent:this,id:r,x:n,y:s,uiManager:d(this,Ct),isCentered:!0,...e});a&&this.add(a)}async deserialize(t){var e;return await((e=d(os,pa).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,d(this,Ct)))||null}createAndAddNewEditor(t,e,n={}){const s=this.getNextId(),r=C(this,mn,tx).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:d(this,Ct),isCentered:e,...n});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(C(this,mn,ex).call(this),!0)}setSelected(t){d(this,Ct).setSelected(t)}toggleSelected(t){d(this,Ct).toggleSelected(t)}unselect(t){d(this,Ct).unselect(t)}pointerup(t){const{isMac:e}=Wn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&d(this,fa)){if(E(this,fa,!1),!d(this,ph)){E(this,ph,!0);return}if(d(this,Ct).getMode()===Nt.STAMP){d(this,Ct).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(d(this,Ct).getMode()===Nt.HIGHLIGHT&&this.enableTextSelection(),d(this,fa)){E(this,fa,!1);return}const{isMac:e}=Wn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;E(this,fa,!0);const n=d(this,Ct).getActive();E(this,ph,!n||n.isEmpty())}findNewParent(t,e,n){const s=d(this,Ct).findParent(e,n);return s===null||s===this?!1:(s.changeParent(t),!0)}destroy(){var t,e;((t=d(this,Ct).getActive())==null?void 0:t.parent)===this&&(d(this,Ct).commitOrRemove(),d(this,Ct).setActiveEditor(null)),d(this,Qr)&&(clearTimeout(d(this,Qr)),E(this,Qr,null));for(const n of d(this,Ci).values())(e=d(this,ec))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,d(this,Ci).clear(),d(this,Ct).removeLayer(this)}render({viewport:t}){this.viewport=t,lc(this.div,t);for(const e of d(this,Ct).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){d(this,Ct).commitOrRemove(),C(this,mn,Zm).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,lc(this.div,{rotation:n}),e!==n)for(const s of d(this,Ci).values())s.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return d(this,Ct).viewParameters.realScale}};ec=new WeakMap,ph=new WeakMap,nr=new WeakMap,da=new WeakMap,Qr=new WeakMap,Ci=new WeakMap,fa=new WeakMap,gh=new WeakMap,mh=new WeakMap,Rn=new WeakMap,Jr=new WeakMap,Ct=new WeakMap,pa=new WeakMap,mn=new WeakSet,uR=function(t){d(this,Ct).unselectAll();const{target:e}=t;if(e===d(this,Rn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&d(this,Rn).div.contains(e)){const{isMac:n}=Wn.platform;if(t.button!==0||t.ctrlKey&&n)return;d(this,Ct).showAllEditors("highlight",!0,!0),d(this,Rn).div.classList.add("free"),this.toggleDrawing(),wy.startHighlighting(this,d(this,Ct).direction==="ltr",{target:d(this,Rn).div,x:t.x,y:t.y}),d(this,Rn).div.addEventListener("pointerup",()=>{d(this,Rn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,Ct)._signal}),t.preventDefault()}},Zw=function(){return d(os,pa).get(d(this,Ct).getMode())},tx=function(t){const e=d(this,mn,Zw);return e?new e.prototype.constructor(t):null},ex=function(){const{x:t,y:e,width:n,height:s}=this.div.getBoundingClientRect(),r=Math.max(0,t),a=Math.max(0,e),c=Math.min(window.innerWidth,t+n),u=Math.min(window.innerHeight,e+s),h=(r+c)/2-t,p=(a+u)/2-e,[g,y]=this.viewport.rotation%180===0?[h,p]:[p,h];return{offsetX:g,offsetY:y}},Zm=function(){E(this,gh,!0);for(const t of d(this,Ci).values())t.isEmpty()&&t.remove();E(this,gh,!1)},lt(os,"_initialized",!1),T(os,pa,new Map([Mw,Hw,Yw,wy].map(t=>[t._editorType,t])));let Jw=os;var ir,Lp,Ne,Zr,Ip,ix,fc,sx,hR;const un=class un{constructor({pageIndex:t}){T(this,fc);T(this,ir,null);T(this,Lp,0);T(this,Ne,new Map);T(this,Zr,new Map);this.pageIndex=t}setParent(t){if(!d(this,ir)){E(this,ir,t);return}if(d(this,ir)!==t){if(d(this,Ne).size>0)for(const e of d(this,Ne).values())e.remove(),t.append(e);E(this,ir,t)}}static get _svgFactory(){return $t(this,"_svgFactory",new Qx)}draw(t,e,n,s=!1){const r=Je(this,Lp)._++,a=C(this,fc,sx).call(this,t.box);a.classList.add(...t.classNamesForDrawing);const c=un._svgFactory.createElement("defs");a.append(c);const u=un._svgFactory.createElement("path");c.append(u);const h=`path_p${this.pageIndex}_${r}`;u.setAttribute("id",h),u.setAttribute("d",t.toSVGPath()),s&&d(this,Zr).set(r,u);const p=C(this,fc,hR).call(this,c,h),g=un._svgFactory.createElement("use");return a.append(g),a.setAttribute("fill",e),a.setAttribute("fill-opacity",n),g.setAttribute("href",`#${h}`),d(this,Ne).set(r,a),{id:r,clipPathId:`url(#${p})`}}drawOutline(t){const e=Je(this,Lp)._++,n=C(this,fc,sx).call(this,t.box);n.classList.add(...t.classNamesForOutlining);const s=un._svgFactory.createElement("defs");n.append(s);const r=un._svgFactory.createElement("path");s.append(r);const a=`path_p${this.pageIndex}_${e}`;r.setAttribute("id",a),r.setAttribute("d",t.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let c;if(t.mustRemoveSelfIntersections){const p=un._svgFactory.createElement("mask");s.append(p),c=`mask_p${this.pageIndex}_${e}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const g=un._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const y=un._svgFactory.createElement("use");p.append(y),y.setAttribute("href",`#${a}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const u=un._svgFactory.createElement("use");n.append(u),u.setAttribute("href",`#${a}`),c&&u.setAttribute("mask",`url(#${c})`);const h=u.cloneNode();return n.append(h),u.classList.add("mainOutline"),h.classList.add("secondaryOutline"),d(this,Ne).set(e,n),e}finalizeLine(t,e){const n=d(this,Zr).get(t);d(this,Zr).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){d(this,Ne).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){d(this,Zr).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var n;C(n=un,Ip,ix).call(n,d(this,Ne).get(t),e)}show(t,e){d(this,Ne).get(t).classList.toggle("hidden",!e)}rotate(t,e){d(this,Ne).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){d(this,Ne).get(t).setAttribute("fill",e)}changeOpacity(t,e){d(this,Ne).get(t).setAttribute("fill-opacity",e)}addClass(t,e){d(this,Ne).get(t).classList.add(e)}removeClass(t,e){d(this,Ne).get(t).classList.remove(e)}getSVGRoot(t){return d(this,Ne).get(t)}remove(t){d(this,Zr).delete(t),d(this,ir)!==null&&(d(this,Ne).get(t).remove(),d(this,Ne).delete(t))}destroy(){E(this,ir,null);for(const t of d(this,Ne).values())t.remove();d(this,Ne).clear(),d(this,Zr).clear()}};ir=new WeakMap,Lp=new WeakMap,Ne=new WeakMap,Zr=new WeakMap,Ip=new WeakSet,ix=function(t,{x:e=0,y:n=0,width:s=1,height:r=1}={}){const{style:a}=t;a.top=`${100*n}%`,a.left=`${100*e}%`,a.width=`${100*s}%`,a.height=`${100*r}%`},fc=new WeakSet,sx=function(t){var n;const e=un._svgFactory.create(1,1,!0);return d(this,ir).append(e),e.setAttribute("aria-hidden",!0),C(n=un,Ip,ix).call(n,e,t),e},hR=function(t,e){const n=un._svgFactory.createElement("clipPath");t.append(n);const s=`clip_${e}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const r=un._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),s},T(un,Ip);let nx=un;var hH=Dt.AbortException,dH=Dt.AnnotationEditorLayer,fH=Dt.AnnotationEditorParamsType,pH=Dt.AnnotationEditorType,gH=Dt.AnnotationEditorUIManager,dR=Dt.AnnotationLayer,fR=Dt.AnnotationMode,mH=Dt.ColorPicker,yH=Dt.DOMSVGFactory,vH=Dt.DrawLayer,bH=Dt.FeatureTest,Zx=Dt.GlobalWorkerOptions,wH=Dt.ImageKind,xH=Dt.InvalidPDFException,_H=Dt.MissingPDFException,SH=Dt.OPS,AH=Dt.OutputScale,EH=Dt.PDFDataRangeTransport,CH=Dt.PDFDateString,kH=Dt.PDFWorker,TH=Dt.PasswordResponses,PH=Dt.PermissionFlag,RH=Dt.PixelsPerInch,MH=Dt.RenderingCancelledException,pR=Dt.TextLayer,LH=Dt.UnexpectedResponseException,IH=Dt.Util,DH=Dt.VerbosityLevel,OH=Dt.XfaLayer,FH=Dt.build,NH=Dt.createValidAbsoluteUrl,jH=Dt.fetchData,gR=Dt.getDocument,zH=Dt.getFilenameFromUrl,HH=Dt.getPdfFilenameFromUrl,BH=Dt.getXfaPageViewport,WH=Dt.isDataScheme,UH=Dt.isPdfFile,VH=Dt.noContextMenu,$H=Dt.normalizeUnicode,GH=Dt.setLayerDimensions,XH=Dt.shadow,mR=Dt.version;const qH=Object.freeze(Object.defineProperty({__proto__:null,AbortException:hH,AnnotationEditorLayer:dH,AnnotationEditorParamsType:fH,AnnotationEditorType:pH,AnnotationEditorUIManager:gH,AnnotationLayer:dR,AnnotationMode:fR,ColorPicker:mH,DOMSVGFactory:yH,DrawLayer:vH,FeatureTest:bH,GlobalWorkerOptions:Zx,ImageKind:wH,InvalidPDFException:xH,MissingPDFException:_H,OPS:SH,OutputScale:AH,PDFDataRangeTransport:EH,PDFDateString:CH,PDFWorker:kH,PasswordResponses:TH,PermissionFlag:PH,PixelsPerInch:RH,RenderingCancelledException:MH,TextLayer:pR,UnexpectedResponseException:LH,Util:IH,VerbosityLevel:DH,XfaLayer:OH,build:FH,createValidAbsoluteUrl:NH,fetchData:jH,getDocument:gR,getFilenameFromUrl:zH,getPdfFilenameFromUrl:HH,getXfaPageViewport:BH,isDataScheme:WH,isPdfFile:UH,noContextMenu:VH,normalizeUnicode:$H,setLayerDimensions:GH,shadow:XH,version:mR},Symbol.toStringTag,{value:"Module"}));var Ze=function(i,t,e){if(e||arguments.length===2)for(var n=0,s=t.length,r;n<s;n++)(r||!(n in t))&&(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return i.concat(r||Array.prototype.slice.call(t))},YH=["onCopy","onCut","onPaste"],KH=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],QH=["onFocus","onBlur"],JH=["onInput","onInvalid","onReset","onSubmit"],ZH=["onLoad","onError"],tB=["onKeyDown","onKeyPress","onKeyUp"],eB=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],nB=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],iB=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],sB=["onSelect"],rB=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],oB=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],aB=["onScroll"],lB=["onWheel"],cB=["onAnimationStart","onAnimationEnd","onAnimationIteration"],uB=["onTransitionEnd"],hB=["onToggle"],dB=["onChange"],fB=Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze(Ze([],YH,!0),KH,!0),QH,!0),JH,!0),ZH,!0),tB,!0),eB,!0),nB,!0),iB,!0),sB,!0),rB,!0),oB,!0),aB,!0),lB,!0),cB,!0),uB,!0),dB,!0),hB,!0);function yR(i,t){var e={};return fB.forEach(function(n){var s=i[n];s&&(t?e[n]=function(r){return s(r,t(n))}:e[n]=s)}),e}function Bp(i){var t=!1,e=new Promise(function(n,s){i.then(function(r){return!t&&n(r)}).catch(function(r){return!t&&s(r)})});return{promise:e,cancel:function(){t=!0}}}var pB="Invariant failed";function le(i,t){if(!i)throw new Error(pB)}var gb,zE;function gB(){if(zE)return gb;zE=1;var i=function(){};return gb=i,gb}var mB=gB();const Mn=oC(mB);var HE=Object.prototype.hasOwnProperty;function BE(i,t,e){for(e of i.keys())if(su(e,t))return e}function su(i,t){var e,n,s;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((n=i.length)===t.length)for(;n--&&su(i[n],t[n]););return n===-1}if(e===Set){if(i.size!==t.size)return!1;for(n of i)if(s=n,s&&typeof s=="object"&&(s=BE(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(n of i)if(s=n[0],s&&typeof s=="object"&&(s=BE(t,s),!s)||!su(n[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((n=i.byteLength)===t.byteLength)for(;n--&&i.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===t.byteLength)for(;n--&&i[n]===t[n];);return n===-1}if(!e||typeof i=="object"){n=0;for(e in i)if(HE.call(i,e)&&++n&&!HE.call(t,e)||!(e in t)||!su(i[e],t[e]))return!1;return Object.keys(t).length===n}}return i!==i&&t!==t}const vR=D.createContext(null);function ru({children:i,type:t}){return O.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:i})}const yB="noopener noreferrer nofollow";class vB{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return le(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){le(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{le(this.pdfDocument),le(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{le(Array.isArray(e));const n=e[0];new Promise(s=>{le(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(r=>{s(r)}).catch(()=>{le(!1)}):typeof n=="number"?s(n):le(!1)}).then(s=>{const r=s+1;le(this.pdfViewer),le(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:r})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;le(this.pdfViewer),le(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||yB,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const WE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},nv=typeof window<"u",bR=nv&&window.location.protocol==="file:";function bB(i){return typeof i<"u"}function Va(i){return bB(i)&&i!==null}function wB(i){return typeof i=="string"}function xB(i){return i instanceof ArrayBuffer}function _B(i){return le(nv),i instanceof Blob}function rx(i){return wB(i)&&/^data:/.test(i)}function UE(i){le(rx(i));const[t="",e=""]=i.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function SB(){return nv&&window.devicePixelRatio||1}const wR="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function VE(){Mn(!bR,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${wR}`)}function AB(){Mn(!bR,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${wR}`)}function hc(i){i!=null&&i.cancel&&i.cancel()}function ox(i,t){return Object.defineProperty(i,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function EB(i){return i.name==="RenderingCancelledException"}function CB(i){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:r}=s.target;if(!r)return e(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}function kB(i,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function bh(){return D.useReducer(kB,{value:void 0,error:void 0})}var TB=function(i,t,e,n){function s(r){return r instanceof e?r:new e(function(a){a(r)})}return new(e||(e=Promise))(function(r,a){function c(p){try{h(n.next(p))}catch(g){a(g)}}function u(p){try{h(n.throw(p))}catch(g){a(g)}}function h(p){p.done?r(p.value):s(p.value).then(c,u)}h((n=n.apply(i,t||[])).next())})},$E=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const{PDFDataRangeTransport:PB}=qH,RB=(i,t)=>{switch(t){case WE.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");i(e);break}case WE.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");i(e);break}}};function GE(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const MB=D.forwardRef(function(t,e){var{children:n,className:s,error:r="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:c,file:u,inputRef:h,imageResourcesPath:p,loading:g="Loading PDF…",noData:y="No PDF file specified.",onItemClick:b,onLoadError:w,onLoadProgress:x,onLoadSuccess:A,onPassword:S=RB,onSourceError:P,onSourceSuccess:R,options:M,renderMode:I,rotate:F}=t,j=$E(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[N,W]=bh(),{value:$,error:G}=N,[K,rt]=bh(),{value:ot,error:nt}=K,J=D.useRef(new vB),Q=D.useRef([]),X=D.useRef(void 0),et=D.useRef(void 0);u&&u!==X.current&&GE(u)&&(Mn(!su(u,X.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),X.current=u),M&&M!==et.current&&(Mn(!su(M,et.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),et.current=M);const it=D.useRef({scrollPageIntoView:_t=>{const{dest:Lt,pageNumber:Ut,pageIndex:qt=Ut-1}=_t;if(b){b({dest:Lt,pageIndex:qt,pageNumber:Ut});return}const De=Q.current[qt];if(De){De.scrollIntoView();return}Mn(!1,`An internal link leading to page ${Ut} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});D.useImperativeHandle(e,()=>({linkService:J,pages:Q,viewer:it}),[]);function z(){R&&R()}function Y(){G&&(Mn(!1,G.toString()),P&&P(G))}function ut(){W({type:"RESET"})}D.useEffect(ut,[u,W]);const ft=D.useCallback(()=>TB(this,void 0,void 0,function*(){if(!u)return null;if(typeof u=="string")return rx(u)?{data:UE(u)}:(VE(),{url:u});if(u instanceof PB)return{range:u};if(xB(u))return{data:u};if(nv&&_B(u))return{data:yield CB(u)};if(le(typeof u=="object"),le(GE(u)),"url"in u&&typeof u.url=="string"){if(rx(u.url)){const{url:_t}=u,Lt=$E(u,["url"]),Ut=UE(_t);return Object.assign({data:Ut},Lt)}VE()}return u}),[u]);D.useEffect(()=>{const _t=Bp(ft());return _t.promise.then(Lt=>{W({type:"RESOLVE",value:Lt})}).catch(Lt=>{W({type:"REJECT",error:Lt})}),()=>{hc(_t)}},[ft,W]),D.useEffect(()=>{if(!(typeof $>"u")){if($===!1){Y();return}z()}},[$]);function At(){ot&&(A&&A(ot),Q.current=new Array(ot.numPages),J.current.setDocument(ot))}function mt(){nt&&(Mn(!1,nt.toString()),w&&w(nt))}D.useEffect(function(){rt({type:"RESET"})},[rt,$]),D.useEffect(function(){if(!$)return;const Lt=M?Object.assign(Object.assign({},$),M):$,Ut=gR(Lt);x&&(Ut.onProgress=x),S&&(Ut.onPassword=S);const qt=Ut,De=qt.promise.then(vn=>{rt({type:"RESOLVE",value:vn})}).catch(vn=>{qt.destroyed||rt({type:"REJECT",error:vn})});return()=>{De.finally(()=>qt.destroy())}},[M,rt,$]),D.useEffect(()=>{if(!(typeof ot>"u")){if(ot===!1){mt();return}At()}},[ot]),D.useEffect(function(){J.current.setViewer(it.current),J.current.setExternalLinkRel(a),J.current.setExternalLinkTarget(c)},[a,c]);const dt=D.useCallback((_t,Lt)=>{Q.current[_t]=Lt},[]),Et=D.useCallback(_t=>{delete Q.current[_t]},[]),Mt=D.useMemo(()=>({imageResourcesPath:p,linkService:J.current,onItemClick:b,pdf:ot,registerPage:dt,renderMode:I,rotate:F,unregisterPage:Et}),[p,b,ot,dt,I,F,Et]),Pt=D.useMemo(()=>yR(j,()=>ot),[j,ot]);function Gt(){return O.jsx(vR.Provider,{value:Mt,children:n})}function vt(){return u?ot==null?O.jsx(ru,{type:"loading",children:typeof g=="function"?g():g}):ot===!1?O.jsx(ru,{type:"error",children:typeof r=="function"?r():r}):Gt():O.jsx(ru,{type:"no-data",children:typeof y=="function"?y():y})}return O.jsx("div",Object.assign({className:xh("react-pdf__Document",s),ref:h,style:{"--scale-factor":"1"}},Pt,{children:vt()}))});function xR(){return D.useContext(vR)}function _R(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=i.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(r){e.forEach(function(a){typeof a=="function"?a(r):a&&(a.current=r)})}}const SR=D.createContext(null),AR={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},LB=/^H(\d+)$/;function IB(i){return i in AR}function iv(i){return"children"in i}function ER(i){return iv(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function DB(i){const t={};if(iv(i)){const{role:e}=i,n=e.match(LB);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(IB(e)){const s=AR[e];s&&(t.role=s)}}return t}function CR(i){const t={};if(iv(i)){if(i.alt!==void 0&&(t["aria-label"]=i.alt),i.lang!==void 0&&(t.lang=i.lang),ER(i)){const[e]=i.children;if(e){const n=CR(e);return Object.assign(Object.assign({},t),n)}}}else"id"in i&&(t["aria-owns"]=i.id);return t}function OB(i){return i?Object.assign(Object.assign({},DB(i)),CR(i)):null}function kR({className:i,node:t}){const e=D.useMemo(()=>OB(t),[t]),n=D.useMemo(()=>!iv(t)||ER(t)?null:t.children.map((s,r)=>O.jsx(kR,{node:s},r)),[t]);return O.jsx("span",Object.assign({className:i},e,{children:n}))}function sv(){return D.useContext(SR)}function FB(){const i=sv();le(i);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=i,[n,s]=bh(),{value:r,error:a}=n,{customTextRenderer:c,page:u}=i;function h(){r&&e&&e(r)}function p(){a&&(Mn(!1,a.toString()),t&&t(a))}return D.useEffect(function(){s({type:"RESET"})},[s,u]),D.useEffect(function(){if(c||!u)return;const y=Bp(u.getStructTree()),b=y;return y.promise.then(w=>{s({type:"RESOLVE",value:w})}).catch(w=>{s({type:"REJECT",error:w})}),()=>hc(b)},[c,u,s]),D.useEffect(()=>{if(r!==void 0){if(r===!1){p();return}h()}},[r]),r?O.jsx(kR,{className:"react-pdf__Page__structTree structTree",node:r}):null}const XE=fR;function NB(i){const t=sv();le(t);const e=Object.assign(Object.assign({},t),i),{_className:n,canvasBackground:s,devicePixelRatio:r=SB(),onRenderError:a,onRenderSuccess:c,page:u,renderForms:h,renderTextLayer:p,rotate:g,scale:y}=e,{canvasRef:b}=i;le(u);const w=D.useRef(null);function x(){u&&c&&c(ox(u,y))}function A(M){EB(M)||(Mn(!1,M.toString()),a&&a(M))}const S=D.useMemo(()=>u.getViewport({scale:y*r,rotation:g}),[r,u,g,y]),P=D.useMemo(()=>u.getViewport({scale:y,rotation:g}),[u,g,y]);D.useEffect(function(){if(!u)return;u.cleanup();const{current:I}=w;if(!I)return;I.width=S.width,I.height=S.height,I.style.width=`${Math.floor(P.width)}px`,I.style.height=`${Math.floor(P.height)}px`,I.style.visibility="hidden";const F={annotationMode:h?XE.ENABLE_FORMS:XE.ENABLE,canvasContext:I.getContext("2d",{alpha:!1}),viewport:S};s&&(F.background=s);const j=u.render(F),N=j;return j.promise.then(()=>{I.style.visibility="",x()}).catch(A),()=>hc(N)},[s,u,h,S,P]);const R=D.useCallback(()=>{const{current:M}=w;M&&(M.width=0,M.height=0)},[]);return D.useEffect(()=>R,[R]),O.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:_R(b,w),style:{display:"block",userSelect:"none"},children:p?O.jsx(FB,{}):null})}function jB(i){return"str"in i}function zB(){const i=sv();le(i);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:r,page:a,pageIndex:c,pageNumber:u,rotate:h,scale:p}=i;le(a);const[g,y]=bh(),{value:b,error:w}=g,x=D.useRef(null);Mn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function A(){b&&n&&n(b)}function S(){w&&(Mn(!1,w.toString()),e&&e(w))}D.useEffect(function(){y({type:"RESET"})},[a,y]),D.useEffect(function(){if(!a)return;const N=Bp(a.getTextContent()),W=N;return N.promise.then($=>{y({type:"RESOLVE",value:$})}).catch($=>{y({type:"REJECT",error:$})}),()=>hc(W)},[a,y]),D.useEffect(()=>{if(b!==void 0){if(b===!1){S();return}A()}},[b]);const P=D.useCallback(()=>{r&&r()},[r]),R=D.useCallback(j=>{Mn(!1,j.toString()),s&&s(j)},[s]);function M(){const j=x.current;j&&j.classList.add("selecting")}function I(){const j=x.current;j&&j.classList.remove("selecting")}const F=D.useMemo(()=>a.getViewport({scale:p,rotation:h}),[a,h,p]);return D.useLayoutEffect(function(){if(!a||!b)return;const{current:N}=x;if(!N)return;N.innerHTML="";const W=a.streamTextContent({includeMarkedContent:!0}),$={container:N,textContentSource:W,viewport:F},G=new pR($),K=G;return G.render().then(()=>{const rt=document.createElement("div");rt.className="endOfContent",N.append(rt);const ot=N.querySelectorAll('[role="presentation"]');if(t){let nt=0;b.items.forEach((J,Q)=>{if(!jB(J))return;const X=ot[nt];if(!X)return;const et=t(Object.assign({pageIndex:c,pageNumber:u,itemIndex:Q},J));X.innerHTML=et,nt+=J.str&&J.hasEOL?2:1})}P()}).catch(R),()=>hc(K)},[t,R,P,a,c,u,b,F]),O.jsx("div",{className:xh("react-pdf__Page__textContent","textLayer"),onMouseUp:I,onMouseDown:M,ref:x})}function HB(){const i=xR(),t=sv();le(t);const e=Object.assign(Object.assign({},i),t),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:r,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:u,page:h,pdf:p,renderForms:g,rotate:y,scale:b=1}=e;le(p),le(h),le(s);const[w,x]=bh(),{value:A,error:S}=w,P=D.useRef(null);Mn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function R(){A&&a&&a(A)}function M(){S&&(Mn(!1,S.toString()),r&&r(S))}D.useEffect(function(){x({type:"RESET"})},[x,h]),D.useEffect(function(){if(!h)return;const W=Bp(h.getAnnotations()),$=W;return W.promise.then(G=>{x({type:"RESOLVE",value:G})}).catch(G=>{x({type:"REJECT",error:G})}),()=>{hc($)}},[x,h]),D.useEffect(()=>{if(A!==void 0){if(A===!1){M();return}R()}},[A]);function I(){u&&u()}function F(N){Mn(!1,`${N}`),c&&c(N)}const j=D.useMemo(()=>h.getViewport({scale:b,rotation:y}),[h,y,b]);return D.useEffect(function(){if(!p||!h||!s||!A)return;const{current:W}=P;if(!W)return;const $=j.clone({dontFlip:!0}),G={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:W,l10n:null,page:h,structTreeLayer:null,viewport:$},K={annotations:A,annotationStorage:p.annotationStorage,div:W,imageResourcesPath:n,linkService:s,page:h,renderForms:g,viewport:$};W.innerHTML="";try{new dR(G).render(K),I()}catch(rt){F(rt)}return()=>{}},[A,n,s,h,p,g,j]),O.jsx("div",{className:xh("react-pdf__Page__annotations","annotationLayer"),ref:P})}var BB=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const qE=1;function WB(i){const t=xR(),e=Object.assign(Object.assign({},t),i),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:r,canvasRef:a,children:c,className:u,customRenderer:h,customTextRenderer:p,devicePixelRatio:g,error:y="Failed to load the page.",height:b,inputRef:w,loading:x="Loading page…",noData:A="No page specified.",onGetAnnotationsError:S,onGetAnnotationsSuccess:P,onGetStructTreeError:R,onGetStructTreeSuccess:M,onGetTextError:I,onGetTextSuccess:F,onLoadError:j,onLoadSuccess:N,onRenderAnnotationLayerError:W,onRenderAnnotationLayerSuccess:$,onRenderError:G,onRenderSuccess:K,onRenderTextLayerError:rt,onRenderTextLayerSuccess:ot,pageIndex:nt,pageNumber:J,pdf:Q,registerPage:X,renderAnnotationLayer:et=!0,renderForms:it=!1,renderMode:z="canvas",renderTextLayer:Y=!0,rotate:ut,scale:ft=qE,unregisterPage:At,width:mt}=e,dt=BB(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Et,Mt]=bh(),{value:Pt,error:Gt}=Et,vt=D.useRef(null);le(Q);const _t=Va(J)?J-1:nt??null,Lt=J??(Va(nt)?nt+1:null),Ut=ut??(Pt?Pt.rotate:null),qt=D.useMemo(()=>{if(!Pt)return null;let hi=1;const Qi=ft??qE;if(mt||b){const Ji=Pt.getViewport({scale:1,rotation:Ut});mt?hi=mt/Ji.width:b&&(hi=b/Ji.height)}return Qi*hi},[b,Pt,Ut,ft,mt]);D.useEffect(function(){return()=>{Va(_t)&&s&&At&&At(_t)}},[s,Q,_t,At]);function De(){if(N){if(!Pt||!qt)return;N(ox(Pt,qt))}if(s&&X){if(!Va(_t)||!vt.current)return;X(_t,vt.current)}}function vn(){Gt&&(Mn(!1,Gt.toString()),j&&j(Gt))}D.useEffect(function(){Mt({type:"RESET"})},[Mt,Q,_t]),D.useEffect(function(){if(!Q||!Lt)return;const Qi=Bp(Q.getPage(Lt)),Ji=Qi;return Qi.promise.then(bn=>{Mt({type:"RESOLVE",value:bn})}).catch(bn=>{Mt({type:"REJECT",error:bn})}),()=>hc(Ji)},[Mt,Q,Lt]),D.useEffect(()=>{if(Pt!==void 0){if(Pt===!1){vn();return}De()}},[Pt,qt]);const $n=D.useMemo(()=>Pt&&Va(_t)&&Lt&&Va(Ut)&&Va(qt)?{_className:n,canvasBackground:r,customTextRenderer:p,devicePixelRatio:g,onGetAnnotationsError:S,onGetAnnotationsSuccess:P,onGetStructTreeError:R,onGetStructTreeSuccess:M,onGetTextError:I,onGetTextSuccess:F,onRenderAnnotationLayerError:W,onRenderAnnotationLayerSuccess:$,onRenderError:G,onRenderSuccess:K,onRenderTextLayerError:rt,onRenderTextLayerSuccess:ot,page:Pt,pageIndex:_t,pageNumber:Lt,renderForms:it,renderTextLayer:Y,rotate:Ut,scale:qt}:null,[n,r,p,g,S,P,R,M,I,F,W,$,G,K,rt,ot,Pt,_t,Lt,it,Y,Ut,qt]),Dn=D.useMemo(()=>yR(dt,()=>Pt&&(qt?ox(Pt,qt):void 0)),[dt,Pt,qt]),an=`${_t}@${qt}/${Ut}`;function ar(){switch(z){case"custom":return le(h),O.jsx(h,{},`${an}_custom`);case"none":return null;case"canvas":default:return O.jsx(NB,{canvasRef:a},`${an}_canvas`)}}function ao(){return Y?O.jsx(zB,{},`${an}_text`):null}function Aa(){return et?O.jsx(HB,{},`${an}_annotations`):null}function Ea(){return O.jsxs(SR.Provider,{value:$n,children:[ar(),ao(),Aa(),c]})}function vc(){return Lt?Q===null||Pt===void 0||Pt===null?O.jsx(ru,{type:"loading",children:typeof x=="function"?x():x}):Q===!1||Pt===!1?O.jsx(ru,{type:"error",children:typeof y=="function"?y():y}):Ea():O.jsx(ru,{type:"no-data",children:typeof A=="function"?A():A})}return O.jsx("div",Object.assign({className:xh(n,u),"data-page-number":Lt,ref:_R(w,vt),style:{"--scale-factor":`${qt}`,backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Dn,{children:vc()}))}AB();Zx.workerSrc="pdf.worker.mjs";Zx.workerSrc=`//unpkg.com/pdfjs-dist@${mR}/build/pdf.worker.min.js`;const UB=({pdfFile:i})=>{const[t,e]=D.useState(null),[n,s]=D.useState(1),r=()=>{s(u=>Math.max(u-1,1))},a=()=>{t&&s(u=>Math.min(u+1,t))},c=u=>{e(u.numPages)};return O.jsx("div",{className:"min-h-screen p-4 bg-gray-50",children:O.jsxs(sT,{className:"max-w-4xl mx-auto",children:[O.jsx(rT,{children:O.jsx(oT,{className:"text-2xl font-bold text-center",children:"PDF Viewer"})}),O.jsxs(aT,{children:[O.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[O.jsxs(ac,{variant:"outline",onClick:r,disabled:n===1,className:"flex items-center gap-2",children:[O.jsx(Ik,{className:"w-4 h-4"}),"Previous"]}),O.jsxs(ac,{variant:"outline",onClick:a,disabled:n===t,className:"flex items-center gap-2",children:["Next",O.jsx(Rx,{className:"w-4 h-4"})]})]}),O.jsx("div",{className:"flex items-center justify-center p-4 bg-white border rounded-lg",children:O.jsx(MB,{file:i.url,onLoadSuccess:()=>c,loading:O.jsxs("div",{className:"flex flex-col items-center gap-2",children:[O.jsx(iN,{className:"w-4 h-8 animate-spin"}),O.jsx("p",{className:"text-gray-500",children:"Loading PDF..."})]}),error:O.jsx("div",{className:"text-red-500",children:"Failed to load PDF file. Please check the file and try again."}),children:O.jsx(WB,{pageNumber:n,renderAnnotationLayer:!1,renderTextLayer:!1})})}),O.jsxs("div",{className:"mt-4 text-center text-gray-600",children:["Page ",n," of ",t||0]})]})]})})},VB=()=>{const i={url:"https://www.pnm.gov.my/pnm/resources/pdf%20file/PKMM/Undang-undang%20Laut%20(presentation).pdf"};return O.jsx(UB,{pdfFile:i})};function $B(){return O.jsx(O.Fragment,{children:O.jsxs(HI,{defaultValue:"account",className:"p-5 bg-dark",children:[O.jsx(FC,{className:"p-5   max-md:w-[100%] justify-around",children:O.jsx(NC,{value:"account",className:"w-full",children:"Profile"})}),O.jsx(wm,{value:"account",children:O.jsx(oj,{})}),O.jsx(wm,{value:"portfolio",children:"Change your portfolio here."}),O.jsx(wm,{value:"resume",children:O.jsx(VB,{})})]})})}const GB=new uD;LL.createRoot(document.getElementById("root")).render(O.jsx(gD,{client:GB,children:O.jsx(D.StrictMode,{children:O.jsx($B,{})})}));
